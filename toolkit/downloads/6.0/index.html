<?php

$title = "Globus Toolkit 5.2.5 Download";
include_once( "/mcs/globus.org/include/globus_header.inc" ); 
$gt_release = "6.0";
$gt_releasedoc = "6.0";
$top_dir = "/ftppub/gt6";
$top_local_dir = "/mcs/globus.org";
$repos_dir = $top_dir . "/installers/repo";
$rpm_repo = $repos_dir . "/" . "globus-toolkit-repo-latest.noarch.rpm";
$rpm_repo = $repos_dir . "/" . "globus-toolkit-repo-latest.noarch.rpm";
$deb_repo = $repos_dir . "/" . "globus-toolkit-repo_latest_all.deb";
$src_dir = $top_dir . "/installers/src";
$src_installer = $src_dir ."/". "globus_toolkit-" . $gt_release . ".tar.gz";
$mac_dir = $top_dir . "/installers/mac";
$mac_installer = $mac_dir . "/globus_toolkit-" . $gt_release . ".pkg";
$mac_tarball_build = 0;
$mac_dir_handle = opendir($top_local_dir . $mac_dir);

function get_md5_file($filename) {
    return $filename . ".md5";
}

function get_sha1_file($filename) {
    return $filename . ".sha1";
}

while (false !== ($entry = readdir($mac_dir_handle))) {
    if ( preg_match( "/^(Globus-" . $gt_release . "-build(\d+).tar.gz)$/", $entry, $matches ) ) {

        if ((int)$matches[2] > $mac_tarball_build) {
            $mac_tarball = $mac_dir . "/" . $matches[1];
            $mac_tarball_build = (int) $matches[2];
        }
    }
}
closedir($mac_dir_handle);
$linux_dir = $top_dir . "/installers/linux";
$linux_32_tarball = "";
$linux_64_tarball = "";
$linux_32_tarball_build = 0;
$linux_64_tarball_build = 0;
$linux_dir_handle = opendir($top_local_dir . $linux_dir);
while (false !== ($entry = readdir($linux_dir_handle))) {
    if ( preg_match( "/^(globus_toolkit-".$gt_release."-(i686|x86_64)-unknown-linux-gnu-Build-(\d+).tar.gz)$/", $entry, $matches) ) {
        $arch = $matches[2];
        $buildno = (int) $matches[3];
        if ($arch === 'i686') {
            if ($buildno > $linux_32_tarball_build) {
                $linux_32_tarball_build = $buildno;
                $linux_32_tarball = $linux_dir . "/" . $matches[1];
            }
        } else if ($arch === 'x86_64') {
            if ($buildno > $linux_64_tarball_build) {
                $linux_64_tarball_build = $buildno;
                $linux_64_tarball = $linux_dir . "/" . $matches[1];
            }
        }
    }
}
closedir($linux_dir_handle);

$windows_dir = $top_dir . "/installers/windows";
$cygwin32_tarball = "";
$cygwin64_tarball = "";
$mingw32_tarball = "";
$mingw64_tarball = "";
$cygwin32_tarball_build = "";
$cygwin64_tarball_build = "";
$mingw32_tarball_build = "";
$mingw64_tarball_build = "";
$windows_dir_handle = opendir($top_local_dir . $windows_dir);
while (false !== ($entry = readdir($windows_dir_handle))) {
    if ( preg_match( "/^(globus_toolkit-".$gt_release."-(i686|x86_64)-(pc-cygwin|w64-mingw32)-Build-(\d+).zip)$/", $entry, $matches) ) {
        $arch = $matches[2];
        $os = $matches[3];
        $buildno = (int) $matches[4];

        if ($arch === 'i686' && $os == 'pc-cygwin') {
            if ($buildno > $cygwin32_tarball_build) {
                $cygwin32_tarball_build = $buildno;
                $cygwin32_tarball = $windows_dir . "/" . $matches[1];
            }
        } else if ($arch === 'x86_64' && $os == 'pc-cygwin') {
            if ($buildno > $cygwin64_tarball_build) {
                $cygwin64_tarball_build = $buildno;
                $cygwin64_tarball = $windows_dir . "/" . $matches[1];
            }
        } else if ($arch === 'i686' && $os == 'w64-mingw32') {
            if ($buildno > $mingw32_tarball_build) {
                $mingw32_tarball_build = $buildno;
                $mingw32_tarball = $windows_dir . "/" . $matches[1];
            }
        } else if ($arch === 'x86_64' && $os == 'w64-mingw32') {
            if ($buildno > $mingw64_tarball_build) {
                $mingw64_tarball_build = $buildno;
                $mingw64_tarball = $windows_dir . "/" . $matches[1];
            }
        }
    }
}
closedir($windows_dir_handle);
?>


<h1>Globus Toolkit <?php print $gt_release?> Download</h1>
<p>GT6.0 is an open source software toolkit used for building grids with services written in C. The services run on Unix platforms, including Linux.</p>
<p>For installation instructions, please see the <a
  href="../../docs/<?php print $gt_releasedoc ?>/admin/install/">Globus Toolkit <?php print $gt_releasedoc ?> Admin Guide</a> or
  <a href="../../docs/<?php print $gt_releasedoc?>/admin/quickstart/">Globus Toolkit <?php print $gt_releasedoc ?> Quickstart</a>.
</p>
<p>For information about the contents, please refer to the <a href="../../docs/<?php print $gt_releasedoc ?>/rn/#rn">Release Notes</a> or the <a href="../../docs/<?php print $gt_releasedoc?>/">full documentation</a>.</p>

<h2>Supported Systems</h2>
<p>We provide binary packages of the Globus Toolkit for many operating systems.
The source for the Globus Toolkit is also available for systems which we do not
directly support.

<table border="1" frame="box" rules="all">
<tr>
    <th>&nbsp;Operating System&nbsp;</th>
    <th>Distribution</th>
    <th>Version</th>
    <th>&nbsp;Architecture&nbsp;</th>
    <th>Package</th>
</tr>
<tr>
<td align="center" rowspan="8">Linux</td>
<td rowspan="2" align="center">CentOS<br />Red Hat Enterprise Linux<br />Scientific Linux</td>
<td align="center">5, 6</td>
<td align="center">i386<br />x86_64</td>
<td rowspan="4" align="right"><a href="<?php echo $rpm_repo?>">RPM Repository Package</a> [<a href="<?php echo get_md5_file($rpm_repo)?>">md5</a>] [<a href="<?php echo get_sha1_file($rpm_repo)?>">sha1</a>]</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">x86_64</td>
</tr>
<td align="center">Fedora</td>
<td align="center">19, 20</td>
<td align="center">i386<br />x86_64</td>
</tr>
<tr>
<td align="center">SUSE Linux Enterprise Server</td>
<td align="center">11SP3</td>
<td align="center">x86_64</td>
</tr>
<tr>
<td align="center">Debian GNU/Linux</td>
<td align="center">6, 7</td>
<td align="center">i386<br />x86_64</td>
<td rowspan="2" align="right"><a href="<?php echo $deb_repo?>">Deb Repository Package</a>
    [<a href="<?php echo get_md5_file($deb_repo)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($deb_repo) ?>">sha1</a>]</td>
</tr>
<tr>
<td align="center">Ubuntu Linux</td>
<td align="center">10.04LTS, 12.04LTS, 14.04LTS, 14.10</td>
<td align="center">i386<br />amd64</td>
</tr>
<tr>
<td rowspan="2" colspan="2" align="center">Other</td>
<td align="center">i386</td>
<td align="right"><a href="<?php echo $linux_32_tarball?>">Binary Tarball</a>
    [<a href="<?php echo get_md5_file($linux_32_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($linux_32_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td align="center">x86_64</td>
<td align="right"><a href="<?php echo $linux_64_tarball?>">Binary Tarball</a>
    [<a href="<?php echo get_md5_file($linux_64_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($linux_64_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td align="center" colspan="2">Mac OS X</td>
<td align="center">10.6, 10.7, 10.8, 10.9, 10.10</td>
<td align="center">Universal (i386, x86_64)</td>
<td align="right"><a href="<?php echo $mac_installer?>">Installable Package</a>
    [<a href="<?php echo get_md5_file($mac_installer)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($mac_installer)?>">sha1</a>]<br />
    <a href="<?php echo $mac_tarball?>">Binary Tarball</a>
    [<a href="<?php echo get_md5_file($mac_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($mac_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td rowspan="4" align="center">Windows</td>
<td rowspan="2" align="center">cygwin</td>
<td rowspan="4" align="center">Vista, 7, 8</td>
<td align="center">i686</td>
<td align="right"><a href="<?php echo $cygwin32_tarball?>">Binary Zipfile</a>
    [<a href="<?php echo get_md5_file($cygwin32_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($cygwin32_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td align="center">x86_64</td>
<td align="right"><a href="<?php echo $cygwin64_tarball?>">Binary Zipfile</a>
    [<a href="<?php echo get_md5_file($cygwin64_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($cygwin64_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td rowspan="2" align="center">native runtime</td>
<td align="center">i686</td>
<td align="right"><a href="<?php echo $mingw32_tarball?>">Binary Zipfile</a>
    [<a href="<?php echo get_md5_file($mingw32_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($mingw32_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td align="center">x86_64</td>
<td align="right"><a href="<?php echo $mingw64_tarball?>">Binary Zipfile</a>
    [<a href="<?php echo get_md5_file($mingw64_tarball)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($mingw64_tarball)?>">sha1</a>]</td>
</tr>
<tr>
<td colspan="4" align="center">Other POSIX-like systems</td>
<td align="right"><a href="<?php echo $src_installer?>">Source Tarball</a>
    [<a href="<?php echo get_md5_file($src_installer)?>">md5</a>]
    [<a href="<?php echo get_sha1_file($src_installer)?>">sha1</a>]</td>
</tr>
</table>

<h2>Linux Repository Packages</h2>

<p>Once you install one of the repository packages, you can use <b>yum</b>, <b>zypper</b> or <b>apt-get</b> to install the toolkit, as described in the <a href="../../docs/<?php print $gt_releasedoc ?>/admin/install/#install-bininst">installation instructions</a>. These repositories contain the <?php print $gt_release?> release plus the updates available on the <a href="../../advisories.html">updates page</a>.</p>

<h2>Linux Binary Tarball</h2>
<p>For linux systems other than those mentioned above, you can use one the
linux binary tarballs from the table, depending on your runtime architecture.
These tarballs contain the Globus Toolkit, compiled against EL5
libraries and include some specific libraries that they were linked against
to avoid problems with missing dynamic libraries.<p>

<h2>Mac OS X Installer and Binary Tarball</h2>
<p> The Mac OS X binary package contains binaries of the Globus Toolkit for Mac
OS X (10.6 and newer). When installed, the packages are installed in
<code>/Library/Globus</code> or <code>$HOME/Libary/Globus</code> and the
system or user paths are updated to include the Globus binaries and
libraries.</p>

<p>If you wish to use parts of the Globus Toolkit without using the installer,
you can choose the Mac OS X Binary Tarball, which contains the same binaries
and libraries. They can be untarred where you wish and you'll have to set your
<code>PATH</code> yourself.</p>

<h2>Windows Binary Zipfiles</h2>
<p> The Windows Binary Zipfiles contain the Globus Toolkit compiled for
windows. The zipfiles can be opened where you wish, and then you must set the
<code>PATH</code> environment variable to point to the binaries and libraries
in the location you unzip them in.
</p>

<h2>Updates</h2>
<p>The following updates to the source included in the source installer have been published
since the installer was generated. See
<a href="../../advisories.html?version=6.0">the updates page</a>
for more information and installation instructions.</p>
<table width="100%" border="0" cellpadding="5">
  <tr>
    <th width="26%" scope="col"><div align="left">Update Source Package</div></th>
    <th width="74%" scope="col"><div align="left">SHA-1 Checksum</div></th>
  </tr>

  <?php
    if (($fd = fopen( "../../advisories.txt", "r" )) != false)
    {
        while ( !feof( $fd ) )
        {
            $date = "";
            $name = "";
            $ver = "";
            $type = "";
            $description = "";
            $version_dir = "gt6/packages";

            $buffer = fgets( $fd, 4096 );
            if ( preg_match( "/^\s*$/", $buffer ) )
            {
                continue;
            }
            else if ( eregi( "^#", $buffer ) )
            {
                continue;
            }
            else 
            {
                list( $date, $name, $ver, $type, $description ) = explode( ";", $buffer );
                if ( preg_match( "/^6.0/", $ver ) )
                {
                    print "<tr>\n";
               
                    print "<td>\n";
                    $packages = explode( ",", $name );
                    foreach( $packages as $name )
                    {
                        $binsrc = "src";
                        $pkgformat = "tar.gz";
                            
                        $name = eregi_replace( "(.+-*[0-9]+.[0-9]*.[0-9]*[\.a-z_]*)", 
                            "<a name=\"\\1\" href=\"http://www.globus.org/ftppub/$version_dir/updates/src/\\1\">\\1</a>", $name );
                        print "$name<br>\n";
                    }
                    print "</td>\n<td>";
                    foreach( $packages as $name )
                    {
                        $sha1fd = fopen("../../../ftppub/$version_dir/updates/src/$name.sha1", "r");
                        $sha1sum = fgets($sha1fd, 256);
                        $sumparts = explode(" ", $sha1sum); 
                        print "<pre>$sumparts[0]</pre><br>";
                    }
                    print "</td>\n";
                }
            }
        }
    }
    ?>
</table>
<p>&nbsp;</p>
<?php include("http://www.globus.org/include/globus_footer.inc"); ?>
