<HTML>
   <HEAD>
       <TITLE> Code Quality Tools and Guidelines for the Globus Project</TITLE>
       <BASE Href="http://www-unix.globus.org/toolkit/testing/tools/">
   </HEAD>
   <BODY>
      <?php include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); ?>

      <H1> Code Quality Tools and Guidlines for the Globus Project </H1>
      <H2>Introduction</H2>
      <P>
         These pages are intended to be a gathering point for use of Software Quality tools within
         the Globus Toolkit Open Source Project: What tools are available, which do we use, how do we set 
         up and run them, what do we expect to learn from them.

         Developers are encouraged to contribute to this site. We can save other developers loads of time with
         our knowledge. Here's a few examples:
      </P>
      <UL>
         <LI>
            Someone who has used JProbe with Tomcat could post an overview could post an overview and step 
            by step instructions.
         </LI>
         <LI>
            How have people used YourKit Java Profiler memory allocation points to identify problems
            in a Java application?
         </LI>
         <LI>
            What percentage code coverage are developers achieving for their unit tests as reported by
            Clover coverage tool?
         </LI>
      </UL>
      <P>
         If you have something to contribute please drop a note to Bob Gaffaney
         &lt;<a href="mailto:gaffaney@mcs.anl.gov">gaffaney@mcs.anl.gov</a>&gt;
      </P>
      <H2>Survey of Tools</H2>
      <P>
         There are lots of tools out there. Some are focused on a specific aspect of Code Quality such as 
         Unit Tests, while others comprise a suite that do Profling, Memory Debugging, Thread Analysis and
         Coverage. Some are free, some cost lots of money. 
      </P>
      <P>
         Tools are generally divided by software technology. For the Globus Toolkit, this means Java and C.
      </P>
      <P>
         A general survey of Code Quality Tools was done in 2004 in to understand what would be useful for 
         Globus development. A link to that information is <a href="survey.html">here</a>
      </P>
      <H2>Tools in Use for Globus Development</H2>
      <H3>YourKit Java Profiler</H3>
      <table>
         <tr>
            <td>
               <a href="http://www.yourkit.com/features/index.jsp">
                  <img src="http://www-unix.globus.org/toolkit/testing/tools/yjp.gif">
               </a>
            </td>
            <td>
               &nbsp;&nbsp;&nbsp;
            </td>
            <td>
               <P>
                  The YourKit Java Profiler (YJP) is a commercial product from YourKit.com 
                  in St.Petersburg, Russia. Vladimir Kondratyev, a founder of the company, 
                  has generously granted YJP licenses to Globus developers in support of 
                  the Open Source status of the Toolkit.
               </P>
               <P>
                  This is an excellent product that covers the most important areas for 
                  which we were using the JProbe Suite, namely Memory Debugging and
                  Profiling. 
               </P>
            </td>
         </tr>
      </table>
      <P>
         YJP does not require instrumenting or rebuilding the code, but only that 
         the the environment be set up for the YJP binaries and libraries and that 
         the Java command line include an argument for the yjpagent.
      </P>
      <P>
         The YJP is a GUI application and therefore needs to run on a Linux machine 
         with an X-Windows Server running.
      </P>
      <P>
         So far we have been using YJP on Linux only since the Globus Service Container 
         has been the primary focus of testing. It also runs on Windows and coming 
         versions will run on OS-X Macs.
      </P>
      <P>
         Instuctions for setting up and running YJP on a Linux machine can be found 
         &lt;<a href="yjp-evaluation.html">here</a>&gt; .
      </P>
      <P>
         Note that YJP does not yet work with the IBM JVM. This is coming soon. YJP 
         integrates with several popular IDE's. If any developers have successfully
         tried this they are encouraged to contribute their experiences and step by 
         step instructions.
      </P>
      <P>
         One nice feature of YJP is that collected snapshots can be examined at 
         a later date by anyone running the GUI client, even Clients on other
         platforms such as Windows or Mac.
      </P>
      <P>
         The GUI is used to connect to the yjp agent on a running Globus container.
         It should be possible to do this remotely and to trigger snapshot collection
         on a remote machine. If anyone has done this they are encouraged to post 
         their experiences and any relevant instructions here.
      </P>
      <H3>Valgrind</H3>
      <P>
         Globus C Developers have been using this excellent Open Source tools for a long
         time. More informatoin will be posted here soon . . .
      </P>
      <H3>Clover</H3>
      <table>
         <tr>
            <td>
               <a href="http://www.cenqua.com/clover/">
                  <img src="http://www-unix.globus.org/toolkit/testing/tools/clover_logo_small.gif">
               </a>
            </td>
            <td>
               &nbsp;&nbsp;&nbsp;
            </td>
            <td>
               <P>
                  Clover is a commercial product from cenqua.com. Cenqua has generously granted to 
                  a license for Clover to developers of the Globus Toolkit in support of the Open
                  Source status of the project.
               </P>
            </td>
         </tr>
      </table>
      <P>
         Clover does require that the the Java build files be modified and the code rebuilt.
         The rebuilt code must run with Clover.jar. Clover produces beautiful reports that 
         show percentage code coverage and which blocks of code are exercised by Unit Tests
         or not.
      </P>
      <P>
         Jarek Gawor makes good use of Clover and runs Unit Tests on Core on a regular basis. 
         See his  &lt;<a href="jarek-062904.html">email</a>&gt; of June, 2004 for more 
         information.
      </P>
      <P>
         To see Jarek's nightly WSRF Core Unit Test Coverage Reports click 
         &lt;<a href="http://www-unix.globus.org/wsrf/core/HEAD/clover/clover-reports-html">here</a>&gt; .
      </P>
      <P>
         Some additional information on setting up and using Clover may be found in this 
         &lt;<a href="rg-062904.html">email</a>&gt; from June of 2004.
      </P>
         Clover Users are encouraged to post more detailed information here on setting up and
         using Clover.
      <P>
      </P> 
      <H3>JProbe Suite</H3>
      <P>
         JProbe is a comprehensive set of Tools for analysis of Java programs. It has modules for
         Memory Debugging, Profiling, Thread Analysis and Coverage. JProbe is a commercial product
         (licenses are very expensive) produced by Quest Software (www.quest.com).
         The JProbe Profiler is an exception. It is distributed for free on the Quest website.
      </P>
      <P>
         The Lab owns two "Node Locked" JProbe licenses, one for Windows and one for Linux. The
         Windows installtion is located on maculate.mcs.anl.gov and the Linux installation is on
         ruly.mcs.anl.gov.  "Node Locked" means just that. The Tools may be used be to analyze
         Java applications running on those two machines only, although the X-Windows GUI may run
         somewhere else. Fifteen day trial versions are available.
      </P>
      <P>
         Floating licenses would be more useful. With these the tools can be loaded on any number 
         of machines, but a centralized license server only allows one copy at a time to run. 
         Upgrading to floating licenses may be considered if there is a popular demand for the 
         tools, but the YourKit Java Profiler has proved to be very effective in Java 
         analysis, diminishing the need to upgrade to floating licenses.
      </P>
      <P>
         JProbe has been successfully configured and used for analysis of Java applications. 
         Installation, configuration and operational notes from these efforts will be collected 
         and posted here.
      </P>
      <H2>Guidelines For The Use Of Tools in Globus Development</H2>
      <P>
         Coming Soon: Recommendations for use of Tools for Globus Toolkit Development
      </P>
      <H2>Links</H2>
      <P>
         Coming Soon: an extensive list of Tools resources on the web, such as . . .
      </P>
      <UL>
         <LI> 
            <A Href="http://www.javaperformancetuning.com/resources.shtml">Java Performance Tuning</A>
         </LI>
      </UL>
      <?php include("/mcs/www-unix.globus.org/include/globus_footer.inc"); ?>
   </BODY>
</HTML>




