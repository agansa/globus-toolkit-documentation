<html>
<head>
  <link rel="stylesheet" href="images/style.css" type="text/css"/>
  <meta http-equiv="content-type" content="text/html;charset=iso-8859-1"/>
</head>

<body>
  <div>
    <table bgcolor="#ffffff" width="100%">

      <!-- header -->

      <tr>
        <td>
          <table id="header" cellspacing="0" cellpadding="0">
            <tr>
              <td><img src="images/yklogo.gif"/></td>
              <td id="header-central-part">
                <table cellpadding="0" cellspacing="0" height="100%">
                  <tr valign="top" hight="100%">
                    <td id="header-logo-row">
                      <table cellpadding="0" cellspacing="0" >
                        <tr>
                          <td><img src="images/yklogo2.gif"/></td>
                          <td id="header-dont-get-lost">Don't get lost in data, get information!</td>
                        </tr>
                      </table>
                    </td>
                  </tr>

                  <!-- navigator -->

                  <tr valign="bottom">
                    <td>
                      <table cellpadding="0" cellspacing="0" width="100%">
                        <tbody>
                          <tr>
                            <td width="100%"/>
                            <td id="header-selected-topic">HELP</td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td id="header-non-selected-topic"><a class="topic" href="../faq/index.html">FAQ</a></td>
<td>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
<td id="header-non-selected-topic"><a class="topic" href="../printer-friendly-help/index.html"><nobr>PRINTER FRIENDLY HELP</nobr></a></td>
                            <td width="100%"/>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                </table>
              </td>
              <td><img src="images/the-java-profiler.gif"/></td>
            </tr>
          </table>
        </td>
      </tr>

      <!-- content -->

      <tr>
        <td valign="top">
          <table>
  <tr>
    <td id="topic-tree" width="29%" valign="top">
      <div>
      <ul id="bulletless-list">
<li id="topic-link">Getting started</li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/index.html">Running profiler</a></li>
<li id="topic-link"><a href="../help/running_with_profiler.html">Running applications with profiler</a></li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/agent.html">Agent configuration</a></li>
</ul>
</ul>
<li id="topic-link"><a href="../help/performance_problems.html">Solution of performance problems</a></li>
<li id="topic-link">CPU profiling</li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/cpu_howto.html">How to profile CPU</a></li>
<li id="topic-link"><a href="../help/cpu_methods.html">Methods of CPU profiling</a></li>
<li id="topic-link"><a href="../help/cpu_stat.html">CPU Statistics view</a></li>
<li id="topic-link"><a href="../help/cpu_method_view.html">Method view</a></li>
<li id="topic-link"><a href="../help/cpu_snapshot_properties.html">CPU snapshot properties</a></li>
</ul>
<li id="topic-link">Memory profiling</li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/memory_snapshots.html">Snapshots</a></li>
<li id="topic-link"><a href="../help/allocations.html">Allocation recording</a></li>
<li id="topic-link"><a href="../help/sizes.html">Shallow and retained sizes</a></li>
<li id="topic-link">Memory views</li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/objects_view.html">Objects view</a></li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/objects_view_stat.html">Statistics</a></li>
<li id="topic-link"><a href="../help/objects_view_explorer.html">Object Explorer</a></li>
<li id="topic-link"><a href="../help/objects_view_alloc_hot_spots.html">Allocation hot spots</a></li>
<li id="topic-link"><a href="../help/objects_view_alloc_tree.html">Allocation call tree</a></li>
</ul>
<li id="topic-link"><a href="../help/garbage.html">Garbage view</a></li>
<li id="topic-link"><a href="../help/mem_method_view.html">Method view</a></li>
<li id="topic-link"><a href="../help/gc_roots.html">GC roots view</a></li>
<li id="topic-link"><a href="../help/paths.html">Working with paths</a></li>
</ul>
<li id="topic-link"><a href="../help/compare_snapshots.html">Ability to compare snapshots</a></li>
<li id="topic-link"><a href="../help/memory_actions.html">Useful actions</a></li>
<li id="topic-link"><a href="../help/memory_snapshot_properties.html">Memory snapshot properties</a></li>
<li id="topic-link"><b>Set description language</b></li>
</ul>
<li id="topic-link"><a href="../help/ide_integration.html">IDE integration</a></li>
<ul id="bulletless-list">
<li id="topic-link"><a href="../help/ide_integration_plugins.html">Installation of plugins</a></li>
<li id="topic-link"><a href="../help/ide_integration_run.html">Run profiling-enabled applications from IDE</a></li>
<li id="topic-link"><a href="../help/ide_integration_navigation.html">Navigation action</a></li>
</ul>
<li id="topic-link"><a href="../help/filters.html">Filters</a></li>
<li id="topic-link"><a href="../help/options.html">User interface customization</a></li>
<li id="topic-link"><a href="../help/api.html">Profiler API</a></li>
</ul>

      </div>
    </td>
    <td id="topic" valign="top">
      <div>
      <h2 class="faq">Set description language</h2>

  <p>
    This XML-based language provides advanced ability to specify sets of objects
    in a declarative way. It can be used for e.g. examination of memory distribution in automated memory tests.
  </p>

  <p>
    To find some examples please go to <code class="action">Settings | Sets of Objects...</code> in the main menu.
    Action <code class="action">View | Predefined Set...</code> allows to open sets defined in <code class="action">Settings | Sets of Objects...</code>.
  </p>

  <ul>

  <li>
    <p>Tag <b>objects</b> specifies objects of particular class(es).</p>

    <p>Mandatory attribute <b>class</b> specifies full qualified class name. Wildcards are accepted (*).</p>

    <p>Optional attribute <b>subclasses</b> specifies whether subclasses should be accepted (<i>subclasses="true"</i>)
    or class should match exactly (<i>subclasses="false"</i>). Default value is <i>true</i>.
    </p>

    <p>Examples:</p>

    <p>
    &lt;objects class="com.company.MyClass"/&gt; - all instances of the class com.company.MyClass and its subclasses
    </p>

    <p>
    &lt;objects class="com.company.MyClass" subclasses="false"/&gt; - all instances of
      com.company.MyClass excluding instances of classes derived from com.company.MyClass
    </p>

    <p>&lt;objects class="*[]"/&gt; - all arrays</p>
  </li>

  <li>
    <p>Tag <b>roots</b> specifies all objects that are GC roots</p>
    <p>Example:</p>
    <p> &lt;roots/&gt; </p>
  </li>

  <li>
    <p>Tag <b>and</b> intersects specified sets and as the result returns all objects that present in each of the sets.
    There should be at lease 2 nested sets.</p>

    <p>Example:</p>

    <p> The specification of all objects of classes that implement both com.company.MyInterfaceA and
     com.company.MyInterfaceB interfaces: </p>

    <pre>
  &lt;and&gt;
    &lt;objects class="com.company.MyInterfaceA"/&gt;
    &lt;objects class="com.company.MyInterfaceB"/&gt;
  &lt;/and&gt;
    </pre>
  </li>

  <li>
    <p>Tag <b>or</b> joins specified sets and as the result returns all objects that present at least in one of the sets.
    There should be at least 2 nested sets.</p>

    <p>Example:</p>

    <p> The specification of all objects of class com.company.A and its subclasses, and
    all objects of class com.company.B and its subclasses: </p>

    <pre>
  &lt;or&gt;
    &lt;objects class="com.company.A"/&gt;
    &lt;objects class="com.company.B"/&gt;
  &lt;/or&gt;
    </pre>
  </li>

  <li>
    <p>Tag <b>not</b> specifies all objects that not present in the specified set.
    There should be one and only one set specified.</p>

    <p>Example:</p>

    <p>The specification of all objects except for the objects of class com.company.A and its subclasses:</p>

    <pre>
  &lt;not&gt;
    &lt;objects class="com.company.A"/&gt;
  &lt;/not&gt;
    </pre>
  </li>

  <li>
    <p>Tag <b>reachable-objects</b> specifies objects accessible by references from set specified
      via mandatory subtag <b>from</b>.
    </p>

    <p>
    The result will not include objects other than
    the ones specified via mandatory subtag <b>object-filter</b>.
    In terms of graphs, <b>object-filter</b> specifies allowed nodes.
    </p>

    <p>
    Mandatory subtag <b>field-filter</b> allows to search for objects reachable only from particular fields of
    classes.

    Restrictions for any number of classes can be specified as <b>class</b> subtags of <b>field-filter</b>:

    <pre>
  &lt;field-filter&gt;
    &lt;class name="com.company.ClassA"&gt;
      &lt;allowed field="field1"/&gt;
      ...
      &lt;forbidden field="field2"/&gt;
      ...
    &lt;/class&gt;
    &lt;class name="com.company.ClassB"&gt;
      ...
    &lt;/class&gt;

    ...

  &lt;/field-filter&gt;</pre>
    <p>
    For each class you can specify any number of names (including 0) of <b>allowed</b> and <b>forbidden</b> fields.
    If at least one <b>allowed</b> tag is specified, only the <b>allowed</b> fields will be allowed for the class.
    If no <b>allowed</b> fields are specified, any fields except for the <b>forbidden</b> ones will be allowed for the class.
    </p>

    <p> Any fields of classes not specified in <b>field-filter</b> are acceptable.</p>

    </p>

    <p>Example:</p>

    <p>
    The following example is a predefined set "Lost UI" (see <code class="action">Settings | Sets of Objects...</code>).
    It allows to find all AWT/Swing UI controls that are not in the window hierarchy.
    </p>

    <p>
    UI controls are instances of <i>java.awt.Component</i> and subclasses.
    Class <i>java.awt.Container</i> is a subclass of <i>java.awt.Component</i> and represents controls that contain other controls.
    To be showing, control must be contained in windows, represented with objects of class
    <i>java.awt.Window</i> with subclasses; <i>java.awt.Window</i> extends <i>java.awt.Container</i>.
    </p>

    <p>
    Our goal is to find any UI control (i.e. instance of <i>java.awt.Component</i>) not accessible
    from window hierarchy. So we start from windows (see <b>from</b> section).
    </p>

    <p>
    We know that <i>java.awt.Container</i> stores its children in field named <i>component</i> which is an array of
    components. According to this we form <b>object-filter</b> and <b>field-filter</b> sections.
    Note that we have to include <i>java.awt.Component[]</i> to the object filter, so the result of entire
    <b>reachable-objects</b> tag will include arrays of components as well as components.
    </p>

    <p>
    To complete the task, we use combination of <b>and</b> and <b>not</b> to retrieve components that are not
    accessible from windows in the specified way.
    </p>

    <pre>
  &lt;and&gt;
    &lt;objects class="java.awt.Component"/&gt;
    &lt;not&gt;

      <b>&lt;reachable-objects&gt;</b>
        &lt;from&gt;
          &lt;objects class="java.awt.Window"/&gt;
        &lt;/from&gt;

        &lt;object-filter&gt;
          &lt;or&gt;
            &lt;objects class="java.awt.Component"/&gt;
            &lt;objects class="java.awt.Component[]"/&gt;
          &lt;/or&gt;
        &lt;/object-filter&gt;

        &lt;field-filter&gt;
          &lt;class name="java.awt.Container"&gt;
            &lt;allowed field="component"/&gt;
          &lt;/class&gt;
        &lt;/field-filter&gt;
      <b>&lt;/reachable-objects&gt;</b>

    &lt;/not&gt;
  &lt;/and&gt;
    </pre>

  </li>

  <li>
    <p>Tag <b>retained-objects</b> retrieves all objects that will be garbage collected if all the objects of the given set
    are garbage collected. The given set is included.
    In other words, retained set of set A is A itself and all
    the objects accessible from and only from A.
    These objects are called retained set, and its size called retained size.
    </p>

    <p>Example:</p>

    <p>The specification of all objects that will be garbage collected if all objects of class com.company.A and
    its subclasses are garbage collected: </p>

    <pre>
  &lt;retained-objects&gt;
    &lt;objects class="com.company.A"/&gt;
  &lt;/retained-objects&gt;
    </pre>
  </li>

  </ul>

      </div>
    </td>
  </tr>
</table>

        </td>
      </tr>

      <!-- footer -->

      <tr>
        <td>
          <table cellpadding="0" cellspacing="0" width="100%">
            <tr>
              <td id="footer_left">YourKit Java Profiler 3.2</td>
              <td id="footer">Copyright (c) 2003-2004 YourKit, LLC. All rights reserved.</td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </div>
</body>
</html>
