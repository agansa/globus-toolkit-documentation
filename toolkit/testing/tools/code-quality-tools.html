<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=iso-8859-1">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2800.1458" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial size=2>Greetings,</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Many of you already make use of Code Quality tools. 
In the quest to improve the quality of Globus Toolkit Distributions It is likely 
that&nbsp;developers will&nbsp;be asked to use these tools to demonstrate Code 
Quality in a more formal way. The good news is that management recognizes that 
there are costs in dollars and time to acquire, learn and apply such 
tools.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>The "Guidelines" part of the subject line is 
important, as Joe Bester pointed out, Tools have been thrown at developers in 
the past without clear directions or expectations. We need to rectify 
that.&nbsp;</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>The questions are: which tools; when should they be 
used; and what are the expectations and guidelines for their use. Now is your 
opportunity to weigh in on this issue!&nbsp;</FONT><FONT face=Arial 
size=2>&nbsp;I spoke to many developers regarding their experiences with tools 
and have used that feedback in making some near term recommendations. The 
recommendations shouldn't be a surprise - they are mostly based on tools we 
presently use and have found effective. For the longer term we may want to unify 
Tools usage in a product that spans Java and C/C++ and most of the supported 
Toolkit platforms, including&nbsp;Windows. There is at least one Suite that 
appears to meet these requirements.&nbsp;</FONT></DIV>
<DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>"Tools" is a very general term for programs that do 
different things. Here are the classes of tools that I am aware of:</FONT></DIV>
<UL>
  <LI><FONT face=Arial size=2>Compiler - The Compiler can be considered a Code 
  Quality Tool in its generation of warnings.</FONT> 
  <LI><FONT face=Arial size=2>Source Code Checkers - Analyzes Source Code, (e.g. 
  Lint).</FONT> 
  <LI><FONT face=Arial size=2>Profiler - Identifies performance 
  bottlenecks.</FONT> 
  <LI><FONT face=Arial size=2>Memory Leak Detection&nbsp;- Identifies blocks of 
  memory that are not freed.</FONT> 
  <LI><FONT face=Arial size=2>Bounds Checker - Detects invalid memory access 
  such as touching deallocated memory or overrunning an array.</FONT> 
  <LI><FONT face=Arial size=2>Resource Issues - Detects the use of uninitialized 
  resources or failure to release them.</FONT> 
  <LI><FONT face=Arial size=2>Thread Analyzer - Detects thread problems such as 
  deadlocks and race conditions.</FONT> 
  <LI><FONT face=Arial size=2>Bug Pattern - Detects Java code patterns that may 
  be errors (e.g. FindBugs).</FONT> 
  <LI><FONT face=Arial size=2>Code Complexity - Detects code that is overly 
  complex.</FONT></LI></UL>
<DIV><FONT face=Arial size=2>Note that many "Test Suites" have modules that 
perform more than one of these functions. </FONT><FONT face=Arial size=2>For the 
purposes of these tools we have four basic platforms: Linux C, Linux Java, 
Windows Java and Windows C. Some software runs on multiple platforms. Tools tend 
to be either "static" in that they run on source code or byte code without 
special compilation steps, or they "instrument" the code to implement their 
runtime data gathering capabilities. Valgrind is different in that it runs 
normally compiled code within a virtual machine to allow data 
gathering.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Based on conversations with developers, a review of 
the marketplace and my own experiences I would make the following suggestions - 
feel free to disagree:</FONT></DIV>
<UL>
  <LI><FONT face=Arial size=2>Warnings -&nbsp;&nbsp;When the C-based code is 
  built&nbsp;under windows there are&nbsp;a significant number of warnings: 
  unreferenced variables, signed/unsigned mismatch, possible loss of data due to 
  type conversion, incompatible const qualifiers, pointer mismatch, etc. 
  Warnings aren't useful when one gets used to ignoring them. Once developers 
  agree on appropriate warning levels for gcc and windows, all code should be 
  required without warnings. In those rare cases where avoiding a warning is not 
  possible a #pragma should be used with an appropriate comment to disable that 
  warning.</FONT> 
  <LI><FONT face=Arial size=2>JProbe should be run for Java-based code on both 
  Windows and Linux Java Platforms. The Memory Debugger and&nbsp;Threadalyzer 
  modules should be run. The Lab has one Linux and one Windows licenses for 
  JProbe. These are node-locked licenses so they will be installed on machines 
  and made available for remote access by developers. Analysis should be run be 
  run by developers whenever significant changes are made, but must be done in 
  advance of Toolkit Releases.</FONT> 
  <LI><FONT face=Arial size=2>Clover should be used for Code Coverage analysis 
  of Unit Tests. Developers and Coordinators need to agree on a percent coverage 
  requirement. Globus has a complimentary licenses to Clover by virtue of its 
  Open Source status. We can install this as necessary for the developers to use 
  it. Alternately we could use the JProbe coverage tool.</FONT> 
  <LI><FONT face=Arial size=2>Valgrind should be run on Linux C Code by 
  developers whenever significant changes are made, but must be run in advance 
  of Toolkit Releases. Valgrind is open source distribution and has a 
  comprehensive&nbsp;suite of tools. The Memcheck, Massif and Helgrind analysis 
  modules should be used.</FONT> 
  <LI><FONT face=Arial size=2>gcov should be run to determine Unit Test Code 
  Coverage by developers when new code is written, buy must be run in advance of 
  Toolkit Releases. Developers and Coordinators need to agree on a percent 
  coverage requirement.</FONT> 
  <LI><FONT face=Arial size=2>DevPartner (or possibly PurifyPlus) should be 
  acquired and used for Windows code. These tools come highly recommended by 
  developers at Condor and&nbsp;pyGlobus and by yours truly who made extensive 
  use of DevPartner in a previous life. Error Detection, Memory Analysis and 
  Code Coverage modules must be run in advance of Releases.</FONT> 
  <LI><FONT face=Arial size=2>When requirements have been established a Tools 
  Home Page should be created containing information on requirements, links to 
  the tools and documentation and Globus specific directions for use. For 
  efficiency, one developer who already knows a particular tool or is willing to 
  blaze the trail should assume the responsibility of bringing others up to 
  speed on that tool.</FONT></LI></UL>
<DIV><FONT face=Arial size=2>PurifyPlus is a very comprehensive package marketed 
by IBM that handles C, C++ and Java Applications and supports Linux, Unix and 
Windows platforms. It is possible that nearly all Code Quality analysis could be 
done using this single tool. PurifyPlus should be evaluated by DSL for C and 
Java Applications to determine if it should be used for Toolkit 
analysis.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Developers should be encouraged to use other tools 
as well according to specific needs. For example, there are excellent Profiling 
tools useful for analysis of&nbsp;Components where performance is critical. 
FindBugs is a tool recommended as useful for Java code by Jarek and others. Lint 
is a good early check for new code. Code Complexity analysis would be useful 
early in the development cycle of a module where architecture choices are being 
made.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>There were other tools that folks I spoke with 
liked or had interest in, notably Insure++ and PurifyPlus. Some might prefer 
these over those recommended above.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>There is additional information, comments and links 
below for those that are interested.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Thanks for reading. I look forward to 
comments.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Bob</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial 
size=2>*****************************************************</FONT></DIV>
<DIV><FONT face=Arial size=2>Notes on Tools:</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>JProbe Suite<BR>A commercial package for Java 
Applications produced by Quest Software (<A 
href="http://www.quest.com/jprobe">www.quest.com/jprobe</A>). It runs on Windows 
and Linux platforms and includes a Profiler, Memory Debugger, Thread Analyzer 
and Coverage module. The Lab has one Linux License and one Windows License, 
which need to be upgraded to the latest version. Free versions of the Profiler 
are available as are trial versions of the full package.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Insure++<BR>A commercial package for C/C++ 
Applications produced by Parasoft (<A 
href="http://www.parasoft.com">www.parasoft.com</A>). It runs on Windows, Linux 
and many Unix platforms. It has a comprehensive suite of tools for memory and 
resource checking and a coverage module. Insure++ requires a special compilation 
step to produce instrumented code. The Lab has an Insure++ site license and it 
is available on the servers. Joe Link, Mike Link, Raj, Joe Bester and others 
used this package extensively. However,&nbsp;it was found that the latest 
release of Insure++ took a major step backward. Joe Link, Mike and Raj have 
since switched to Valgrind. </FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Valgrind<BR>An Open Source package for C/C++ 
Applications (valgrind.kde.org) It runs on Linux platforms and has tools for 
Memory and Thread analysis. Instead of instrumenting the code it instead runs 
the applications in a Virtual Machine. Developers at DSL report that it is a 
very effective tool.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>PurifyPlus<BR>A commercial package for Java and 
C/C++ Applications produced by Rational and marketed by IBM (<A 
href="http://www-306.ibm.com/software/awdtools/purifyplus/sysreq/index.html">http://www-306.ibm.com/software/awdtools/purifyplus/sysreq/index.html</A>)<BR>It 
runs on Windows, Linux and many Unix platforms. It has a very comprehensive 
suite of tools . As far as I know the Lab does not own a license to PurifyPlus. 
Schuler was using an evaluation copy. PurifyPlus should definately be evaluated 
for use with the Toolkit</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>FindBugs<BR>An Open Source package for Java 
Applications. It is called a "Bug Pattern Detector for Java" on the website (<A 
href="http://findbugs.sourceforge.net/">http://findbugs.sourceforge.net/</A>). 
It runs on bytecode and requires no special build step. Jarek and others have 
used it and found it useful.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Clover<BR>A commercial product for analyzing Java 
JUnit Test Coverage. It is produced by Cenqua (<A 
href="http://www.cenqua.com/clover/">http://www.cenqua.com/clover/</A>). It does 
require an special build step but produces excellent reports. Jarek, Ravi and 
others have used it. The Lab has a License for Clover.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>DevPartneer<BR>A commercial package for Windows 
C/C++ Code produced by Compuware (<A 
href="http://www.compuware.com/products/devpartner/studio.htm">http://www.compuware.com/products/devpartner/studio.htm</A>). 
Highly recommended by Todd Tannenbaum at Condor and Keith Jackson at 
pyGlobus.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>gcov<BR>An Open Source package associated with gcc 
for Linux Unit Test analysis. (<A 
href="http://gcc.gnu.org/onlinedocs/gcc-3.0/gcc_8.html">http://gcc.gnu.org/onlinedocs/gcc-3.0/gcc_8.html</A>)</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>McCabe QA<BR>A commercial product for analysis of 
Code Complexity (<A 
href="http://www.mccabe.com/iq_qa.htm">http://www.mccabe.com/iq_qa.htm</A>)</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>CMT Java<BR>A commercial product for analysis of 
Code Complexity.&nbsp; It is produced by Verifysoft (<A 
href="http://www.verifysoft.com/en_cmtjava.html">http://www.verifysoft.com/en_cmtjava.html</A>) 
and can be used to analyze Java and C++ code. It works on Source Code and is 
therefore platform independent.&nbsp;It provides many interesting metrics and 
should be evaluated by DSL. It is a tool that would be used earlier in the 
development phase of modules as opposed to prior to Releases.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Others<BR>There are many others I did not look at 
in any detail:&nbsp;ISA, another Code Complexity tool: (<A 
href="http://www.softwareautomation.com/index_e.htm">http://www.softwareautomation.com/index_e.htm</A>);&nbsp;&nbsp;eFence, 
a "malloc debugger" &nbsp;<A 
href="http://www.die.net/doc/linux/man/man3/efence.3.html">http://www.die.net/doc/linux/man/man3/efence.3.html</A>);&nbsp;&nbsp;QProfile 
(<A 
href="http://www.die.net/doc/linux/man/man3/efence.3.html">http://www.die.net/doc/linux/man/man3/efence.3.html</A>) 
and many more.</FONT></DIV>
<DIV><FONT face=Arial size=2><BR>&nbsp;</DIV></FONT>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV><FONT face=Arial 
size=2></FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV></BODY></HTML>
