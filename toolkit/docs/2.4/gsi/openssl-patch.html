<?php

$title = "Grid Security Infrastructure (GSI) v2: Upgrading a Globus installation to the latest version of OpenSSL";

include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 

?>



<h1 class="first"><?php echo $title; ?></h1>
    	<p>This page describes how to upgrade an existing Globus installation to
    	  the latest version of OpenSSL.</p>
    	<h2>
          <a name="open-ssl-patch">	</a>
      Installing the Latest OpenSSL
          </h2>
    	<ol>	
       <li>Download the latest globus_openssl package.<br>
       	The latest OpenSSL package for Globus can be found on the
      		<a href="ftp://ftp.globus.org/pub/gsi">Globus FTP site in /pub/gsi</a>.
      		The link <a href="ftp://ftp.globus.org/pub/gsi/globus_openssl-latest.tar.gz">
      		globus_openssl-latest.tar.gz</a> will be the latest package.
	      At the current date the latest version is globus_openssl-0.9 corresponding
	      to OpenSSL-0.9.6g.
  <li>Make sure the environment variable GLOBUS_LOCATION is set to the path
	      of your Globus Installation.
  <li>Install the globus_openssl package using the following command.
	      <i>&lt;flavor&gt;</i> should be the flavor you originally used for your GT2
	      installation. If you installed multiple flavors you should run this once
	      for each flavor.
<pre>$GLOBUS_LOCATION/sbin/globus-build -install-only -force \
globus_openssl-latest.tar.gz &lt;flavor&gt;
</pre>
  <li>If you have Resource Management and/or Data Management servers installed,
	      you will need to rebuild these servers.
	      Directions are given in the following sections.
</ol>

      <h2>
        <a name="rm-patch"></a>
      Rebuilding the Resource Management Servers
              </h2>
      <p>
		If you have Resource Management servers (Gatekeeper and Job Manager) you'll
		need to rebuild them to use the updated openssl package. To do this follow these steps:
<ol>
		<li>Make sure the GLOBUS_LOCATION environment variable is set to the path
		  of your GT2 installation.
		<li>Download the latest versions of the globus_gatekeeper and
			globus_gram_job_manager packages from:
			<a href="ftp://ftp.globus.org/pub/gt2/2.0/packages/src/">
			ftp://ftp.globus.org/pub/gt2/2.0/packages/src/</a>
	  	<li>Build each package, in turn, using the following command (you'll run globus-build
	  		twice, once for each package). <i>&lt;flavor_name&gt;</i>
	  		should be the flavor you originally used to install the Resource Management
	  		server bundle.
<pre>$GLOBUS_LOCATION/sbin/globus-build -force -static=1 \
    &lt;package_name&gt; &lt;flavor_name&gt;</pre>
</ol>

      <h2>
        <a name="rm-patch"></a>
      Rebuilding the Data Management Server
              </h2>
      <p>
		If you have the Resource Management server (GridFTPd) you'll
		need to rebuild it to use the updated openssl package. To do this follow these steps:
<ol>
		<li>Make sure the GLOBUS_LOCATION environment variable is set to the path
		  of your GT2 installation.
		<li>Download the latest version of the globus_gridftp_server package from:
			<a href="ftp://ftp.globus.org/pub/gt2/2.0/packages/src/">
			ftp://ftp.globus.org/pub/gt2/2.0/packages/src/</a>
	  	<li>Build the package using the following command. <i>&lt;flavor_name&gt;</i>
	  		should be the flavor you originally used to install the Data Management
	  		server bundle.
<pre>$GLOBUS_LOCATION/sbin/globus-build -force -static=1 \
    &lt;package_name&gt; &lt;flavor_name&gt;</pre>
</ol>

      <?php include("/mcs/www-unix.globus.org/include/globus_footer.inc"); ?>

