
<h3>Configuration overview</h3>
<p>Configuring an Aggregating Service Group to perform a
data aggregation is performed by specifying an AggregatorContent object as
the content parameter of a ServiceGroup <i><b>add</b></i> method invocation.&nbsp; 
An AggregatorContent object is composed of two xsd:any arrays: AggregatorConfig 
and AggregatorData.</p>
<p>AggregatorConfig is used to specify parameters that are 
to be passed to the underlying AggregatorSource when the ServiceGroup <i><b>add</b></i> 
method is invoked.&nbsp; These parameters are generally type-specific to the 
implementation of the AggregatorSource and/or AggregatorSink being used.</p>
<p>The AggregatorData xsd:any array is used as the storage 
location for aggregated data that is the result of message deliveries to the 
AggregatorSink.&nbsp; Generally, the AggregatorData parameter of the 
AggregatorContent is not populated when the ServiceGroup <b><i>add</i></b> 
method is invoked, but rather is populated by message delivery from the 
AggregatorSource.</p>

<h3>Syntax of the interface</h3>
<p>The basic structure of the AggregatorContent type is
defined in the file <i><b>aggregator-types.xsd</b></i>, the relevant fragment of 
which is shown below. In addition, there are per-source and per-sink 
configuration elements, which should be placed in the AggregatorConfig 
element of a registration if the appropriate source or sink is being used.
These are detailed in a table below.</p>

<pre>&lt;xsd:complexType name=&quot;AggregatorConfig&quot;&gt;
  &lt;annotation&gt;&lt;documentation&gt;
    This type encapsulates multiple arbitrary aggregator configuration data
  &lt;/documentation&gt;&lt;/annotation&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:any namespace=&quot;##any&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;

&lt;xsd:complexType name=&quot;AggregatorData&quot;&gt;
  &lt;annotation&gt;&lt;documentation&gt;
    This type encapsulates multiple arbitrary aggregated content data.
  &lt;/documentation&gt;&lt;/annotation&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:any namespace=&quot;##any&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
  &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;

&lt;xsd:complexType name=&quot;AggregatorContent&quot;&gt;
  &lt;annotation&gt;&lt;documentation&gt;
    This type encapsulates the Aggregator's ServiceGroup content element, 
    which is composed of two xsd:any arrays, one storing the aggregator 
    configuration, the other storing the aggregated data. 
   &lt;/documentation&gt;&lt;/annotation&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:element name=&quot;AggregatorConfig&quot;
                 type=&quot;tns:AggregatorConfig&quot; 
                 minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt; 
    &lt;xsd:element name=&quot;AggregatorData&quot;
                 type=&quot;tns:AggregatorData&quot;
                 minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt; 
    &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt; </pre>

<table>
<caption>Source and Sink specific configuration elements</caption>
<tr><th>Source/sink name</th><th>Configuration element type</th>
    <th>Location of XSD</th><th>notes</th></tr>

<tr><th>Poll source</th>
    <td>GetResourcePropertyPollType, GetMultipleResourcePropertiesPollType,
        QueryResourcePropertiesPollType</td>
    <td>aggregator-types.xsd</td>
</tr>

<tr><th>Subscription source</th>
    <td>AggregatorSubscriptionType</td>
    <td>aggregator-types.xsd</td>
</tr>

<tr><th>Execution source</th>
    <td>ExecutionPollType</td>
    <td>aggregator-types.xsd</td>
    <td>
        The AggregatorConfig element is also 
        passed to the executable and so executables may take further 
        configuration parameters, as detailed in the 
        <a href="#domain">execution source API section</a></td>
</tr>

<tr><th>Trigger service sink</th></tr>
    <td>TriggerRuleType</td>
    <td>trigger-types.xsd</td>
    <td>See the <a href="../trigger/admin/">trigger service administration 
    guide</a> for more details.</td>
</tr>

<tr><th>Servicegroup sink (used by index service)</th>
    <td>No configuration element necessary</td>
</tr>

</table>

