
<?php
include_once( "http://www-unix.globus.org/toolkit/docs/development/4.0-drafts/draft.inc" );
?>

<h1>GT 4.0 WS MDS Aggregator  : Developer's Guide : Ping test example</h1>
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#archdes">Architecture and design overview</a></li>
  <li><a href="#pubinterfaces">Public interface</a></li>
  <li><a href="#scenarios">Usage scenarios</a> </li>
  <li><a href="#features">Feature summary</a></li>
  <li><a href="#platforms">Tested platforms</a></li>
  <li><a href="#compatibility">Backward compatibility summary</a></li>
  <li><a href="#dependencies">Technology dependencies</a></li>
  <li><a href="#troubleshooting">Troubleshooting</a></li>
  <li><a href="#relateddocs">Related Documentation </a></li>
</ul>
<h2><a name="introduction"></a>Introduction</h2>

<p>This file describes an example of the Execution Aggregator Source
API.</p>

<p>The example provides basic ping information about a registrant.
It is intended for illustrative purposes, rather than real deployment
use.</p>

<p>The aggregator framework is used by other services to collect information.
In this example, it will be shown how to configure the index service to 
use the execution aggregator source.</p>

<h2>Deploying the example</h2>

<ul>
  <li><b>Install the example script in the correct location.</b> The
         example script is installed as:
<code>$GLOBUS_LOCATION/etc/globus_wsrf_mds_aggregator/example-ping-exec</code>.
         It is necessary to copy this to the directory where the 
         execution source will look for executables: <br />

<code>
$ cp $GLOBUS_LOCATION/etc/globus_wsrf_mds_aggregator/example-ping-exec $GLOBUS_LOCATION/libexec/aggrexec/
</code>

        <br /> and ensure that it is executable: <br />
<code> $ chmod a+x $GLOBUS_LOCATION/libexec/aggrexec/example-ping-exec</code>

</li>

  <li><b>Configure the index to use the execution source.</b> By default, 
      the index is configured to use a WS-Resource Properties polling 
      mechanism. It is necessary for this example to change the 
      index configuration to use the execution source instead.</li>

  <li><b>Register some resources.</b> This can be achieved using the
      <a href="../admin/#configuring">mds-servicegroup-add tool</a>.
      Rather than configuring the client to register with parameters 
      for the Resource Property polling source, parameters for the
      execution source should be supplied in each registration. 
      Register both resources that you know exist, and also some non-existent
      resources.</li>

  <li><b>Observe the results.</b>Start container hosting the index. Start the
      mds-servicegroup-add tool. Query the contents of the index with:
      <code>$ wsrf-query -s http://localhost:8080/wsrf/services/DefaultIndexService '/*'</code>. Each registration should be represented as an Entry resource
      property value in the output of wsrf-query; embedded in each entry
      should be an $lt;examplePingResult$gt; element with the results of 
      ping testing.</li>

</ul>


