
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- &copy; International Business Machines Corporation, 2004 -->
<!-- &copy; The University of Edinburgh, 2004 -->
<head>
<title>Data Resources Mediators</title>
<link rel="stylesheet" type="text/css" href="../../style.css"/>
</head>
<body>

<h1>Data Resources Mediators</h1>

<p>
Data resources are exposed by OGSA-DAI via the use of <span
class="important">data resource mediators</span>. A
data resource mediator is a Java object which manages a connection to
and interactions with a data resource.
</p>
<p>
Data resource mediators are configured via information within the
<span class="xml">dataResource</span> element of a data resource
configuration document (which we described <a
href="../../reference/config/DataResourceConfig.html">here</a>).
</p>
<p>
This configuration information includes the database driver classname,
the location of the data resource and also specification of the data
resource mediator class.
</p>
<p>
The primary task of a data resource mediator is to manage the
connection to its underlying data resource. However, advanced
implementations may also offer additional facilities such as
connection pooling and metadata queries.
</p>
<p>
The sole contract of a data resource mediator class is that
it must sub-class the abstract class
<span class="java">uk.org.ogsadai.dataresource.DataResourceMediator</span>.
This class has no abstract methods, so the methods provided by the
implementation may be chosen arbitrarily. These methods may be
invoked by any compatible activity implementation class. The handle
on the data resource mediator object can be obtained by activities
by calling the <span class="java">getDataResource()</span> method on
a <span class="java">ActivityContext</span> object. <!-- (see the pages on
<span class="../activitywork/index.html">How Activities Work</span> for
more information) -->
</p>

<h2>Example Data Resource Mediators</h2>
<p>
OGSA-DAI provides the following data resource mediators which you can
use as-is or customise:
</p>

<table summary="File System Data Resource Mediator" class="info" width="100%">
	<tr>
		<th class="info" width="200">Name</th>
		<td class="info">File System Data Resource Mediator</td>
	</tr>
	<tr>
		<th class="info" width="200">Implementation Class</th>
		<td class="info"><span class="java">uk.org.ogsadai.dataresource.FileSystemDataResourceMediator</span></td>
	</tr>
	<tr>
		<th class="info">Description</th>
		<td class="info">
			Manages access to files in a file system.
			<p>
			This data resource mediator exposes two methods,
			<span class="java">getPath()</span> and
			<span class="java">getDirectory()</span>, which enable
			activities to access the top-level directory in the file system
			within which files may be accessed.
			</p>
			<p>
			The method <span class="java">getFile(String)</span> can
			be used to obtain a handle on a file with a given path relative
			to the top-level directory. This method also verifies that
			the path does not attempt to go outside the top-level directory's
			directory hierarchy, for example by referring to the
			<span class="commandline">..</span> directory.
			Several additional utility methods are also provided for use by
			activities wishing to access files in a file system.
			</p>
		</td>
	</tr>
</table>

<br />

<table summary="Simple JDBC Data Resource Mediator" class="info" width="100%">
	<tr>
		<th class="info" width="200">Name</th>
		<td class="info">Simple JDBC Data Resource Mediator</td>
	</tr>
	<tr>
		<th class="info" width="200">Implementation Class</th>
		<td class="info"><span class="java">uk.org.ogsadai.dataresource.SimpleJDBCDataResourceMediator</span></td>
	</tr>
	<tr>
		<th class="info">Description</th>
		<td class="info">
			This data resource mediator provides methods to obtain and
			relinquish connections to a relational database. This implementation
			does not implement advanced functions such as connection pooling.
		</td>
	</tr>
</table>

<br />

<table summary="Simple JDBC Data Resource Mediator for Apache Derby" class="info" width="100%">
	<tr>
		<th class="info" width="200">Name</th>
		<td class="info">Simple JDBC Data Resource Mediator for Apache Derby</td>
	</tr>
	<tr>
		<th class="info" width="200">Implementation Class</th>
		<td class="info"><span class="java">uk.org.ogsadai.dataresource.SimpleJDBCDataResourceMediatorDerby</span></td>
	</tr>
	<tr>
		<th class="info">Description</th>
		<td class="info">
			This data resource mediator is an extension of the Simple JDBC Data Resource Mediator
			and returns connections in a "Derby-specific" manner, making databases available to other threads/jvms.
		    <span class="important">NOTE:</span> OGSA-DAI does not provide  support for Apache Derby, although it is a tested platform. Support is planned when Derby emerges from the incubator phase of the Apache process.</td>
	</tr>
</table>

<br />

<table summary="XML:DB Data Resource Mediator" class="info" width="100%">
	<tr>
		<th class="info" width="200">Name</th>
		<td class="info">XML:DB Data Resource Mediator</td>
	</tr>
	<tr>
		<th class="info" width="200">Implementation Class</th>
		<td class="info"><span class="java">uk.org.ogsadai.dataresource.XMLDBDataResourceMediator</span></td>
	</tr>
	<tr>
		<th class="info">Description</th>
		<td class="info">
			This data resource mediator provides methods to obtain and
			relinquish collections.
		</td>
	</tr>
</table>

<hr/>
<table width="100%" summary="Navigation" class="footer">
<tr>
<td/>
<td class="footer">Up: <a href="../../index.html">OGSA-DAI User Guide</a></td>
<td/>
</tr>
<tr>
<td>
&copy; International Business Machines Corporation, 2004.
</td>
<td>
&copy; The University of Edinburgh, 2004.
</td>
<td/>
</tr>
</table>
</body>
</html>
