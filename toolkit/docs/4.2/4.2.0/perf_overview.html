<?php
$title = "Overview and Status of Current GT Performance Studies";
include_once( "./includes/globus_header_docbook.inc" ); 
?>


<h1><?php echo $title; ?></h1>
<table border=1 cellpadding=5 cellspacing=0> 

<tr style="text-align:center">
    <th><i>Overview of Current Performance Work</i></th>
    <th>High-Level Description of Study</th>
    <th>High-Level Summary of Current Findings</th>
    <th>Summary of Planned Near-Term Work</th>
    <th>Update Date of this Entry</th>
    <th>Link to Detailed Current and Historical Data</th>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #1</b></td>
    <td>MEJS throughput fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>sustained job throughput achieved by the MJES for Fork scheduler, submitting a simple job (/bin/date): no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>maximum throughput achieved 77 jobs per minute</td>
    <td>01/21/05</td>
    <td><a href="http://www-unix.mcs.anl.gov/%7Elane/Test-reports/GRAM/Throughput/3.9.4/">3.9.4
        results</a><br>
        <br>
		<a href="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=2521">Bottleneck
        investigation</a><br>
        <br> 
        <a href="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=2557">Delegation
    reuse improvement</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #2</b></td>
    <td>pre-ws JM throughput fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>sustained job throughput achieved by the pre-ws Job manager for Fork scheduler, submitting a simple job (/bin/date): no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>maximum throughput achieved nn jobs per minute</td>
    <td>12/15/04</td>
    <td>need results</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #3</b></td>
    <td>MEJS burst fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>simultaneous job submissions to the same MEJS for the Fork scheduler, submitting a simple job: no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>n jobs of n total jobs processed successfully</td>
    <td>12/15/04</td>
    <td>need results</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #4</b></td>
    <td>MEJS max concurrency fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>Maximum job submissions to the same MEJS for the Fork scheduler, submitting a long running sleep job: no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>Maximum concurrency achieved was 8000 jobs, but no failures, so limit still not know</td>
    <td>01/21/05</td>
    <td><a href="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=2599">find current limit</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #4.1</b></td>
    <td>MEJS max concurrency condor JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>Maximum job submissions to the same MEJS for the Condor scheduler, submitting a long running sleep job: no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>Maximum concurrency achieved was 32,000 jobs, due to system limitation. mkdir: cannot create directory `bar': Too many links</td>
    <td>04/06/05</td>
    <td><a href="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=3090">32,000 job limit</a></td>
</tr>


<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #5</b></td>
    <td>MEJS long run fork JT2 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>Keep a moderate load (10 jobs?) on the service for one month duration.  Job should perform all tasks: delegation, stage in, out, cleanup, in order to get the most GT service code coverage.  relevant to bug 2479</td>
    <td>number of jobs submitted.  Test duration n hours or n days</td>
    <td>04/06/05</td>
    <td><a href="http://bugzilla.globus.org/bugzilla/show_bug.cgi?id=2582">23 days 500,000+ sequential jobs submitted without container crash</a></td>
</tr>


<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #n</b></td>
    <td>&nbsp; </td>
    <td>&nbsp; </td>
    <td>&nbsp; </td>
    <td>&nbsp; </td>
    <td>&nbsp; </td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS MDS <br>Long Running Index</b></td>
    <td> Long Running Index Server (4.0.0), zero entry index</td>
    <td> Ran for 8,338,435 secs (96 days) til server reboot,
    Processed 623,395,877requests,
    <td>&nbsp; </td>
    <td>Oct 10, 2005</td>
    <td> Perf slides available in a talk 
<A href ="http://www-unix.mcs.anl.gov/~schopf/Talks/mds4-bath-sept05.ppt">
here</A>
    </td>

</tr>
<tr style="text-align: left">
    <td style="text-align: center"> <b>WS MDS <br>Long Running Index</b></td>
    <td> Long Running Index Server (4.0.1), 100 entry index</td>
    <td> running for 2,860,028 seconds (33 days) as of Sept 30 and continuing,
    Processed 14,686,638 queries </td>
    <td> Test ongoing </td>
    <td>Oct 10, 2005</td>
    <td> Perf slides available in a talk 
<A href ="http://www-unix.mcs.anl.gov/~schopf/Talks/mds4-bath-sept05.ppt">
here</A>
    </td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS MDS <br>Index Scalabilty</b></td>
    <td> Index Server (4.0.1) Scalability wrt number of users
    <td> Throughput is stable at ~2,000 queries per minute for 10-800 users </td>
    <td> ongoing </td>
    <td>Oct 10, 2005</td>
    <td> Perf slides available in a talk 
<A href ="http://www-unix.mcs.anl.gov/~schopf/Talks/mds4-bath-sept05.ppt">
here</A>
    </td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #1</b></td>
    <td>Core Messaging Performance</td>
    <td>Timing a roundtrip WS GRAM job creation like message with and
    without resource dispatch. Timing is measured as a function of
    the number of typical sub-job descriptions in the input message.</td>
    <td>&nbsp;</td>
    <td>02/21/2005</td>
    <td><a href="./common/javawscore/coreMessagingPerformance.gif">Results (no resource dispatch)</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #2</b></td>
    <td>Core WSRF/WSN Operation Performance</td>
    <td>Timing of various WSRF and WSN operations on a simple service</td>
    <td>&nbsp;</td>
    <td>02/21/2005</td>
    <td><a
    href="./common/javawscore/java_ws_core_wsrf_perf.html">Details & Results</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #3</b></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>C WS Core <br>
    Study #1</b></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #1</b></td>
    <td>TeraGrid Bandwidth Study</td>
    <td>90% utilization (27 Gbs on a 30 Gbs link) memory to memory with 32 nodes; 17.5 Gbs disk to disk with 64 nodes, limited by the SAN.</td>
    <td>work with SAN folks to improve disk to disk, but low priority.  Our bandwidth performance is good enough for now.</td>
    <td>2004-12-06</td>
    <td><a href="http://www-unix.mcs.anl.gov/%7Eallcock/GridFTP-BW-TG-001.xls">Excel Spreadsheet</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #2</b></td>
    <td>Long running (stability) Test</td>
    <td>Single client instance and single server instance with cached connections</td>
    <td>Ran for about a week.  Slowly increased memory usage and lost bandwidth (BW) then crashed.  Restarted, has now been running for about two weeks, still lost performance, but it looks like the BW has stabilized, need to check on the memory.  Looking into this.</td>
    <td>2005-01-04</td>
    <td><a href="http://dc-master.isi.edu/mrtg/ned.html">BW MRTG Graph</a> (shows bandwidth)</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #3</b></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>RFT <br>Study #1</b></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

</table>

<h2>General description of the Tests</h2>
<ul>
  <li>In all cases, you must be clear what process you intend  to test (for instance
      the the client or the service). You must then ensure that process is the
    bottleneck and not something else. For example, if your intent is to test
    the load that a client host can handle, if you submit all the client requests
    against the same service, the service may well fail before the client; therefore,
    you may need multiple services over which you can distribute the load.</li>
  <li>All tests should
            record the input parameters to the test. </li>
  <li>We also need a way to either profile
          the process while it is running, or do a postmortem. </li>
  <li>Things such as CPU
    load and memory usage should be recorded if at all possible. </li>
  <li>On the
      C side, the time command actually has a whole range of statistics it can
      provide.</li>
</ul>
<h3>Test 1: Max Concurrent
    Test </h3>
<p>This test is designed to see how many of a particular process a host can
handle.  The idea here is to run long jobs that will not end during the
duration of the test.  Continue to increase the number until failure.  This
test can be conducted using the throughput tester as long as the run time of
  a job is longer than the duration of the test.

The results of this test should be the number at which failure occurred and
the mode of the failure (container out of memory, connection refused, etc).</p>
<h3>Test
2: Max Load Test</h3>
<p>This test is designed to simulate a heavily loaded client
    or server host. The difference between this and Test #1 is that jobs should
    complete and be re-submitted so that there is turnover. This is essentially
  the test that the GRAM threaded throughput tester and the Mats
  C client accomplishes.
    This test ramps the number of jobs up to the specified load and
  then holds it there, starting a new job for every job that completes, for the
  duration of the test. This is iterated, increasing the load, until the tested
  process fails.
  
The results from this test would be the load at which the tested process fails,
  the actual time the test ran, and the desired test parameters. </p>
<h3>Test 3: Burst
Test</h3>
<p>This test is identical to Test #2 except that  all of the tests should
  be synchronized so that they start as close to the same time as possible. This
  simulates a "job storm" - a sudden spike where many jobs hit simultaneously.
  This may give identical results to Test #2 and if so, we will
  discontinue one or the other of the tests.</p>
<h3>Test 4: Robustness Test</h3>
<p>This test is intended to keep the tested process alive
    and moderately busy for a long period of time. How long will vary from component
    to component, but initially we are thinking one week for a GRAM client, and
    one month for a service. The throughput tester can be used for this as well,
    but the load is set constant at some moderate load, not ramped until failure.
    Failure in this case would be caused by things such as memory leaks, or other
    issues that slowly increase over time.
  
The results of this test would be total hours it was up and the number of jobs
    completed. </p>
<?php include("./includes/globus_footer_docbook.inc"); ?>
