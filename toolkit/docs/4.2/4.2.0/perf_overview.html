<?php
$title = "Overview and Status of Current GT Performance Studies";
include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 
?>

<h1><?php echo $title; ?></h1>
<p><font color="grey">Draft: 30 November 2004</font></p>

<table width=700 border=1 cellpadding=5 cellspacing=0> 

<tr style="text-align:center">
    <th><i>Overview of Current Performance Work</i></th>
    <th>High-Level Description of Study</th>
    <th>High-Level Summary of Current Findings</th>
    <th>Summary of Planned Near-Term Work</th>
    <th>Update Date of this Entry</th>
    <th>Link to Detailed Current and Historical Data</th>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #1</b></td>
    <td>MEJS throughput fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>sustained job throughput acheived by the MJES for Fork scheduler, submitting a simple job (/bin/date): no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>maximum throughput acheived 77 jobs per minute</td>
    <td>12/15/04</td>
    <td><a href="http://www-unix.mcs.anl.gov/~lane/Test-reports/Throughput/3.9.4/">data</a></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #2</b></td>
    <td>pre-ws JM throughput fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>sustained job throughput acheived by the pre-ws Jobmanager for Fork scheduler, submitting a simple job (/bin/date): no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>maximum throughput acheived nn jobs per minute</td>
    <td>12/17/04</td>
    <td>need results</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #3</b></td>
    <td>MEJS burst fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>simultaneous job submissions to the same MEJS for the Fork scheduler, submitting a simple job: no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>n jobs of n total jobs processed successfully</td>
    <td>12/15/04</td>
    <td>need results</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #4</b></td>
    <td>MEJS max concurrency fork JT1 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>Maximum job submissions to the same MEJS for the Fork scheduler, submitting a long running sleep job: no delegation, no staging, no cleanup, no stdout/err streaming</td>
    <td>Maximum concurrency acheived was nn jobs</td>
    <td>12/15/04</td>
    <td>need results</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #5</b></td>
    <td>MEJS long run fork JT3 - <a href="http://www-unix.mcs.anl.gov/~smartin/gram/gt4-gram-perf-testing.txt">details</a></td>
    <td>Keep a moderate load (10 jobs?) on the service for one month duration.  Job should perform all tasks: delegation, stage in, out, cleanup, in order to get the most GT service code coverage.  relevant to bug 2479</td>
    <td>number of jobs submitted.  Test duration n hours or n days</td>
    <td>12/17/04</td>
    <td>need results</td>
</tr>


<tr style="text-align: left">
    <td style="text-align: center"> <b>WS GRAM <br>Study #n</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>WS MDS <br>Study #1</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #1</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #2</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>Java WS Core <br>Study #3</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>C WS Core <br>Study #1</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #1</b></td>
    <td>TeraGrid Bandwidth Study</td>
    <td>90% utilization (27 Gbs on a 30 Gbs link) memory to memory with 32 nodes; 17.5 Gbs disk to disk with 64 nodes, limited by the SAN.</td>
    <td>work with SAN folks to improve disk to disk, but low priority.  Our bandwidth performance is good enough for now.</td>
    <td>2004-12-06</td>
    <td><a href="http://www-unix.mcs.anl.gov/%7Eallcock/GridFTP-BW-TG-001.xls">Excel Spreadsheet</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #2</b></td>
    <td>Long running (stability) Test</td>
    <td>Single client instance and single server instance with cached connections</td>
    <td>Ran for about a week.  Slowly increased memory usage and lost bandwidth (BW) then crashed.  Restarted, has now been running for about two weeks, still lost performance, but it looks like the BW has stabilized, need to check on the memory.  Looking into this.</td>
    <td>2005-01-04</td>
    <td><a href="http://dc-master.isi.edu/mrtg/ned.html shows bandwidth"> BW MRTG Graph</td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>GridFTP <br>Study #3</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

<tr style="text-align: left">
    <td style="text-align: center"> <b>RFT <br>Study #1</b></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

</table>

<p>General description of the Tests:
<ul>In all cases, you must be clear what process you intend  to test (for instance the the client or the service).  You must then ensure that process is the bottleneck and not something else.  For instance, if your intent is to test the load a client host can handle, if you submit all the client requests against the same service, the service may well fail before the client, so you may need multiple services over which you can distribute the load.
</ul>

<ul>
All tests should record the input parameters to the test.  We also need a way to either profile the process while it is running, or do a post mortem.  Things such as CPU load and memory usage should be recorded if at all possible.  On the C side, the time command actually has a whole range of statistics it can provide.
</ul>
<li>Test 1: Max Concurrent Test</li>
<ul>This test is designed to see how many of a particular process a host can
handle.  The idea here is to run long jobs that will not end during the
duration of the test.  Continue to increase the number until failure.  This
test can be conducted using the throuput tester as long as the run time of a
job is longer than the duration of the test.

The results of this test should be the number at which failure occurred and
the mode of the failure (container out of memory, connection refused, etc).
</ul>

<li>Test 2: Max Load Test</li>
<ul>This test is designed to simulate a heavily loaded client or server host.
The difference between this and test #1 is that jobs should complete and be re-submitted so that there is turnover.  This essentially the test that the GRAM threaded throughput tester and the Mats C client accomplishes.  The tests ramps teh number of jobs up to the specified load and then holds it there, starting a new job for every job that completes, for the duration of the test.  This is iterated, increasing the load, until the tested process fails.

The results from this test would be the load at which the tested process fails, the actual time the test ran, and the desired test parameters.
</ul>

<li>Test 3: Burst Test</li>
<ul>This test is identical to test #2 except that the all of the tests should be syncronized so that they start as close to the same time as possible.  This is to simulate a "job storm" a sudden spike where many jobs hit simultaneously.  It may be that this will give identical results to Test #2 and if so, we will discontinue one or the other of the tests.
</ul>

<li>Test 4: Robustness Test</li>
<ul>This test is intended to keep the tested process alive and moderately busy for a long period of time.  How long will vary from component to component, but initially we are thinking one week for a GRAM client, and one month for a service.  The througput tester can be used for this as well, but the load is set constant at some moderate load, not ramped until failure.  Failure in this case would be caused by things such as memory leaks, or other issues that slowly increase over time.

The result of this test would be total hours it was up and the number of jobs completed.
</ul>
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>
