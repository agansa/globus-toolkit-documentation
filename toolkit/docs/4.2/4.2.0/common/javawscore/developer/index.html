
<h1>GT4 Java WS Core : Developer's Guide </h1>
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#archdes">Architecture and design overview</a></li>
  <li><a href="#pubinterfaces">Public interface</a></li>
  <li><a href="#scenarios">Usage scenarios</a> </li>
  <li><a href="#features">Feature summary</a></li>
  <li><a href="#platforms">Tested platforms</a></li>
  <li><a href="#compatibility">Backward compatibility summary</a></li>
  <li><a href="#dependencies">Technology dependencies</a></li>
  <li><a href="#troubleshooting">Troubleshooting</a></li>
  <li><a href="#relateddocs">Related Documentation</a></li>
  <li><a href="#miscellaneousinfo">Miscellaneous information</a></li>
</ul>
<h2><a name="introduction"></a>Introduction</h2>
<p><font color="purple">[introduction to developers with reference to General Toolkit Developer's Guide for
  coding guidelines, porting guide, etc.]</font></p>
<h2><a name="archdes"></a>Architecture and design overview</h2>
<p><font color="purple">[link to architecture and design docs]</font></p>
<h2><a name="pubinterfaces"></a>Public interface</h2>
<p>The semantics and syntax of the APIs and WSDL for the component, along with
  descriptions of domain-specific structured interface data, can be found in
  the <a href="../Java_WS_Core_Public_Interfaces.html">public interface guide</a>.</p>
<h2><a name="scenarios"></a>Usage scenarios</h2>
<p><font color="purple">[describe how to use the programatic interfaces of the
    component, provide examples]</font></p>
<h2><a name="features"></a>Feature summary</h2>
<?php
include_once( "./../Java_WS_Core_Feature_Summary_Frag.html" );
?>
<h2><a name="platforms"></a>Tested platforms</h2>
<p><font color="purple">[embed tested platforms frag here]</font></p>
<h2><a name="compatibility"></a>Backward compatibility summary</h2>
<?php
include_once( "./../Java_WS_Core_Compatibility_Summary_Frag.html" );
?>
<h2><a name="dependencies"></a>Technology dependencies</h2>
<?php
include_once( "./../Java_WS_Core_Dependencies_Summary_Frag.html" );
?>
<h2><a name="troubleshooting"></a>Troubleshooting</h2>
<p><font color="purple">[help for common problems developers may experience]</font></p>
<h2><a name="relateddocs"></a>Related Documentation</h2>
<p><font color="purple">[could link to pdfs and whitepapers about protocols, etc re: the component]</font></p>

<h2><a name="miscellaneousinfo"></a>Miscellaneous information</h2>

<h3><a name="gardetails">GAR</a></h3>
<p>
The GAR (Grid Archive) file is a single file which contains all the files and information that the container needs to deploy a service. The GAR files are deployed using <a href="../Java_WS_Core_Public_Interfaces.html#deploygar">deployGar</a> and undeployed using <a href="../Java_WS_Core_Public_Interfaces.html#duneploygar">undeployGar</a> Ant tasks.

<h3>Gar file structure</h3>

<ul>
 <li>
  <code>docs/</code> directory contains service documentation files. 
 </li>
 <li>
  <code>share/</code> directory contains files that can be accessed or used by all services.
 </li>
 <li>
  <code>schema/</code> directory contains service wsdl and schema files.
 </li>
 <li>
  <code>etc/</code> directory contains service configuration files and a post-deploy.xml Ant script.
 </li>
 <li>
  <code>bin/</code> directory contains service executables such as command line tools, GUI, etc.
 </li>
 <li>
  <code>lib/</code> directory contains service and third party library files and any LICENSE files.
 </li>
 <li>
  <code>server-deploy.wsdd</code> file is the server side deployment descriptor.
 </li>
 <li>
  <code>client-deploy.wsdd</code> file is the client side deployment descriptor.
 </li>
 <li>
  <code>jndi-config-deploy.xml</code> file is the JNDI configuration file.
 </li>
</ul>

<h3>Creating a gar file through Ant</h3>

<p>
[FILL ME IN]
</p>

<h3>Gar file deployment</h3>

<p>The contents of the gar file are processed in the following way (all steps are performed only if necessary):</p>
<ul>
 <li>
  Any files in the <code>docs/</code> directory in the gar are copied into <code>$GLOBUS_LOCATION/docs/&lt;gar.id&gt;/</code> directory.
 </li>
 <li>
  Any files in the <code>share/</code> directory in the gar are copied into <code>$GLOBUS_LOCATION/share/&lt;gar.id&gt;/</code> directory.
 </li>
 <li>
  Any files in the <code>schema/</code> directory in the gar are copied into <code>$GLOBUS_LOCATION/share/schema/</code> directory.
 </li>
 <li>
  Any files in the <code>etc/</code> directory in the gar are copied into <code>$GLOBUS_LOCATION/etc/&lt;gar.id&gt;/</code> directory.
 </li>
 <li>
  Any files in the <code>bin/</code> directory in the gar are copied into <code>$GLOBUS_LOCATION/bin/</code> directory.
 </li>
 <li>
  Any <code>.jar</code> files in the <code>lib/</code> directory of the gar are copied into <code>$GLOBUS_LOCATION/lib/</code> directory.
 </li>
 <li>
  Any file that contains the word "LICENSE" in the name in the <code>lib/</code> directory of the gar is copied into <code>$GLOBUS_LOCATION/share/licenses/</code> directory.
 </li>
 <li>
  The <code>server-deploy.wsdd</code> in the gar is copied to <code>$GLOBUS_LOCATION/etc/&lt;gar.id&gt;/server-config.wsdd</code>. If profile name was specified during deployment the <code>server-deploy.wsdd</code> will be copied to <code>$GLOBUS_LOCATION/etc/&lt;gar.id&gt;/&lt;profile.name&gt;-server-config.wsdd</code>. The <code>server-config.wsdd</code> file will be set with user-only access permissions.
 </li>
 <li>
  The <code>jndi-config-deploy.xml</code> in the gar is copied to <code>$GLOBUS_LOCATION/etc/&lt;gar.id&gt;/jndi-config.xml</code>. If profile name was specified during deployment the <code>jndi-config-deploy.xml</code> will be copied to <code>$GLOBUS_LOCATION/etc/&lt;gar.id&gt;/&lt;profile.name&gt;-jndi-config.xml</code>. The <code>jndi-config.xml</code> file will be set with user only-access permissions.
 </li>
 <li>
  The <code>client-deploy.wsdd</code> in the gar is merged into a common <code>$GLOBUS_LOCATION/client-config.wsdd</code> file.
 </li>
 <li>
  An undeploy script (<code>$GLOBUS_LOCATION/etc/globus_packages/&lt;gar.id&gt;/undeploy.xml</code>) is created.
 </li>
 <li>
  A <code>etc/post-deploy.xml</code> Ant script is called if the gar contains one. 
 </li>

</ul>

<p>
Notes:</p>
<ul>
 <li>
  If post-deploy.xml script creates some files they will not be removed by undeploy.
 </li>
 <li>
  During deployment filtering is done for contents of <code>server-deploy.wsdd</code> and <code>jndi-config-deploy.xml</code> files to replace <code>@config.dir@</code> token with the "<code>etc/&lt;gar.id&gt;</code>" value, and <code>@gar.id@</code> token with the "<code>&lt;gar.id&gt;</code>" value.
 </li>
 
</p>



