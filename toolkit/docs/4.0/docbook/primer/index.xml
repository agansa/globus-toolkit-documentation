<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd"
[
      <!ENTITY % myents SYSTEM "../../entitiesnocatalog">
      
      %myents; 

]>


<book><title>Documentation Primer</title><?dbhtml filename="index.html" ?>
	<!-- Based on OpenACS documentation here: http://openacs.org/doc/current/docbook-primer.html  -->
	
	<!-- cris needs to make two different versions of this doc - one for 4.0 and one for development/4.2-drafts/ (since they are structurally different) -->
	
	<chapter  id="docbook-primer-overview" xreflabel="Overview of Globus Toolkit Documentation"><title>Overview of Globus Toolkit Documentation</title>

		<para>Official Globus Toolkit (GT) distributions integrate a select group of Globus technologies.  Globus is open source software for 
			distributed computer systems, freely available for use (and modification) by programmers. It is designed to coordinate the use 
			of geographically distant computers -- their raw computing power, the data they contain and the instruments controlled by them. 
			The software addresses the security, data-management, execution management, resource discovery and other
			issues that arise from such sharing.</para>
		
		<para>This document includes the policies and guidelines behind the documentation for GT distributions, requirements for documents and help for using
			the DocBook XML Schema for common documentation elements.</para>
		
		<para>Our goal is to provide comprehensive documentation in a clear concise manner and in language that is not too technical or obscure. To that 
			end, we encourage all feedback, suggestions and comments for improving our documentation and finding ways to make the information more easily 
			understandable. For broken links and other simple technical issues with using the docs online send an email to <ulink url="mailto:webmaster@globus.org">
				webmaster@globus.org</ulink>. For everything else, file a bug in <ulink url="http://www.globus.org/toolkit/docs/development/bugzilla.html">
					Bugzilla</ulink> (use the Documentation component).</para>
		
		<para>We thank you ahead of time for your contribution.</para>
		
	</chapter>
	
	<chapter  id="docbook-primer-strategy" xreflabel="Globus Toolkit Documentation Strategy"><title>Globus Toolkit Documentation Strategy</title>

	<para>Starting with GT 4.0, we used templates of necessary topics for each component. During the development process, 
		more and more information was added and refined. This process is facilitated by
		the Documentation Coordinator (Cris Williams) and Technical Product Manager (Lisa Childers). With each development release, 
		the documentation becomes more and more complete. This iterative process allows the documentation to be built up over time instead of in one mad
		rush right before final release. When development for the next major version begins, we simply copy the existing documentation to a
		<computeroutput>docs/development/[version]-drafts/</computeroutput> directory and then the Project Chair builds on those docs.</para>
	
	<section id="docbook-primer-fragments" xreflabel="Fragments"><title>Fragments</title>
		
		<para>To reduce duplication and make sure we have a single source for all information, 
			we also utilize 'fragments' of frequently used information. For example, a brief overview
			of the component is stored in <computeroutput>[component_name]_Overview_Brief_Frag.xml</computeroutput> 
			and embedded wherever such a description is needed. Thus, any update to the overview frag is updated in each
			place it has been embedded and remains standard throughout the documentation. 
			As you can guess from this example, such frags have the following naming convention: 
			<computeroutput>[component_name]_[description]_Frag.xml</computeroutput></para>
	</section>
	
	<section><title>Standard organization</title>
		
		<para>Our templates provide a standard organization for all admin, user and developer guides for all components of the 
			Globus Toolkit. If a section does not apply for a component, there will be a statement to the effect: "This section does not apply 
			for this component." For example, if a component does not have a GUI interface, then the 
			<filename>[component]_Interface_GUI_Frag.xml</filename> should explicitly
			say so. The benefit is that the reader will know the component does not have a GUI interface instead of looking for GUI information
			and wondering if it was simply left out.</para>
		
		<para>From time to time, there will be information that is not compatible with the standard organization.
			In these cases, the Project Chair or Documentation Coordinator has the option to create
			standalone pages covering the topic. These standalone pages are usually represented in the table of contents as an 
			appendix item.</para>
	</section>
		
	<section><title>Release cycle for documentation</title>
		
		<para>The following list outlines what happens with documentation in a typical GT release cycle:</para>
		
		<orderedlist>
			<listitem>Once development begins for the next major release (we'll use 4.2 as an example release), 
				a new folder is added to the development docs directory: 
				<filename>toolkit/docs/development/4.2-drafts/</filename></listitem>
			<listitem>Documentation Coordinator updates files for the upcoming release (changes version numbers, etc.)</listitem>
			<listitem>Developers start updating documents in this development directory for the upcoming release.</listitem>
			<listitem>For each development release leading up to the stable release:
				<orderedlist>
					<listitem>A corresponding directory is added to the development docs directory - for example, <filename>../toolkit/docs/development/4.1.5</filename></listitem>
					<listitem>[Around the time of release candidates], the drafts directory is frozen and copied over to the new directory. </listitem>
					<listitem>Documentation Coordinator updates references to release numbers.</listitem>
					<listitem>Documentation Coordinator and Technical Product Manager go over development documentation for 
						any other necessary revisions.</listitem>
					<listitem>Freeze is lifted for drafts directory.</listitem>
				</orderedlist>
			</listitem>
			<listitem>Before final stable release:
				<itemizedlist>
					<listitem>A new directory is added to the docs directory - for example, <filename>.../toolkit/docs/4.2/</filename></listitem>
					<listitem>Around the time of release candidates, the drafts directory is frozen and copied over to the new directory.</listitem>
					<listitem>Documentation Coordinator updates references to release numbers.</listitem>
					<listitem>Documentation Coordinator and Technical Product Manager go over development documentation for 
						any other necessary revisions.</listitem>
					<listitem>After final stable release, drafts directory is removed.</listitem>
				</itemizedlist>
			</listitem>
		</orderedlist>
	</section>
	</chapter>
	
	<chapter id="docbook-primer-general-reqs" xreflabel="Globus Toolkit General Documentation Requirements"><title>Globus Toolkit General Documentation Requirements</title>
		
	<itemizedlist>
		<listitem>Clarity in presentation. [TODO] is a recommended example of our online documentation.</listitem>
		<listitem>Use best practices learned from the print world, web, and other media, about use of grammar, space, writing style etc:
			<itemizedlist>
				<listitem>Consistency [expand on this]</listitem>
				<listitem>Use standardized language. Consider international readers by not using slang or colloquial terms - many
					of your readers use English as a second language. This also helps make translation easier for anyone interested in translating 
					the documentation for internationalization efforts.</listitem>
				<listitem>All jargon used in documentation needs to be defined (using the <xref linkend="docbook-primer-glossaries">glossary feature</xref>). 
					Use standardized terms when available, avoiding implicit understanding of specific Globus Toolkit terms.</listitem>
			</itemizedlist>
		</listitem>
		<listitem>Single source - This practice significantly reduces obsolescence in writing and the burden of maintaining 
			up-to-date documentation:
			<itemizedlist>
				<listitem>Show where to find information instead of duplicating information - use a <xref linkend="docbook-primer-links">cross-reference</xref>
					or create <xref linkend="docbook-primer-fragments">fragments</xref> that can be embedded in multiple places. </listitem>
				<listitem>If the information is not found elsewhere, then create one place for it where others can refer to it (contact the Documentation Coordinator if you have any doubts
					about how to do so). </listitem>
			</itemizedlist>
		</listitem>
		<listitem>Consider Globus Toolkit documentation as a set of books (an encyclopedic set organized like an atlas) that 
			contains volumes (books). Each book contains chapters and sections much like how DocBook examples are shown, 
			where each chapter is a web page [this is for 4.2-drafts - change for 4.0]. This designation helps create Globus Toolkit books in PDF, and helps new 
			readers visualize how the documentation is organized.</listitem>
	</itemizedlist>
	
	</chapter>
		
	<chapter id="docbook-primer-user-guides" xreflabel="Requirements for User Guides"><title>Requirements for User Guides</title>
		
		<para>This guide is for the most challenging audience for our documentation: end users. Please keep the following in mind when coming up with material for this guide:</para>
		
		<itemizedlist>
			<listitem>Assume that the reader (end-user) has little technical background/knowledge.</listitem>
			<listitem>Acquaint users with the uses, benefits, and the possibilities this system brings</listitem>
			<listitem>Try to include jargon definitions, glossary, and FAQs (links are fine). 
				FAQ should refer answers to the same place for consistency, brevity and maintainability.</listitem>
		</itemizedlist>

	<para>The user's guide has the following outline:</para>
		<orderedlist>
			<listitem><emphasis role="strong">Introduction</emphasis>: Include a brief overview of how end users 'interface' with this component and  
				how to get help (at the very least a link to the <ulink url="http://www.globus.org/toolkit/support.html">Globus Toolkit Support page</ulink>).
				</listitem>
			<listitem><emphasis role="strong">Command-line tools</emphasis>: this section points to the standalone commandline reference 
				(link to info about writing those out)</listitem>
			<listitem><emphasis role="strong">Graphical user interface</emphasis>: Explain/tutorial on how the UI works (use links), Page flow, descriptions 
				of form elements; browser/interface strengths and limitations</listitem>
			<listitem><emphasis role="strong">Troubleshooting</emphasis></listitem>
			<listitem>PROPOSED: user how-to's ("if you want to...")</listitem>
		</orderedlist>
	</chapter>
		
	<chapter id="docbook-primer-admin-guides" xreflabel="Requirements for System Administrators Guides"><title>Requirements for System Administrators Guides</title>
		<para>The user's guide has the following outline:</para>
		
		<orderedlist>
			<listitem><emphasis role="strong">Introduction</emphasis></listitem>
			<listitem>PROPOSED: <emphasis role="strong">Overview of Admin Process</emphasis>: Describe a structural overview of a working system and 
				how the components work together. Maybe "The Layered Cake view", a general network view of system...</listitem>
			<listitem><emphasis role="strong">Configuring</emphasis>: (source is <filename>[component]_Interface_Configuring_Frag.xml</filename>)</listitem>
			<listitem><emphasis role="strong">Deploying</emphasis></listitem>
			<listitem><emphasis role="strong">Testing</emphasis></listitem>
			<listitem><emphasis role="strong">Security Considerations</emphasis></listitem>
			<listitem><emphasis role="strong">Troubleshooting</emphasis>: Describe a methodology for diagnosing problems, finding error statements and 
				interpreting them</listitem>
			<listitem>PROPOSED: admin how-to's ("if you want to...") [Provide a comprehensive description of typical administrative processes for this component]</listitem>
		</orderedlist>
	</chapter>
		
	<chapter id="docbook-primer-install-guide" xreflabel="Requirements for the Toolkit Installation Guide"><title>Requirements for the Toolkit Installation Guide</title>
		
		<para>Charles Bacon is the primary author of this document.</para>
		
		<para>The toolkit installation guide has the following outline:</para>
		<orderedlist>
			<listitem><emphasis role="strong">Introduction</emphasis></listitem>
			<listitem><emphasis role="strong">Before you begin</emphasis></listitem>
			<listitem><emphasis role="strong">Software Prerequisites</emphasis></listitem>
			<listitem><emphasis role="strong">Installing GT 4.0</emphasis>: (Cris: it would be cool to have a graphic that represents the info here)</listitem>
			<listitem><emphasis role="strong">GT4: Security: Pre-WS Authentication &amp; Authorization Admin Guide</emphasis> (pulled in)</listitem>
			<listitem><emphasis role="strong">Basic Security Configuration</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 SimpleCA: Admin Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 GridFTP : System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 Java WS Core : System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 Reliable File Transfer (RFT) Service: System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 WS GRAM : System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 GSI-OpenSSH: System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 MyProxy: System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT4 CAS Admin Guide</emphasis></listitem>
			<listitem><emphasis role="strong">GT 4.0 RLS: System Administrator's Guide</emphasis></listitem>
			<listitem><emphasis role="strong">Packaging details</emphasis></listitem>
		</orderedlist>
		<!-- 
		<para>This needs to be streamlined - Cris has some ideas and needs to coordinate with Charles. Some proposed changes to improve flow:</para>
		
		<itemizedlist>
			<listitem>in Before You Begin topic: describe Java WS Core as the underlying foundation of the WS GT experience that includes libraries and API 
				to allow you to build web services. Java WS Core is the core of WS GRAM, WS MDS, (list ws portions of toolkit) and can be used to 
				create custom web services.</listitem>
			<listitem>required software: put reason why next to each item (unless it's really obvious to admins/programmers)</listitem>
			<listitem>before 'installing gt4" topic, we need some overview of the steps of this process (like a flow chart?): 
				<orderedlist>
					<listitem>decide which components (this is where you can describe difference b/w install bundles)</listitem>
					<listitem>set up security (choose CA, obtain host certs and user certs, create grid-mapfile.</listitem>
					<listitem>If you want to... [cris: not sure if this is the place - but it needs to be somewhere - maybe closer
						to the end?]:
						<itemizedlist>
							<listitem>If you want to be able to move data around, start a GridFTP server [link to info]</listitem>
							<listitem>If you want to be able to store information about etc, configure a database for RFT</listitem>
							<listitem>If you intend to execute jobs, configure WS-GRAM. </listitem>
							<listitem>You may also start a GSI-OpenSSH daemon, setup a MyProxy server, run RLS, and use CAS.</listitem> 
						</itemizedlist>
						The following chapters will explain how to configure these technologies. If you follow the chapters in order, you will make sure of performing tasks in 
						dependency order.</listitem> 
				</orderedlist>
			</listitem>
			<listitem>deploying (decide whether to use standalone container, tomcat, or any other option)</listitem>
			<listitem>maybe table format with a column showing which gt component is responsible for which feature you want in your Grid??</listitem>
			<listitem>instead of pulling in component admin guides, need another shell with customized intro that pulls in selected sections from component 
				admin guides</listitem>
			<listitem>shouldn't basic security config come before advanced security config?</listitem>
		</itemizedlist>
		-->
	</chapter>
		
	<chapter id="docbook-primer-dev-tutorials" xreflabel="Requirements for Developer Tutorials"><title>Requirements for Developer Tutorials</title>
		
		<para>Keep in mind the following when writing developer tutorials:</para>
		
		<itemizedlist>
			<listitem>Use cross references to Developers Guide instead of duplicating information.</listitem>
			<listitem>List suggestions for installing and setting up a development environment; these can be annotated links to the Installation Guide.</listitem>
			<listitem>Provide working examples</listitem>
			<listitem>Include general rules to follow for stability, scalability</listitem>
			<listitem>Include a summary of important links used by developers</listitem>
			<listitem>Note any deprecated tools and methods by linking to prior versions instead of describing them in current docs</listitem> 
		</itemizedlist>
		
		<para>A developer tutorial has the following outline:</para>
		<orderedlist>
			<listitem>None at this time</listitem>
		</orderedlist>
	
	</chapter>		

	<chapter id="docbook-primer-dev-guides" xreflabel="Requirements for Developers Guides"><title>Requirements for Developers Guides</title>
		
		<para>Keep in mind the following when you edit developer guides:</para>
		
		<itemizedlist>
			<listitem> This documentation should be written for ongoing reference by developers, not as a tutorial.</listitem>
			<listitem>List practical development and diagnostics tools and methodologies.</listitem>
			<listitem>List/link to Globus Toolkit development resources, API docs, schema files, etc. (public interfaces). Remember you can
				use ViewCVS to link to the latest versions of schema, wsdl, etc files.</listitem>
			<listitem>Identify each component subsystem, explain why it is used (instead of other choices). In the case of subsystems that are developed outside of 
				Globus Toolkit, include external references to development and reference areas.</listitem>
		</itemizedlist>
		
		<para>The developer's guide has the following outline:</para>
		
		<orderedlist>
			<listitem><emphasis role="strong">Introduction</emphasis></listitem>
			<listitem><emphasis role="strong">Before you begin</emphasis>: consists of the embedded frags for: Features Summary, 
				Tested Platforms, Backward Compatibility, Tech Dependencies and Security Consideration Frags. [cris: should we add Associated 
				Standards Frag?]</listitem>
			<listitem><emphasis role="strong">Architecture and design overview</emphasis>:  Make sure you include diagrams! </listitem>
			<listitem><emphasis role="strong">Public interfaces</emphasis>: PROPOSAL: actually include Interface Frags instead of linking to separate guide 
				(we can still have the separate guide as well)</listitem>
			<listitem><emphasis role="strong">Usage scenarios</emphasis>: need to clear up confusion with howtos</listitem>
			<listitem><emphasis role="strong">Tutorials</emphasis>: link to standalone tutorial [link] docs</listitem>
			<listitem><emphasis role="strong">Debugging</emphasis></listitem>
			<listitem><emphasis role="strong">Troubleshooting</emphasis></listitem>
			<listitem><emphasis role="strong">Related Documentation</emphasis></listitem>
		</orderedlist>
	</chapter>
		
	<chapter id="docbook-primer-command-ref" xreflabel="Requirements for Commandline References"><title>Requirements for Commandline References</title>
		<para>TODO</para>
	</chapter>
		
	<chapter id="docbook-primer-pub-interface-guides" xreflabel="Requirements for Public Interface Guides"><title>Requirements for Public Interface Guides</title>
		<para>TODO</para>
	</chapter>
		
	<chapter id="docbook-primer-release-notes" xreflabel="Requirements for Release Notes"><title>Requirements for Release Notes</title>
		
		<section><title>Requirements for stable release notes (first final release: x.x.0)</title>
			<para>TODO</para>
		</section>
		
		<section><title>Requirements for incremental release notes</title>
			<para>TODO</para>
		</section>
		
		<section><title>Requirements for development release notes</title>
			<para>TODO</para>
		</section>
		
	</chapter>
		
	<chapter id="docbook-primer-quality-profiles" xreflabel="Requirements for Quality Profiles"><title>Requirements for Quality Profiles</title>
		 
		<para>TODO</para>
		
	</chapter>
		
	<chapter id="docbook-primer-fact-sheets" xreflabel="Requirements for Fact Sheets"><title>Requirements for Fact Sheets</title>
		
		<para>TODO - actually rethinking whether these are needed anymore. at the very least, should probably be somewhere other than the 'docs' dir.</para>
		
	</chapter>
		
	<chapter id="docbook-primer-migrating-guides" xreflabel="Requirements for Migrating Guides"><title>Requirements for Migrating Guides</title>
		
		<para>TODO</para>
		
	</chapter>
		
	<chapter id="docbook-primer-samples" xreflabel="Requirements for Samples"><title>Requirements for Samples</title>
		
		<para>TODO</para>
		
	</chapter>
		
	<chapter id="docbook-primer-why" xreflabel="Why Docbook"><title>Why DocBook?</title>
		
		<para>All Globus Toolkit documentation will be marked up to conform to the DocBook XML DTD. Theoretically, any strict DTD would have been sufficient. 
			However, DocBook is a publishing standard based on XML with similar goals to the Globus Toolkit Documentation project. 
			Some specific reasons why we are using DocBook:</para>
		
		<itemizedlist>
			<listitem> It is open-source.</listitem>
			<listitem>A growing community surrounds DocBook (has mailing lists).</listitem>
			<listitem>A number of free and commercial <xref linkend="docbook-primer-tools">tools</xref> are available for editing and publishing DocBook 
				documents.</listitem>
			<listitem>It enables us to publish in a variety of formats (HTML, PDF, etc.)</listitem>
			<listitem>XML separates content from presentation: It relieves each contributor of the burden of presentation, freeing each writer to focus on content and 
				sharing knowledge.</listitem>
			<listitem>It is well tested technology. (It has been in development since the early 1990's). </listitem>
		</itemizedlist>
		
		<para>The following DocBook primer walks you through the basics, and should cover the needs for 95 percent of the documentation we produce. 
			Remember to:</para>
		
		<itemizedlist>
			<listitem>Always close your tags with corresponding end-tags and to not use other tag minimization.</listitem>
			<listitem>Write all elements and attributes in lowercase.</listitem>
			<listitem>Quote all attributes.</listitem>
		</itemizedlist>
		
	</chapter>
	
	<chapter id="docbook-primer-tools" xreflabel="DocBook Tools"><title>Tools</title>
		
		<para>There are many ways to work with the DocBook documentation. At its simplest, you simply need CVS access, then if you know how the code 
		works, you can edit the XML files in a text editor. However, many people are more comfortable setting up a separate test environment, you'll
		need some things to duplicate the processing that occurs to the files when producing the HTML/PDF output.</para>
		
		<para>The following can help you with the Globus Toolkit Docbook XML documentation:</para>
		<itemizedlist>
			<listitem><ulink url="http://docbook.org/xml/index.html">Docbook XML DTD</ulink> - The document type definition for XML. You can find an RPM or 
				DEB package or you can download a zip file from the site linked from here. [what can you do with it?]</listitem>
			<listitem><ulink url="http://sourceforge.net/projects/docbook/">XSL Stylesheets</ulink> (docbook-xsl) - The stylesheets to convert to HTML. We have 
				been using a stylesheet based upon NWalsh's chunk.xsl. [what can you do with it?]</listitem>
			<listitem>xsltproc - The processor that will take an XML document and, given a xsl stylesheet, convert it to HTML. It needs libxml2 and libxslt (available 
				in RPM and DEB formats or from <ulink url="http://xmlsoft.org/">xmlsoft.org</ulink>. [what can you do with it?]</listitem>
			<listitem>Some editing tool. Some options are Oxygen XML Editor, Syntec (wysiwig), and Emacs with the psgml mode. You can read about other editing tools in
				the <ulink url="http://en.tldp.org/LDP/LDP-Author-Guide/docbookxml.html">LDP Author Guide</ulink>.</listitem>
		</itemizedlist>
	</chapter>
	
	<chapter id="docbook-primer-cvs" xreflabel="Accessing Documentation via CVS"><title>Accessing Documentation via CVS</title>
		
		<para>We use CVS to manage our documentation. This requires some basic knowledge about CVS t- if you want to get to know CVS, click 
			<ulink url="http://cvsbook.red-bean.com/">here</ulink>. For Windows environments, 
			we recommend <ulink url="http://www.tortoisecvs.org/">TortoiseCVS</ulink>.</para>
		
		<screen>CVSROOT: [you]@cvs.globus.org:/home/globdev/CVS/alliance-web</screen>
		
		<para>The path to the Globus Toolkit project docs is: </para>
		<para><filename>alliance/toolkit/docs/[two-number version - such as 4.0]/[area - such as security]/[component - such as delegation]</filename></para>
		
		<para>Once changes are committed to the repository, they are automatically copied over to the web - so your changes should be live as soon as 
			they're committed.</para>
		
		<para>The URL for the online docs is: </para>
		<para><filename>http://www.globus.org/toolkit/docs/[two-number version - such as 4.0]/[area - such as security]/[component - such as delegation]</filename></para>
		
		<note><simpara>When replacing binary files such as pdfs or images - make sure you overwrite the file in your checkout and then commit the new version.</simpara></note>
				
	</chapter>
	
	<chapter id="docbook-primer-new-component" xreflabel="If You're A New Component..."><title>If You're A New Component...</title>
		
		<para>If you're a new component to the Globus Toolkit distribution, then you will need to contact the <ulink url="mailto:cristina@isi.edu">Documentation Coordinator</ulink>.
			You'll receive the templates (in DocBook XML or HTML, depending on technical skill level) for all the documents needed for your component.</para>
		
		<para>FYI, if you are a technical preview or contributor, most likely we will only request a small set of docs. If you are an official component of
			the Globus Toolkit, then you will be required to fill out a full set of doc templates.</para>
		
		<para>[Add links to zip files of both standard set and minimum set]</para>
		
	</chapter>
	
	<chapter id="docbook-primer-convert-from-html" xreflabel="Converting existing HTML docs to DocBook"><title>Converting existing HTML docs to DocBook</title>
		
		<para>Discuss how to use the sed file. [need Charles' help]</para>
		
	</chapter>
	
	<chapter id="docbook-primer-new-docs" xreflabel="Writing New Docs"><title>Writing New Docs</title>
		
		<para>For the most part, you only need to edit existing DocBook files. The following information is helpful If, however, you need to create a 
			new standalone doc.</para>
		
		<note>
			<simpara>We only encourage standalone docs to supplement information that is already in the templates for standard documentation or for
			information that does not fit within the template's structure. If you're not sure, contact the <ulink url="mailto:cristina@isi.edu">Documentation Coordinator</ulink>.
			</simpara>
		</note>
		
		<para>After you have the tools mentioned <xref linkend="docbook-primer-tools">above</xref>, you need to define a title for your document. Try to use
			a title that is as informative as possible using the fewest amount of words possible. Also, try to compose a title with certain 'keywords' that will
			catch the attention of readers who are looking for this information.</para>
			
		<para>Then start thinking about the possible sections and subsections you will have in your document. Make sure you coordinate with the 
			Documentation Coordinator to make sure you're not writing something that someone else has already written.</para>
		
		<para>Use the Globus Toolkit CVS repository (<xref linkend="docbook-primer-cvs" />) to look at the source files and see how the code is used in practice.</para>
	</chapter>
	
	<chapter id="docbook-primer-structure" xreflabel="Structure of a DocBook Book"><title>Structure of a DocBook Book</title>
		
		<para>The documentation for each component will make up a little "book" that is structured like this (we'll use GridFTP as an example, which
			can be found in <filename>.../toolkit/docs/4.0/data/gridftp/</filename>):</para>
		
		<screen>
		book                        : Docs for one component or family of components: GridFTP
		|
		+--chapter               : One chapter: Developer's Guide - outputs to one long HTML page - the title for the &lt;chapter&gt; also corresponds to heading level 1
			|
			---------+------------------------------------------------------
			|
			+--section           : Single section: Introduction
			|
			+--section           : Single section - Architecture and design
			|
				+--section       : Subsections - Design Overview
				|
		</screen>
		
		<para>The following is some docbook code representing how the above info 'nests':</para>
		
		<screen>
		&lt;book&gt; &lt;title&gt;GridFTP Release Manuals&lt;/title&gt;
			&lt;chapter&gt;&lt;title&gt;GridFTP Developer's Guide&lt;/title&gt;
			
				&lt;section&gt;&lt;title&gt;Introduction&lt;/title&gt;
				&lt;para&gt;[content]&lt;/para&gt;
				&lt;/section&gt;
			
				&lt;section&gt;&lt;title&gt;Architecture and design&lt;/title&gt;
					&lt;section&gt;&lt;title&gt;Design Overview&lt;/title&gt;
					&lt;para&gt;[content]&lt;/para&gt;
					&lt;/section&gt;	
				&lt;/section&gt;			
			
			&lt;/chapter&gt;
		&lt;/book&gt;
		</screen>
		
		<para>In the implementation, the code is broken up into several modular XML files. Each chapter is output as a single web page (this also applies
			to &lt;reference&gt; sections). Many of these pages embed fragments (which are separate XML files, for more information, see <xref linkend="docbook-primer-fragments"/>).
		</para>
		
		<para>For now you can take a look at the files of existing DocBook documents to get an idea of how they are tied together.</para>
	</chapter>
	
	<chapter id="docbook-primer-system-entities" xreflabel="Using System Entities"><title>Using System Entities</title>
		
		<para>System entities is DocBook's way of using 'nicknames' for the locations of all these separate, modular files.
			 In essence, we use a central file for all system entities within a version's documentation: <filename>.../toolkit/docs/[two-number version #]/entitiesnocatalog</filename></para>
		
		<para>[use a better example - with a Frag] For example, the system entity for <filename>.../toolkit/docs/[two-number version#]/data/gridftp/admin/index.xml</filename> is <computeroutput>GridFTP_admin</computeroutput>
			The full expression in <filename>entitiesnocatalog</filename> is:</para>
		
		<screen>&lt;!ENTITY GridFTP_admin SYSTEM "/mcs/www.globus.org/toolkit/docs/4.0/data/gridftp/admin/index.xml"&gt;</screen>
		
		<para>Anywhere in a version's documentation you want the information in that file to appear, use:</para>
		
		<screen>&amp;GridFTP_admin;</screen>
		
	</chapter>
	
	<chapter id="docbook-primer-paragraphs" xreflabel="Paragraphs"><title>Paragraphs</title>
		
		<para>Not surprisingly, the paragraph tag, &lt;para&gt;, is the most used tag in our documentation. Not only can you use it
			to separate your text into separate paragraphs, it may also contain block level structures (lists, figures, and so on).</para> 
			
		<para>But there is another, similar tag that is also used - &lt;simpara&gt;. This tag also separates content into separate paragraphs,
		however, it is more restrictive in that it can only contains text characters. In our documentation, this tag is mostly used inside other
			elements such as listitem (inside bullets), note, important, warning [yikes, need a section for those!]</para>
		
	</chapter>
	
	<chapter id="docbook-primer-brackets" xreflabel="Brackets"><title>Brackets</title>
		
		<para>Brackets (&lt; and &gt;) used in text must be represented in code: opening bracket is represented as <computeroutput>&amp;lt;</computeroutput>
		and the closing bracket is represented as <computeroutput>&amp;gt;</computeroutput>.</para>
		
	</chapter>
	
	<chapter  id="docbook-primer-heading" xreflabel="Headings and Sections"><title>Headings and Sections</title>
		
		<para>Most of the time, you'll be dealing with nested sections - each section will correspond to a heading level in the HTML/PDF output. 
			Every &lt;section&gt; needs two attributes. </para>
		
		<section><title>id attribute</title>
			<para>The first attribute, <computeroutput>id</computeroutput>, is standard and can be used with 
				all elements. It comes in very handy when cross-referencing between documents (more about this when talking about <xref linkend="docbook-primer-links"/>).
			The value of <computeroutput>id</computeroutput> must be unique throughout a version's documentation.</para>
			
			<para>When it comes to creating unique ids for your &lt;section&gt;s, use the following naming convention:</para>
			
			<screen>[name of your component folder]-[short name for doc]-[short term related to this section]</screen>
			
			<para>For example, this would be a unique id for the "Introduction" section of the GridFTP System Administrator's Guide: 
				<filename>gridftp-admin-intro</filename></para>

		</section>
			
		<section><title>xreflabel attribute</title>
			
			<para>The other attribute is <computeroutput>xreflabel</computeroutput>. The value of this attribute becomes the link title of any cross-
				references to the section.</para>
			
			<para>For example, the <computeroutput>xreflabel</computeroutput> for this section is "Headings and Sections" and a cross-reference to this section 
				will look like this: <xref linkend="docbook-primer-heading"/>.</para>
		
		</section>
			
		<section><title>&lt;title&gt; tag</title>
			
			<para>The opening &lt;section&gt; tag is followed by the &lt;title&gt; tag. The value of the title tag is usually the same as the xreflabel attribute and
				becomes the heading for the section in the HTML/PDF output. For example, the value of the title tag for this section is 
				"Headings and Sections", which is the heading above. The level of the heading (h1, h2, etc) depends on 
				how deeply the section is nested.
			</para>
			
		</section>
		
		<section><title>Example</title>
			
			<para>For example, the topic you're reading right now looks like this in the DocBook XML file:</para>
			
			<screen>
			&lt;section id="docbook-primer-heading" xreflabel="Headings and Sections"&gt;
				&lt;title&gt;Headings and Sections&lt;/title&gt;
				
				...
				
			&lt;/section&gt;</screen>
			
		<para>Inside this section, you can further nest &lt;section&gt; tags, each with the same requirements - <computeroutput>id</computeroutput> and 
			<computeroutput>xreflabel</computeroutput> attributes, and a &lt;title&gt; tag.</para>
		
		</section>
		
	</chapter>
	
	<chapter id="docbook-primer-code" xreflabel="Documenting Code"><title>Documenting Code</title>
		
		<para>For displaying a snippet of code, a filename or anything else you just want to appear as a part of a sentence, we will use the tag &lt;computeroutput&gt;.
			This takes the place of the HTML-tag &lt;code&gt;.</para>
		
		<para>For bigger chunks of code, use the &lt;screen&gt; tag. Just wrap your code block in it, mono-spacing with indents, and DocBook takes care of it 
			automatically.</para>
		
		<important>
			<simpara>Remember, brackets inside the &lt;screen&gt; tag must be represented in code: opening bracket is represented as <computeroutput>&amp;lt;</computeroutput>
				and the closing bracket is represented as <computeroutput>&amp;gt;</computeroutput>.</simpara>
		</important>
		
		<para>Other tags that you can use are: &lt;prompt&gt;, &lt;userinput&gt; &lt;filename&gt;, and [what else?].</para>
		
	</chapter>
	
	<chapter  id="docbook-primer-links" xreflabel="Links and Cross-references"><title>Links and Cross-references</title>
						
			<para>Linking falls into two different categories: inside the version's set of books (for example, everything underneath
				http://www.globus.org/toolkit/docs/4.2/) and any links outside of that.</para>
						
			<section><title>Cross-referencing within a version's docs</title>
				
				<para>By having unique id's, you can cross-reference any section within a version's doc with a simple tag, regardless of where that section is.</para>
				
				<note>
					<simpara>The 4.0 docs were set up differently; in those docs, you can only use internal linking within the same book (component).</simpara>
				</note>
				
				<para>The following is an example of a cross-reference (using the &lt;xref&gt; tag):</para>
				
				<screen>&lt;para&gt;Find information about headings in &lt;xref linkend="docbook-primer-heading" /&gt;.&lt;/para&gt;</screen>
				
				<para>And the HTML/PDF output looks like the following:</para>
				
				<para>Find information about creating a package in <xref linkend="docbook-primer-heading"/>.</para>
				
				<para>Note that even though this is an empty tag, you have to either:</para>
				
				<itemizedlist>
					<listitem>Provide the end-tag, &lt;/xref&gt;, or</listitem>
					<listitem>Put a slash before the ending-bracket: &lt;xref linkend="blahblah"/&gt; </listitem>
					<listitem>If you want the section's title in the link, make sure you add the xreflabel attribute [TODO].</listitem>
				</itemizedlist>
			
			</section>
		
			<section><title>Linking outside a version's docs</title>
				
				<para>If you are linking outside of your version's documentation, use the &lt;ulink&gt; tag:</para>
				
				<screen>&lt;ulink url="http://www.oracle.com"&gt;Oracle Corporation&lt;/ulink&gt;</screen>
				
				<para>The output will create a hyper-link to Oracle in the HTML-version of the documentation: 
					<ulink url="http://www.oracle.com">Oracle Corporation</ulink>
				</para>
				
				<important>
					<simpara>Do NOT use ampersands in your hyper links. These are reserved for referencing entities; instead, use the
						following code for ampersand: <computeroutput>&amp;amp;</computeroutput> </simpara>
				</important>
				
			</section>
		
	</chapter>
	
	<chapter id="docbook-primer-graphics" xreflabel="Graphics"><title>Graphics</title>
		
		<note><simpara>Currently this section only takes HTML output into consideration - not a PDF version.</simpara></note>
		
		<para>To insert a graphic we use the elements &lt;mediaobject&gt;, &lt;imageobject&gt;, and &lt;imagedata&gt;. 
				<!-- We're not using print-ready tags yet - but might consider it in the future (we just don't seem to need it enough right now. 
				[The news is that you have to provide two 
				versions of all your graphics - one for the Web (probably a GIF or a JPEG) and one for print (EPS).] -->
			You should also provide a brief description wrapped in &lt;textobject&gt; - in HTML this will be the ALT text. 
			If you want a caption to appear below the graphic, use the &lt;caption&gt; element with a &lt;para&gt; tag.</para>
		
		<screen>
		&lt;mediaobject&gt;
			&lt;imageobject&gt;
				&lt;imagedata entityref="rp-flow" format="GIF" align="center"/&gt;
			&lt;/imageobject&gt;
			&lt;textobject&gt;
				&lt;phrase&gt;This is an image of the flow in the Request Processor&lt;/phrase&gt;
			&lt;/textobject&gt;
			&lt;caption&gt;
				&lt;para&gt;This is an image of the flow in the Request Processor&lt;/para&gt;
			&lt;/caption&gt;
		&lt;/mediaobject&gt;</screen>
		
		<para>The HTML output looks like this:</para>
		
		<mediaobject>
			<imageobject>
				<imagedata entityref="rp-flow" format="GIF" align="center"/>
			</imageobject>
			<textobject>
				<phrase>This is an image of the flow in the Request Processor</phrase>
			</textobject>
			<caption>
				<para>This is an image of the flow in the Request Processor</para>
			</caption>
		</mediaobject>
			
		<para>In addition to using the above code, do the following:</para>
		
		<itemizedlist>
			<listitem>Put your graphics in the same directory as the document.</listitem>
			<listitem>Add the entity reference in <filename>.../toolkit/docs/[version]/entitiesnocatalog</filename> in the image section (towards the top).</listitem>
			<listitem>Make sure to use the <computeroutput>entityref</computeroutput> attribute for the <computeroutput>&lt;imagedata&gt;</computeroutput> tag.</listitem>
			<listitem>Keep the width of the graphic no greater than 700px (500px is best).</listitem>
		</itemizedlist>
	
	</chapter>
	
	<chapter id="docbook-primer-lists" xreflabel="Lists"><title>Lists</title>
								
		<para>The following sections describe how to make the DocBook equivalent of the three usual HTML lists: unordered lists, ordered lists and definition lists.</para>
		
		<section><title>How to make an unordered list</title>
			
			<para>Making an unordered list is pretty much like doing the same thing in HTML - if you close your &lt;li&gt;, that is. The only differences are that each list item
				has to be wrapped in something more, such as &lt;para&gt;, and that the tags are called &lt;itemizedlist&gt; and &lt;listitem&gt;:</para>
			
			<screen>
			&lt;itemizedlist&gt;
				&lt;listitem&gt;&lt;para&gt;Stuff goes here&lt;/para&gt;&lt;/listitem&gt;
				&lt;listitem&gt;&lt;para&gt;More stuff goes here&lt;/para&gt;&lt;/listitem&gt;
			&lt;/itemizedlist&gt;</screen>
			
			<para>The HTML/PDF output looks like this:</para>
			
			<itemizedlist>
				<listitem><para>Stuff goes here</para></listitem>
				<listitem><para>More stuff goes here</para></listitem>
			</itemizedlist>
		
		</section>
		
		<section><title>How to make an ordered list</title>
			
			<para>The ordered list is like the preceding, except that you use &lt;orderedlist&gt; instead:</para>
												
			<screen>
			&lt;orderedlist&gt;
				&lt;listitem&gt;&lt;para&gt;Stuff goes here&lt;/para&gt;&lt;/listitem&gt;
				&lt;listitem&gt;&lt;para&gt;More stuff goes here&lt;/para&gt;&lt;/listitem&gt;
			&lt;/orderedlist&gt;</screen>
			
			<para>The HTML/PDF output looks like this:</para>
		
			<orderedlist>
				<listitem><para>Stuff goes here</para></listitem>
				<listitem><para>More stuff goes here</para></listitem>
			</orderedlist>
		
		</section>
		
		<section><title>How to make a definition list</title>
			
			<para>This kind of list is called a "variable list" in docbook and these are the tags you'll need to make it happen: 
				&lt;variablelist&gt;, &lt;varlistentry&gt;, &lt;term&gt; and &lt;listitem&gt;:</para>
														
			<screen>
			&lt;variablelist&gt;
				&lt;varlistentry&gt;
				&lt;term&gt;Definition term goes here&lt;/term&gt;
				&lt;listitem&gt;&lt;para&gt;And definition/description goes here&lt;/para&gt;&lt;/listitem&gt;
				&lt;/varlistentry&gt;
				&lt;varlistentry&gt;
					&lt;term&gt;Another term goes here&lt;/term&gt;
					&lt;listitem&gt;&lt;para&gt;And more stuff goes here&lt;/para&gt;&lt;/listitem&gt;
				&lt;/varlistentry&gt;
			&lt;/variablelist&gt;</screen>
		
			<para>The HTML/PDF output looks like this:</para>
		
			<variablelist>
				<varlistentry>
					<term>Definition term goes here</term>
					<listitem><para>And definition/description goes here</para></listitem>
				</varlistentry>
				<varlistentry>
					<term>Another term goes here</term>
					<listitem><para>And more stuff goes here</para></listitem>
				</varlistentry>
			</variablelist>
		
		</section>

	</chapter>
	
	<chapter id="docbook-primer-tables" xreflabel="Tables"><title>Tables</title>
														
		<para>DocBook supports several types of tables, but in most cases, the <ulink url="http://docbook.org/tdg/en/html/informaltable.html">&lt;informaltable&gt;</ulink> 
			is enough:</para>
															
		<screen>
		&lt;informaltable frame="all"&gt;
			&lt;tgroup cols="3"&gt;
				&lt;tbody&gt;
					&lt;row&gt;
						&lt;entry&gt;a1&lt;/entry&gt;
						&lt;entry&gt;b1&lt;/entry&gt;
						&lt;entry&gt;c1&lt;/entry&gt;
					&lt;/row&gt;
					&lt;row&gt;
						&lt;entry&gt;a2&lt;/entry&gt;
						&lt;entry&gt;b2&lt;/entry&gt;
						&lt;entry&gt;c2&lt;/entry&gt;
					&lt;/row&gt;
					&lt;row&gt;
						&lt;entry&gt;a3&lt;/entry&gt;
						&lt;entry&gt;b3&lt;/entry&gt;
						&lt;entry&gt;c3&lt;/entry&gt;
					&lt;/row&gt;
																
				&lt;/tbody&gt;
			&lt;/tgroup&gt;
		&lt;/informaltable&gt;</screen>
		
		<para>The output is a simple HTML table:</para>
		
		<informaltable frame="all">
			<tgroup cols="3">
				<tbody>
					<row>
						<entry>a1</entry>
						<entry>b1</entry>
						<entry>c1</entry>
					</row>
					<row>
						<entry>a2</entry>
						<entry>b2</entry>
						<entry>c2</entry>
					</row>
					<row>
						<entry>a3</entry>
						<entry>b3</entry>
						<entry>c3</entry>
					</row>
							
				</tbody>
			</tgroup>
		</informaltable>
		
		<para>If you want cells to span more than one row or column, it gets a bit more complicated - check out 
			<ulink url="http://docbook.org/tdg/en/html/table.html">&lt;table&gt;</ulink> for more information.</para>
	
	</chapter>
	
	<chapter id="docbook-primer-emphasis" xreflabel="Emphasis"><title>Emphasis</title>
		
		<para>[seems the second option doesn't work]</para>
		
		<para>Our documentation uses two flavors of emphasis - italics and bold type. DocBook uses one - 
			<ulink url="http://docbook.org/tdg/en/html/emphasis.html">&lt;emphasis&gt;</ulink>.</para>
																	
		<para>The <computeroutput>&lt;emphasis&gt;</computeroutput> tag defaults to italics when parsed. If you want to emphasize with bold type, 
			use <computeroutput>&lt;emphasis role="strong"&gt;</computeroutput>.</para>
		
		<para><emphasis>This little sentence uses just the <computeroutput>&lt;emphasis&gt;</computeroutput> tag.</emphasis></para>
		
		<para><emphasis role="strong">This little sentence uses the <computeroutput>&lt;emphasis role="strong"&gt;</computeroutput> tag.</emphasis></para>
	
	</chapter>
	
	<chapter  id="docbook-primer-glossaries" xreflabel="Glossaries"><title>Glossaries</title>
		<para>TODO</para>
	</chapter>
	
	<chapter id="docbook-primer-indexing" xreflabel="Indexing"><title>Indexing</title>
		
		<para>You should mark up words in your documents that you would like to see show up in an index (which appears at the
		end of a technology's table of contents). We are working on using specialized indexes to consolidate certain
		information (such as how tos).</para>
																		
		<para>Use <ulink url="http://docbook.org/tdg/en/html/indexterm.html">&lt;indexterm&gt;</ulink>, 
		<ulink url="http://docbook.org/tdg/en/html/primary.html">&lt;primary&gt;</ulink> and 
		<ulink url="http://docbook.org/tdg/en/html/secondary.html">&lt;secondary&gt;</ulink> for this. See these links for an explanation.</para>
		
	</chapter>
	
	<chapter id="docbook-primer-convert-to-html" xreflabel="Converting to HTML"><title>Converting to HTML (?)</title>
		
		<note><simpara>This section is quoted almost verbatim from the LDP Author Guide. [need charles to verify/tweak - or
			is this even necessary?]</simpara></note>
																			
		<para>Once you have the Docbook Tools installed, you can convert your xml documents to HTML or other formats.</para>
																			
		<para>With the DocBook XSL stylesheets, generation of multiple files is controlled by the stylesheet. If you want to generate a single file, you call one stylesheet. 
		If you want to generate multiple files, you call a different stylesheet.</para>
																		
		<para>To generate a single HTML file from your DocBook XML file, use the command:</para>
																			
		<screen>bash$  xsltproc -o outputfilename.xml /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/html.xsl filename.xml</screen>
																			
		<note><simpara>This example uses Daniel Veillard's xsltproc command available as part of libxslt from 
		<ulink url="http://www.xmlsoft.org/XSLT/">http://www.xmlsoft.org/XSLT/</ulink>. If you are using other XML 
		processors such as Xalan or Saxon, you will need to change the command line appropriately.</simpara></note>
																			
		<para>To generate a set of linked HTML pages, with a separate page for each &lt;chapter&gt;, &lt;section&gt; or &lt;appendix&gt; tag, use the following command:</para>
																				
		<screen>bash$  xsltproc /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/chunk.xsl filename.xml</screen>
																				
		<para>You could also look at a Makefile (found in most component directories) for examples of how these documents are generated.</para>

	</chapter>
	
	<chapter id="docbook-primer-seealso" xreflabel="Further Reading"><title>Further Reading</title>
		
		<itemizedlist>
			<listitem>Bacon's sed (more info)</listitem>
			<listitem>Using Xinclude</listitem>
			<listitem>The LDP Author Guide has a lot of good information, a table of docbook elements and their "look" in HTML and lots of good links for tools.</listitem>
			<listitem>David Lutterkort wrote an intro to the PSGML Mode in Emacs</listitem>
			<listitem>For checking if your document is well-formed, James Clark's free Java parser, XP, is recommended. (note that it is not a validating parser, 
			but as long as you follow the guidelines set forth in this document, your XML will validate)</listitem>
			<listitem>AptConvert from PIXware is a Java editor that will produce DocBook documents and let you transform them into HTML and PDF for a local 
			preview before you submit.</listitem>
			<listitem>In the process of transforming your HTML into XML, HTML tidy can be a handy tool to make your HTML "regexp'able". Brandoch Calef has 
			made a Perl script that gets you most of the way. </listitem>
		</itemizedlist>
		
	</chapter>
	
	<chapter><title>[what else should we add to the primer?]</title>
		
		<para>This section is a repository of ideas/suggestions for the primer:</para>
		
		<para>How to document update packages.</para>
		
	</chapter>

</book>

