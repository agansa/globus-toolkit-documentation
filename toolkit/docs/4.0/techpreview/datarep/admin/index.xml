<title>GT 4.0 DRS: System Administrator's Guide</title>
<titleabbrev>System Administrator's Guide</titleabbrev>

<section id="s-datarep-admin-introduction"><title>Introduction</title>
<para>This guide contains advanced configuration information for system administrators
  working with the Data Replication Service (DRS). It provides references to information on procedures
  typically performed by system administrators, including installing, configuring,
 deploying, and testing the installation.</para>
 <important>
  <simpara> This information is in addition to the basic Globus Toolkit prerequisite, 
   overview, installation, security configuration instructions in the <ulink url="../../admin/docbook/">GT 4.0 System Administrator's Guide</ulink>.  
   Read through this guide before continuing!</simpara>  
 </important>
</section>


<section id="s-datarep-admin-installing"><title>Building and installing</title>
    <para>DRS is not installed as part of the standard install. In order to install DRS, you will need to ensure that RLS is also installed as part of the build by setting <computeroutput>GLOBUS_IODBC_PATH</computeroutput> or configuring with the <computeroutput>--with-iodbc</computeroutput> flag. Also, the <computeroutput>--enable-drs</computeroutput> flag is required as part of the configuration step. The following commands will install the DRS.</para>
<screen>
% ./configure --prefix=<emphasis>/path/to/install</emphasis> --with-iodbc=<emphasis>/path/to/iodbcdir</emphasis> --enable-drs
% make
% make install
</screen>
    <important><para>The DRS depends on the Globus RLS. In order for the &quot;make&quot; command above to build
            and install the RLS, you must follow the basic installation instructions for GT 4.0 as noted previously. 
            Installation of the RLS requires that the <computeroutput>--with-iodbc</computeroutput> configure flag or the 
            <computeroutput>GLOBUS_IODBC_PATH</computeroutput> environment variable be properly set <emphasis>before</emphasis> 
            issuing the <computeroutput>make</computeroutput> command. Not setting this environment variable before installation
            is a common mistake encountered by users.</para></important>

    <para>Additionally, you may access the 4.0.1 branch of DRS from the Globus Toolkit CVS repository. You may deploy the 4.0.1 DRS on top of an existing GT 4.0.0 installation as well as a GT 4.0.1 installation. The following instructions will only work given the presence of an existing GT 4.0.0 or GT 4.0.1 installation with <emphasis>all DRS dependencies</emphasis>. The best way to establish such an environment is to first follow the above instructions and subsequently use the following instructions to obtain the latest updates from the CVS branch.</para>
<screen>
% setenv GLOBUS_LOCATION /path/to/existing/gt40x/install/
% setenv CVSROOT :pserver:anonymous@cvs.globus.org:/home/globdev/CVS/globus-packages
% cvs co -r globus_4_0_branch ws-replica/
% cd ws-replica/replicator/
% ant deploy
</screen>
    <para>To learn more about general instructions regarding GT CVS access, see <ulink url="http://www.globus.org/toolkit/docs/development/remote-cvs.html">Remote CVS Access</ulink>.</para>
</section>


<section id="s-datarep-admin-configuring"><title>Configuring </title>
    <para>This information is in addition to the basic configuration instructions in the <ulink url="http://www.globus.org/toolkit/docs/4.0/admin/docbook/">GT4.0 System Administrator's Guide</ulink>. Aside from the basic configuration of GT 4.0, please review the following instructions:</para>
    &DataRep_Interface_Config_Frag;
</section>

<section id="s-datarep-admin-deploying"><title>Deploying</title>
<para>No further information is necessary.</para>
</section>

<section id="s-datarep-admin-testing"><title>Testing</title>
<para>This service does not provide a set of tests yet.</para>
</section>

<section id="s-datarep-admin-security_considerations"><title>Security considerations</title>
&DataRep_Security_Considerations_Frag;
</section>

<section id="s-datarep-admin-troubleshooting"><title>Troubleshooting</title>
<para>Generating verbose log output is a critical aid in troubleshooting of the DRS and is useful 
when communicating problems to Globus support lists. To increase logging detail, add the following 
line to the <computeroutput>$GLOBUS_LOCATION/container-log4j.properties</computeroutput> file.</para>
<screen>
 ...
 log4j.category.org.globus.replica=DEBUG
 ...
</screen>
<!-- TODO Add troubleshooting help for problems related to:
  1) invalid index url
  2) invalid registration url
  3) invalid rft url
  4) improperly formated request file
  5) system freeze
-->
</section>
