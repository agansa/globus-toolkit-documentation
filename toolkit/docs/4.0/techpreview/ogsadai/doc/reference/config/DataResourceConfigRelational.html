<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtmll/DTD/xhtmll-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- &copy; International Business Machines Corporation, 2004 -->
<!-- &copy; The University of Edinburgh, 2004 -->
<head>
<title>How to Write a Relational Data Resource Configuration Document</title>
<link rel="stylesheet" type="text/css" href="../../style.css"/>
</head>
<body>
<h1>How to Write a Relational Data Resource Configuration Document</h1>
<p>
To write a data resource configuration document to expose a relational
data resource:
</p>
<ol>
<li>
Copy the following XML document:
<pre class="xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;dataResourceConfig
  xmlns="http://ogsadai.org.uk/namespaces/2004/05/gdsf/config"&gt;
  &lt;documentation&gt;
    <span class="important">MY-COMMENTS</span>
  &lt;/documentation&gt;
  &lt;metaData&gt;
    &lt;productInfo&gt;
      &lt;productName&gt;<span class="important">PRODUCT</span>&lt;/productName&gt;
      &lt;productVersion&gt;<span class="important">VERSION</span>&lt;/productVersion&gt;
      &lt;vendorName&gt;<span class="important">VENDOR</span>&lt;/vendorName&gt;
    &lt;/productInfo&gt;
    &lt;relationalMetaData&gt;
      &lt;databaseSchema callback="<span class="important">CALLBACK</span>"/&gt;
    &lt;/relationalMetaData&gt;
    <span class="important">CUSTOM-METADATA</span>
  &lt;/metaData&gt;
  &lt;roleMap name="Name"
    implementation="uk.org.ogsadai.common.rolemap.SimpleFileRoleMapper"
    configuration="<span class="important">ROLE-MAP-FILE</span>"/&gt;
  &lt;dataResource
    implementation="uk.org.ogsadai.dataresource.SimpleJDBCDataResourceMediator"&gt;
    &lt;driver implementation="<span class="important">DATABASE-DRIVER</span>"&gt;
      &lt;uri&gt;<span class="important">DATABASE-URI</span>&lt;/uri&gt;
    &lt;/driver&gt;
  &lt;/dataResource&gt;
&lt;/dataResourceConfig&gt;
</pre>
</li>
<li>
Optionally, replace <span class="xml">MY-COMMENTS</span> with some
suitable text describing your data resource, or just remove it.
</li>
<li>
Replace <span class="xml">PRODUCT</span> with the name of your data
resource e.g. <span class="xml">MySQL</span>.
</li>
<li>
Replace <span class="xml">VERSION</span> with the version of your data
resource e.g. <span class="xml">4</span>.
</li>
<li>
Replace <span class="xml">VENDOR</span> with the vendor of your data
resource e.g. <span class="xml">MySQL</span>.
</li>
<li>
Replace <span class="xml">CALLBACK</span> with:
<ul>
<li>
<span
class="xml">uk.org.ogsadai.dataresource.MySQLMetaDataExtractor</span>
if you are exposing a MySQL data resource.
</li>
<li>
<span
class="xml">uk.org.ogsadai.dataresource.SimpleJDBCMetaDataExtractor</span>
otherwise.
</li>
</ul>
</li>
<li>
Optionally, replace <span class="xml">CUSTOM-METADATA</span> with some
suitable XML describing your data resource, or just remove it.
</li>
<li>
Replace <span class="xml">ROLE-MAP-FILE</span> with the
relative or absolute location of a
role map file consistent with the OGSA-DAI role map document format
(which is described <a href="RoleMap.html">later</a> in this guide).
Relative pathnames will be resolved against the home directory of the web application of a Web services hosting container, for example
<span class="commandline">CONTAINER/webapps/ogsa</span>.
</li>
<li>
Replace <span class="xml">DATABASE-DRIVER</span> with a Java database
driver class names. We have <a
href="../../background/supported.html">already</a> given an overview of
recommended relational database drivers.
</li>
<li>
Replace <span class="xml">DATABASE-URI</span> with the driver-specific
URI of your data resource. For <span class="important">example</span>:
<ul>
<li>For MySQL <span class="xml">jdbc:mysql://localhost:3306/ogsadai</span></li>
<li>For DB2 <span class="xml">jdbc:db2://localhost:50000/ogsadai</span></li>
<li>For SQL Server <span class="xml">jdbc:microsoft:sqlserver://localhost:1433;DatabaseName=ogsadai</span></li>
<li>For PostgreSQL <span class="xml">jdbc:postgresql://localhost:5342/ogsadai</span></li>
<li>For Oracle <span class="xml">jdbc:oracle:thin:@localhost:1521:ogsadai</span></li>
</ul>
</li>
</ol>

<hr/>
<table width="100%" summary="Navigation" class="footer">
<tr>
<td class="footer">Back: <a href="DataResourceConfig.html">Data Resource Configuration</a></td>
<td class="footer">Up: <a href="index.html">Exposing Data Resources</a></td>
<td class="footer">Next: <a href="DataResourceConfigXML.html">How to Write an XML Data Resource Configuration Document</a></td>
</tr>
<tr>
<td>
&copy; International Business Machines Corporation, 2004.
</td>
<td>
&copy; The University of Edinburgh, 2004.
</td>
<td/>
</tr>
</table>
</body>
</html>
