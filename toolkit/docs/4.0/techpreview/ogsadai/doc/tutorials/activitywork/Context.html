
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- &copy; International Business Machines Corporation, 2004 -->
<!-- &copy; The University of Edinburgh, 2004 -->
<head>
<title>The Activity Execution Context</title>
<link rel="stylesheet" type="text/css" href="../../style.css"/>
</head>
<body>
<h1>The Activity Execution Context</h1>
<p>
The context is used to provide to activities information that would
otherwise be inaccessible e.g. user credentials, and also any data
required by the engine. The context is implemented as a hierarchical
map. It will still behave exactly the way a map behaves, however it
handles <span class="java">String</span> keys in a special way - <span
class="java">String</span> keys are treated in the same way as paths in
a file system. For example: 
</p>
<ul>
<li>
If <span class="java">/request/status/activity1</span> refers to the
status of the activity named <span class="java">activity1</span>.
</li>
<li>
And <span class="java">/request/status/activity2</span> refers to the 
status of the activity named <span class="java">activity2</span>.
</li>
</ul>
<p>
Then <span class="java">/request/status/</span> refers to a map
containing keys <span class="java">activity1</span> and <span
class="java">activity2</span>.
</p>
<p>
The trailing <span class="java">/</span> is important - 
<span class="java">/request/status</span> would be the key for a
different object. Because of this, the only objects that can be put
into the context with a <span class="java">String</span> key ending in 
<span class="java">/</span> are <span class="java">Maps</span>.
</p>
<p>
Two common keys and a description of their values are:
</p>
<ul>
<li>
<span
class="java">uk.org.ogsadai.engine.EngineImpl.PIPES</span>
- This section of the context contains the inputs and outputs for
activities to use. If an activity has an output named <span
class="java">myOutput</span>  then to retrieve that output from the
context it would use:  
<pre class="java">context.get(EngineImpl.PIPES + myOutput)  
</pre>
</li>
<li>
<span
class="java">uk.org.ogsadai.service.OGSADAIConstants.GDS_USERCERTDN</span>
- This is not a <span class="java">String</span> key, and references
only one value, the distinguished name from the certificate the client
used to access OGSA-DAI services.
</li>
</ul>
<p>
For other data the keys are placed in <span
class="java">uk.org.ogsadai.service.OGSADAIConstants</span>. There are 
some other keys in <span
class="java">uk.org.ogsadai.engine.EngineImpl</span> 
but, other than the <span class="java">PIPES</span> constant, none of
these should really be of interest as the engine uses them to store
internal state. 
</p>


<hr/>
<table width="100%" summary="Navigation" class="footer">
<tr>
<td class="footer">Back: <a href="ActivityEngine.html">Executing Activities in the Engine</a></td>
<td class="footer">Up: <a href="index.html">How Activities Work</a></td>
<td class="footer">Next: <a href="InterActivityCommunication.html">How Activities Inter-communicate</a></td>
</tr>
<tr>
<td>
&copy; International Business Machines Corporation, 2004.
</td>
<td>
&copy; The University of Edinburgh, 2004.
</td>
<td/>
</tr>
</table>
</body>
</html>

