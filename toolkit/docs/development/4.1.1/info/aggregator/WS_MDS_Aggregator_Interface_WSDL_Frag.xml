<?xml version='1.0' encoding='UTF-8'?>

<section><title>Protocol overview</title>
<para>The aggregator framework builds on the <ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/wsrf/schema/wsrf/servicegroup/WS-ServiceGroup.wsdl?rev=1.9&amp;only_with_tag=globus_4_0_0">
WS-ServiceGroup</ulink> and <ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/wsrf/schema/wsrf/lifetime/WS-ResourceLifetime.wsdl?rev=1.11&amp;only_with_tag=globus_4_0_0">
WS-ResourceLifetime</ulink> specifications. Those specifications should
be consulted for details on the syntax of each operation.</para>
<para>Each aggregator framework is represented as a WS-ServiceGroup
(specifically, an AggregatorServiceGroup).</para>
<para>Resources may be registered to an AggregatorServiceGroup using
the AggregatorServiceGroup Add operation. Each registration will be
represented as a ServiceGroupEntry resource. Resources may be
<emphasis>registered</emphasis> to an AggregatorServiceGroup using the service
group <constant>add</constant> operation, which will cause an entry to be
added to the service group.</para>
<para>The entry will include configuration parameters for the
    <glossterm>aggregator source</glossterm>; when the registration is made, the following
will happen:</para>
<orderedlist>
<listitem><simpara>The appropriate aggregation source and sinks will be
informed,</simpara></listitem>
<listitem><simpara>the aggregator source will begin collecting data and inserting
it into the corresponding service group entry,</simpara></listitem>
<listitem><simpara>and the aggregator sink will begin processing the information
in the service group entries.</simpara></listitem>
</orderedlist>
<para>The method of collection by source and processing by the sink is
dependent on the particular instantiation of the aggregator
    framework (see <link linkend="aggregator-sources">per-source documentation</link> for source information and per-service documentation for sink information - for example the <link linkend="index">Index Service</link> and the <link linkend="trigger">Trigger Service</link>.)</para>
</section>
<section><title>Operations</title>

<section><title>AggregatorServiceGroup</title>
<itemizedlist>
<listitem><simpara><constant>add:</constant> This operation is used to register a
specified resource with the aggregator framework. In addition to
the requirements made by the WS-ServiceGroup specification, the
Content element of each registration must be an AggregatorContent
type, with the AggregatorConfig element containing configuration
information specific to each source and sink 
(documented in the <xref linkend="aggregator-admin"/>).</simpara></listitem>
</itemizedlist>
</section>
<section><title>AggregatorServiceGroupEntry</title>
<itemizedlist>
<listitem><simpara><constant>setTerminationTime:</constant> This operation can be used to
set the termination time of the registration, as detailed in
WS-ResourceLifetime.</simpara></listitem>
</itemizedlist>
</section>
</section>
    <section><title>Resource properties</title>
    &WS_MDS_Aggregator_Resource_Properties_Summary_Frag;
    </section>
        <section><title>Faults</title>
<para>The aggregator framework throws standard WS-ServiceGroup,
WS-ResourceLifetime, and WS-ResourceProperties faults and does not
define any new faults of its own.</para>
</section>
<section><title>WSDL and Schema Definition</title>
<itemizedlist>
<listitem><simpara><ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/ws-mds/aggregator/schema/mds/aggregator/aggregator_service_group_port_type.wsdl?rev=1.1&amp;only_with_tag=globus_4_0_0&amp;content-type=text/vnd.viewcvs-markup">
AggregatorServiceGroup</ulink></simpara></listitem>
<listitem><simpara><ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/ws-mds/aggregator/schema/mds/aggregator/aggregator_service_group_entry_port_type.wsdl?rev=1.2&amp;only_with_tag=globus_4_0_0&amp;content-type=text/vnd.viewcvs-markup">
AggregatorServiceGroupEntry</ulink></simpara></listitem>
<listitem><simpara><ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/ws-mds/aggregator/schema/mds/aggregator/aggregator-types.xsd?rev=1.1&amp;only_with_tag=globus_4_0_0&amp;content-type=text/vnd.viewcvs-markup">
common types used by AggregatorServiceGroup and
AggregatorServiceGroupEntry</ulink></simpara></listitem>
</itemizedlist>
<para>Other relevant source files are the:</para>
<itemizedlist>
<listitem><simpara><ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/wsrf/schema/wsrf/servicegroup/WS-ServiceGroup.wsdl?rev=1.9&amp;only_with_tag=globus_4_0_0">
WSRF service group schema</ulink></simpara></listitem>
<listitem><simpara><ulink url=
"http://viewcvs.globus.org/viewcvs.cgi/wsrf/schema/wsrf/lifetime/WS-ResourceLifetime.wsdl?rev=1.11&amp;only_with_tag=globus_4_0_0">
WSRF resource lifetime schema</ulink></simpara></listitem>
<listitem><simpara>MDS Usefulrp schema.</simpara></listitem>
</itemizedlist>
</section>
