<?xml version='1.0' encoding='UTF-8'?>
<title>GT &shortversion; RLS: System Administrator's Guide</title>
<titleabbrev>System Administrator's Guide</titleabbrev>


<section id="rls-admin-introduction"><title>Introduction</title>
    <para>This guide contains advanced configuration information for system administrators
        working with RLS. It provides references to information on procedures
        typically performed by system administrators, including installation, configuring,
        deploying, and testing the installation.</para>
    <important>
        <simpara> This information is in addition to the basic Globus Toolkit prerequisite, 
            overview, installation, security configuration instructions in the <xref linkend="gtadmin"/>.  
            Read through this guide before continuing!</simpara>  
    </important>
</section>

<section id="rls-admin-installing"><title>Building and Installing</title>

    <para>RLS is built and installed as part of the Globus Toolkit installation. This section provides instructions specific to building and installing RLS. Most of this section concerns the setup and configuration of database management system (DBMS) and database connectivity (ODBC) software required for the RLS server.</para>

    <section id="rls-admin-install-prereq"><title>Prerequisites</title>

        <para>The RLS depends on DBMS and ODBC software. If you are not familiar with DBMS and ODBC software, you may need to familiarize yourself with these tools before proceeding with RLS installation. Most of the difficulty users experience when installing RLS is actually due to DBMS and ODBC issues, which are often beyond our control.</para>
        <para>The following list summarizes the prerequisite database software,</para>
        <itemizedlist>
            <listitem><simpara><xref linkend="rls-admin-install-prereq-dbms"/>: for persistent storage of replica location information</simpara></listitem>
            <listitem><simpara><xref linkend="rls-admin-install-prereq-odbcman"/>: for vendor-neutral connectivity to DBMS</simpara></listitem>
            <listitem><simpara><xref linkend="rls-admin-install-prereq-odbcdrv"/>: for vendor-specific connectivity to DBMS from ODBC Managers</simpara></listitem>
        </itemizedlist>

        <para>When using this guide, please consult the vendor and official project sites for authoritative information on DBMS and ODBC software. Any additional information provided on this site is intended as helpful advice and only reflects our limited experiences as fellow users of the software.</para>

        <section id="rls-admin-install-prereq-dbms"><title>Database Management System</title>
            <para>The RLS depends on a DBMS for persistent storage of replica location information. The RLS is designed to work with MySQL, PostgreSQL, and Oracle DBMS software. In the case of MySQL, it is important to use the transaction-capable InnoDB database engine. For complete information on installation and configuration of third-party DBMS software, please refer to,</para>
            <itemizedlist>
                <listitem><simpara><ulink url="http://www.mysql.com">MySQL</ulink></simpara></listitem>
                <listitem><simpara><ulink url="http://www.postgresql.org">PostgreSQL</ulink></simpara></listitem>
                <listitem><simpara><ulink url="http://www.oracle.com">Oracle</ulink></simpara></listitem>
            </itemizedlist>

            <para>We provide the following tips from the troubleshooting section of this guide,</para>
            <itemizedlist>
                <listitem><simpara><xref linkend="rls-admin-trouble-mysql-install"/></simpara></listitem>
                <listitem><simpara><xref linkend="rls-admin-trouble-pgsql-install"/></simpara></listitem>
                <listitem><simpara><xref linkend="rls-admin-trouble-mysql-install-check"/></simpara></listitem>
                <listitem><simpara><xref linkend="rls-admin-trouble-pgsql-install-check"/></simpara></listitem>
            </itemizedlist>
        </section>

        <section id="rls-admin-install-prereq-odbcman"><title>ODBC Manager</title>
            <para>The RLS depends on an ODBC manager for standardised database connectivity. The unixODBC or iODBC libraries may be used for this purpose. Please confirm that one of these libraries is installed and configured before proceeding with RLS installation. If you need more information on the ODBC managers, consult their respective project home pages.</para>

            <itemizedlist>
                <listitem><simpara><ulink url="http://www.unixodbc.org">unixODBC</ulink></simpara></listitem>
                <listitem><simpara><ulink url="http://www.iodbc.org">iODBC</ulink></simpara></listitem>
            </itemizedlist>

            <para>You may also find that unixODBC or (less likely) iODBC are included along with a vendor's odbc driver. This appears to be the case with MySQL Connector/ODBC drivers at the time of writing this document.</para>

            <para>We provide the following tips from the troubleshooting section of this guide,</para>
            <itemizedlist>
                <listitem><simpara><xref linkend="rls-admin-trouble-iodbc-install"/></simpara></listitem>
                <listitem><simpara><xref linkend="rls-admin-trouble-unixodbc-install"/></simpara></listitem>
            </itemizedlist>

            <note><para>If you are installing RLS from a Globus Toolkit binary bundle, you do not need to install the unixODBC or iODBC software. The binary installation of RLS is statically linked to iODBC version 3.51.2.</para></note>
        </section>

        <section id="rls-admin-install-prereq-odbcdrv"><title>ODBC Driver</title>
            <para>The RLS depends on an ODBC driver for vendor-specific database connectivity via the vendor neutral ODBC manager. For each vendor you will find a related ODBC driver. You may find relevant information at the following sites,</para>
            <itemizedlist>
                <listitem><simpara><ulink url="http://pgfoundry.org/projects/psqlodbc/">psqlODBC</ulink> the official PostgreSQL ODBC Driver</simpara></listitem>
                <listitem><simpara><ulink url="http://www.mysql.com/products/connector/odbc/index.html">MySQL Connector/ODBC</ulink> offered directly by MySQL (note: use the 3.51 branch)</simpara></listitem>
                <listitem><simpara><ulink url="http://www.oracle.com">Consult Oracle</ulink> for details on ODBC Driver for Oracle DBMS</simpara></listitem>
            </itemizedlist>

            <para>We provide the following tips from the troubleshooting section of this guide,</para>
            <itemizedlist>
                <listitem><simpara><xref linkend="rls-admin-trouble-myodbc-install"/></simpara></listitem>
                <listitem><simpara><xref linkend="rls-admin-trouble-psqlodbc-install"/></simpara></listitem>
            </itemizedlist>
        </section>

        <section id="rls-admin-install-prereq-obs"><title>Choosing the right DBMS &amp; ODBC software</title>
            <para>We have used or know of users who have used the following combinations of software packages on the following platforms. What we provide in this section is a small subset of available options when choosing DBMS &amp; ODBC software.</para>
            <table><title>Database &amp; ODBC Observations</title>
                <tgroup cols="6"><tbody>
                        <row>
                            <entry>Architecture</entry>
                            <entry>OS</entry>
                            <entry>Distribution</entry>
                            <entry>ODBC Manager</entry>
                            <entry>ODBC Driver</entry>
                            <entry>DBMS</entry>
                        </row>
                        <row>
                            <entry>PPC</entry>
                            <entry>OS X</entry>
                            <entry>Apple</entry>
                            <entry>unixODBC-2.2.11*</entry>
                            <entry>TBD</entry>
                            <entry>TBD</entry>
                        </row>
                        <row>
                            <entry>SPARC, 32-bit</entry>
                            <entry>Solaris</entry>
                            <entry>Sun</entry>
                            <entry>libiodbc-3.51.2</entry>
                            <entry>MyODBC-3.51.06</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>SPARC, 32-bit</entry>
                            <entry>Solaris</entry>
                            <entry>Sun</entry>
                            <entry>libiodbc-3.51.2</entry>
                            <entry>MyODBC-3.51.12</entry>
                            <entry>mysql-4.0.16</entry>
                        </row>
                        <row>
                            <entry>SPARC, 32-bit</entry>
                            <entry>Solaris</entry>
                            <entry>Sun</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>MyODBC-3.51.12</entry>
                            <entry>mysql-4.0.16</entry>
                        </row>
                        <row>
                            <entry>SPARC, 32-bit</entry>
                            <entry>Solaris</entry>
                            <entry>Sun</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>TBD</entry>
                            <entry>TBD</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>libiodbc-3.51.1</entry>
                            <entry>MyODBC-3.51.06</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>libiodbc-3.51.2</entry>
                            <entry>MyODBC-3.51.06</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>libiodbc-3.52.4</entry>
                            <entry>MyODBC-3.51.06</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>libiodbc-3.52.4</entry>
                            <entry>psqlodbc-7.2.5</entry>
                            <entry>postgresql-7.4.6</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>MyODBC-3.51.06</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>mysql-connector-odbc-3.51.12</entry>
                            <entry>mysql-standard-4.0.18</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>mysql-connector-odbc-3.51.12</entry>
                            <entry>mysql-standard-5.0.21</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>psqlodbc-7.2.5</entry>
                            <entry>postgresql-7.4.6</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>Linux</entry>
                            <entry>RedHat</entry>
                            <entry>unixODBC-2.2.11</entry>
                            <entry>psqlodbc-08.00.0102</entry>
                            <entry>postgresql-7.4.6</entry>
                        </row>
                        <row>
                            <entry>x86</entry>
                            <entry>OS X</entry>
                            <entry>Apple</entry>
                            <entry>TBD</entry>
                            <entry>TBD</entry>
                            <entry>TBD</entry>
                        </row>
                        <row>
                            <entry>x86_64</entry>
                            <entry>Linux</entry>
                            <entry>SuSE</entry>
                            <entry>unixODBC-2.2.8-35</entry>
                            <entry>MyODBC-unixODBC-3.51.06-121</entry>
                            <entry>mysql-client-4.0.18-25</entry>
                        </row>
                        <row>
                            <entry>x86_64</entry>
                            <entry>Linux</entry>
                            <entry>SuSE</entry>
                            <entry>unixODBC-2.2.8-35</entry>
                            <entry>psqlodbc-08.00.0102</entry>
                            <entry>postgresql-7.4.9</entry>
                        </row>
                        <!--
                        <row>
                            <entry></entry>
                            <entry></entry>
                            <entry></entry>
                            <entry></entry>
                            <entry></entry>
                            <entry></entry>
                        </row>
                        -->
                </tbody></tgroup>
            </table>
            <para>(*) See troubleshooting tip <xref linkend="rls-admin-trouble-unixodbc-install-osxfix"/></para>
            <para>If you build from source, be aware that some versions of a vendor's drivers do not build against some versions of the same vendor's clients. For instance, MySQL Connector/ODBC 3.51.06 does not appear to build againt MySQL 4.1.x client libraries, instead it requires MySQL 4.0.x client libraries. Also, we have noticed that psqlodbc-07.03.x will build against pgsql-7.4.x but when using the driver it fails with little or no information to indicate why it failed. We have found that psqlodbc-08.00.x works well with postgres-7.4.6. In all cases, consult the vendor's documentation.</para>
            <para>Support RLS development by sending your working RLS + ODBC Manager + ODBC Driver + RDBMS configuration to the rls-user@globus.org list! We cannot test on all platforms with all combinations so we rely on our user community to help advise new users. Your support in this matter is appreciated.</para>
        </section> <!-- Choosing DBMS and ODBC END -->

    </section> <!-- Prequisites END -->

    <section id="rls-admin-install-binary"><title>Binary Installation of RLS</title>
        <para>Follow instructions provided by <xref linkend="gtadmin"/> and <xref linkend="gtadmin-install"/> in order to install the RLS from one of the available binary bundles of the Globus Toolkit. As noted in <xref linkend="rls-admin-install-prereq-odbcman"/>, the <computeroutput>globus-rls-server</computeroutput> found in the binary bundles is statically linked to the ODBC Manager.</para>
        <important><para>You must use the <computeroutput>--enable-rls</computeroutput> configure option, otherwise the RLS installation will be skipped. For more details refer to <xref linkend="gtadmin-install"/>.</para></important>
    </section>

    <section id="rls-admin-install-dbuser"><title>Create DBMS User Account</title>
        <para>You or your system administrator must create a DBMS user account, to be used by the RLS Server to log on to the DBMS. Throughout this guide we refer to the username as <emphasis>dbuser</emphasis> and the password as <emphasis>dbpassword</emphasis>. Substitute your chosen username and password combination where applicable.</para>
        <para>For MySQL users, the command may look something like this,</para>
        <screen>
% /path/to/mysql/bin/mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 71 to server version: 4.0.18-standard-log
 
Type 'help;' or '\h' for help. Type '\c' to clear the buffer.
 
mysql> use mysql;
Database changed
mysql> grant all on lrc1000.* to dbuser@localhost identified by 'dbpassword';
mysql> grant all on rli1000.* to dbuser@localhost identified by 'dbpassword';
        </screen>
        <para>For PostgreSQL user, the command may look something like this,</para>
        <screen>
% /path/to/pgsql/bin/createuser -P dbuser -W
Enter password for new user:
Enter it again:
Shall the new user be allowed to create databases? (y/n) y
Shall the new user be allowed to create more new users? (y/n) n
Password:
CREATE USER
        </screen>
    </section> <!-- Create DBMS User -->

   <section><title>Building and installing details</title>
       <para>For detailed instructions on building and installing RLS, see <xref linkend="rls-building-installing"/>. </para>
   </section>
</section>


<section id="rls-admin-configuring"><title>Configuring </title>
    &RLS_Interface_Config_Frag;
</section>

<section id="rls-admin-deploying"><title>Deploying</title>
    <para>This section does not apply to the RLS.</para>
</section>

<section id="rls-admin-testing"><title>Testing</title>
    <para>You can use the programs <computeroutput>globus-rls-admin
        </computeroutput>and <computeroutput>globus-rls-cli </computeroutput>to test functionality. See their 
        respective <computeroutput>man</computeroutput> pages for details on their use.
        <!-- We'll also describe how to use the <computeroutput>runtest</computeroutput> script that comes installed 
        with RLS. //--></para>

    <orderedlist>
        <listitem><para>Start the server in debug mode with the command:</para>
            <screen>$GLOBUS_LOCATION/bin/globus-rls-server -d [-N] </screen>
            <para>The <computeroutput>-N </computeroutput>option is helpful: if you do not have a host 
                certificate for the server host, or a user certificate for yourself, it 
                disables authentication. </para></listitem>
        <listitem><para>Ping the server using <computeroutput>globus-rls-admin</computeroutput>:</para>
            <screen>$GLOBUS_LOCATION/bin/globus-rls-admin -p rls://serverhost</screen>
            <para>If you disabled authentication (by starting the server with the <computeroutput>-N
            </computeroutput>option), then use this command: </para>
            <screen>$GLOBUS_LOCATION/bin/globus-rls-admin -p rlsn://serverhost</screen>
        </listitem>
    </orderedlist>
</section>

<section id="rls-admin-security_considerations"><title>Security Considerations </title>
    &RLS_Security_Considerations_Frag;
</section>

<section id="rls-admin-troubleshooting"><title>Troubleshooting</title>
    <para>General information on troubleshooting can be found in the
        <ulink url="http://www.globus.org/toolkit/data/rls/rls_faq.html">FAQ</ulink>.</para>

    <section id="rls-admin-trouble-mysql-install"><title>I need help installing MySQL DBMS</title>
        <para>There is simply too much information on DBMS installation for us to provide useful tips. In general, a binary package with a native installer (e.g., RPM, PKG, etc.) is the best option if you have root privileges. A binary package without a native installer is an excellent option if you do not have root privileges. And if all else fails, you can always try source installers. We have found most source installers of the DBMS to be reliable.</para>
        <para>We have used RLS with MySQL versions 4.0.x, 4.1.x, and 5.0.x.</para>
    </section>

    <section id="rls-admin-trouble-mysql-install-check"><title>How can I check if MySQL is installed correctly?</title>
        <para>There are probably numerous things you could do, but one simple check is to see if you can log on to the database. Of course, this requires that you have a user account. Assuming you installed the DBMS yourself, you should be able to log on as root,</para>
        <screen>
% /path/to/mysql/bin/mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 64 to server version: 4.0.18-standard-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql> show databases;
+-------------------+
| Database          |
+-------------------+
| mysql             |
| test              |
+-------------------+
2 rows in set (0.03 sec)

mysql> quit
Bye
        </screen>
        <para>If you did not install the DBMS yourself but were given an account on a remote server, you should be abel to log on using your user account,</para>
        <screen>
% ./mysql/bin/mysql -h <emphasis>hostname</emphasis> -P <emphasis>3306</emphasis> -u <emphasis>dbuser</emphasis> -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 66 to server version: 4.0.18-standard-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql>
        </screen>
    </section>

    <section id="rls-admin-trouble-pgsql-install-check"><title>How can I check if PostgreSQL is installed correctly?</title>
        <para>There are probably numerous things you could do, but one simple check is to see if you can log on to the DBMS. Of course, this requires that you have a user account. Assuming you installed the DBMS yourself, you should be able to log on as root,</para>
        <screen>
% ./pgsql/bin/psql
Welcome to psql 7.4.6, the PostgreSQL interactive terminal.

Type:  \copyright for distribution terms
       \h for help with SQL commands
       \? for help on internal slash commands
       \g or terminate with semicolon to execute query
       \q to quit

<emphasis>user</emphasis>=#
        </screen>
        <para>If you did not install the DBMS yourself but were given an account on a remote server, you should be abel to log on using your user account,</para>
        <screen>
% ./pgsql/bin/psql -h <emphasis>hostname</emphasis> -p <emphasis>5432</emphasis> -U <emphasis>dbuser</emphasis> -W <emphasis>dbname</emphasis>
Password:
Welcome to psql 7.4.6, the PostgreSQL interactive terminal.
 
Type:  \copyright for distribution terms
       \h for help with SQL commands
       \? for help on internal slash commands
       \g or terminate with semicolon to execute query
       \q to quit
 
<emphasis>dbname</emphasis>=>
        </screen>
    </section>

    <section id="rls-admin-trouble-pgsql-install"><title>I need help installing PostgreSQL DBMS</title>
        <para>There is simply too much information on DBMS installation for us to provide useful tips. In general, a binary package with a native installer (e.g., RPM, PKG, etc.) is the best option if you have root privileges. A binary package without a native installer is an excellent option if you do not have root privileges. And if all else fails, you can always try source installers. We have found most source installers of the DBMS to be reliable.</para>
        <para>We have used RLS with PostgreSQL versions 7.4.x and it seems to work well with 8.x also.</para>
    </section>


    <section id="rls-admin-trouble-iodbc-install"><title>I need help installing iODBC</title>
        <para>The iodbc.org website contains information on installation of the iODBC (or libiodbc) library. We have used the following commands to install iODBC in our development and test sites. From the libiodbc build directory,</para>
        <screen>
% ./configure <emphasis>--prefix=/path/to/libiodbc-3.52.4 \
--with-iodbc-inidir=/path/to/etc --disable-gui --disable-gtktest</emphasis>
% make
% make install
        </screen>
        <para>The configure parameters are optional. The defaults enable the features required by RLS, namely pthreads. We prefer to install to a specified directory due to testing against multiple ODBC managers, however, this would not apply to most end users. We also prefer not to install the GUI features.</para>
        <para>Keep in mind, if you install the ODBC Manager library to a non-standard location, you will need to update your library path (e.g., <computeroutput>LD_LIBRARY_PATH</computeroutput>) to reflect your non-standard installation.</para>
    </section>

    <section id="rls-admin-trouble-unixodbc-install"><title>I need help installing unixODBC</title>
        <para>The unixodbc.org website contains information on installation of the unixODBC library. We have used the following commands to install unixODBC in our development and test sites. From the unixODBC build directory,</para>
        <screen>
% ./configure <emphasis>--prefix=/path/to/unixODBC --disable-gui \
  --disable-drivers</emphasis>
% make
% make install
        </screen>
        <para>The configure parameters are optional. The defaults enable the features required by RLS, namely threads. We prefer to install to a specified directory due to testing against multiple ODBC managers, however, this would not apply to most end users. We also prefer not to install the GUI features or the supplied drivers.</para>
        <para>Keep in mind, if you install the ODBC Manager library to a non-standard location, you will need to update your library path (e.g., <computeroutput>LD_LIBRARY_PATH</computeroutput>) to reflect your non-standard installation.</para>
    </section>

    <section id="rls-admin-trouble-unixodbc-install-osxfix"><title>Building unixODBC failed on OS X</title>
        <para>Building unixODBC-2.2.11 on OS X failed for us too. Our unixODBC tarball came from the unixodbc.org project site. It may be that other sources of this tarball may have been ported properly. What we found by doing a brief search was that making a small change to one of the files corrected the problem. In the file <computeroutput>Drivers/txt/SQLTables.c</computeroutput>, we made the following change,</para>
        <screen>
#ifdef OSXHEADER
#include &lt;i386/types.h&gt;
#endif

-&gt;

/*
#ifdef OSXHEADER
#include &lt;i386/types.h&gt;
#endif
*/
        </screen>
    </section>

    <section id="rls-admin-trouble-myodbc-install"><title>I need help installing MySQL Connector/ODBC</title>
        <para>The MySQL project/company provide several binary packages for several major platforms using a variety of native installers. We recommend using this approach if possible, though it may require root privileges and help from your system administator. There are also binary packages available that do not use native installers, which can be used without root privileges and provide a better option than source installation.</para>
        <para>From what we can tell, the 3.51.12 version of MySQL Connector/ODBC from the binary bundles provided by MySQL will work with unixODBC-2.2.11 but not with libiodbc-3.52.4 or earlier. The last known combinations of drivers from MySQL that worked with iODBC that we know of are:</para>
        <itemizedlist>
            <listitem><simpara>MyODBC-3.51.06 and libiodbc-3.51.1</simpara></listitem>
            <listitem><simpara>MyODBC-3.51.06 and libiodbc-3.51.2</simpara></listitem>
        </itemizedlist>
        <para>Unfortunately, MySQL does not provide links to packages of MyODBC-3.51.06 as far as we can tell. You may find mirrors of the MySQL site that still have this driver available by searching the web for &quot;myodbc 3.51.06&quot;. <ulink url="http://sunsite.mff.cuni.cz/MIRRORS/ftp.mysql.com/downloads/api-myodbc-3.51.html">We found this one.</ulink></para>

        <section id="rls-admin-trouble-myodbc-35112-bin"><title>MySQ Connector/ODBC 3.51.12 (binary)</title>
            <para>With mysql-connector-odbc-3.51.12-linux-i686, we have used the following commands to install the driver.</para>
            <screen>
% tar -zxvf /path/tomysql-connector-odbc-3.51.12-linux-i686.tar.gz
            </screen>
            <para>We have successfully used this driver with unixODBC-2.2.11. However, when testing against libiodbc-3.52.4 using the <computeroutput>iodbctest</computeroutput> utility, the driver failed with the following error.</para>
            <screen>
% ./bin/iodbctest "DSN=lrc1000_mysql_3_51_12;UID=dbpassword;PWD:dbpassword"
iODBC Demonstration program
This program shows an interactive SQL processor
Driver Manager: 03.52.0406.0126
1: SQLDriverConnect = [MySQL][ODBC 3.51 Driver]Invalid window handle for
connection completion argument. (0) SQLSTATE=IM008
1: ODBC_Connect = [MySQL][ODBC 3.51 Driver]Invalid window handle for connection
completion argument. (0) SQLSTATE=IM008

Have a nice day.
            </screen>
            <para>We did not &quot;Have a nice day&quot; after this. There is limited information on this error, though it did appear that the driver loaded and attempted to make a connection.</para>
        </section>

        <section id="rls-admin-trouble-myodbc-35112-src"><title>MySQL Connector/ODBC 3.51.12 (source)</title>
            <para>We attempted building and installing the mysql-connector-odbc-3.51.12 driver from the source package. We attempted building against unixODBC and libiodbc libraries and mysql-4.0.18 and mysql-5.0.21. We used a variety of configure options. In the end, we encountered configure or compiler errors that prevented us from using the source package.</para>
        </section>

        <section id="rls-admin-trouble-myodbc-35106-unixodbc"><title>MyODBC 3.51.06 (source) and unixODBC</title>
            <para>With MyODBC-3.51.06, we have used the following commands to install myodbc in our development and test sites. From the MyODBC-3.51.06 build directory,</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/MyODBC-3.51.06-unixODBC</emphasis> \
 --with-unixODBC <emphasis>--with-unixODBC-includes=/path/to/odbc/unixODBC-2.2.11/include \
 --with-unixODBC-libs=/path/to/odbc/unixODBC-2.2.11/lib \
 --with-odbc-ini=/path/to/odbc/etc/odbc.ini \
 --with-mysql-includes=/path/to/mysql/include --with-mysql-libs=/path/to/mysql/lib</emphasis> \
 --enable-thread-safe <emphasis>--without-samples</emphasis>
% gmake
% gmake install
            </screen>
            <para><emphasis>Note:</emphasis> when building against unixODBC you must use the <computeroutput>--with-unixODBC</computeroutput> flag even if you use the <computeroutput>--with-unixODBC-includes=DIR</computeroutput> and <computeroutput>--with-unixODBC-libs=DIR</computeroutput> parameters.</para>
            <para>You must use the <computeroutput>--enable-thread-safe</computeroutput> flag.</para>
            <para>Also, be prepared to see a large number of compiler warnings when building this library.</para>
        </section>

        <section id="rls-admin-trouble-myodbc-35106-iodbc"><title>MyODBC 3.51.06 (source) and iODBC</title>
            <para>With MyODBC-3.51.06, we have used the following commands to install myodbc in our development and test sites. From the MyODBC-3.51.06 build directory,</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/MyODBC-3.51.06-iODBC</emphasis> \
 <emphasis>--with-iodbc=/path/to/libiodbc-3.51.2 --with-odbc-ini=/path/to/odbc/etc/odbc.ini \
 --with-mysql-includes=/path/to/mysql/include --with-mysql-libs=/path/to/mysql/lib</emphasis> \
 --enable-thread-safe <emphasis>--without-samples</emphasis>
% gmake
% gmake install
            </screen>
            <para><emphasis>Note:</emphasis> when building against iODBC you must use the <computeroutput>--with-iodbc=DIR</computeroutput> parameter. The <computeroutput>--with-iodbc-includes=DIR</computeroutput> and <computeroutput>--with-iodbc-libs=DIR</computeroutput> parameters DO NOT work.</para>
            <para>You must use the <computeroutput>--enable-thread-safe</computeroutput> flag.</para>
            <para>Also, be prepared to see a large number of compiler warnings when building this library.</para>
        </section>
    </section>

    <section id="rls-admin-trouble-psqlodbc-install"><title>I need help installing psqlODBC</title>
        <para>The README file or docs directory included with the psqlODBC package contains information on installation of the psqlodbc library. We have noticed some differences between building and installing psqlodbc-7.2.5, psqlodbc-08.00.0102, and psqlodbc-08.01.0200 againt iODBC and unixODBC.</para>
        <para><emphasis>Note:</emphasis> In earlier versions of this guide, we warned that the <computeroutput>--with-iodbc</computeroutput> configure option resulted in an unstable psqlodbc library that caused memory corruption and failure (e.g., core dump) when an application (RLS Server) attempted to open the database connection. We have not experienced this problem with the more recent versions of psqlodbc that we have tested and which are documented below.</para>

        <section id="rls-admin-trouble-psqlodbc-725-unixodbc"><title>psqlodbc-7.2.5 and unixODBC-2.2.11</title>
            <para>With psqlodbc-7.2.5, we have used the following commands to install psqlodbc in our development and test sites. From the psqlodbc build directory,</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/psqlodbc-7.2.5-unixODBC</emphasis> \
  --enable-pthreads --with-unixodbc
% gmake
% gmake install
            </screen>
            <para>You may also want to consider setting CPPFLAGS and LDFLAGS if you install your ODBC Manager in a non-standard location.</para>
        </section>

        <section id="rls-admin-trouble-psqlodbc-725-iodbc"><title>psqlodbc-7.2.5 and libiodbc-3.52.4</title>
            <para>With psqlodbc-7.2.5, we have used the following commands to install psqlodbc in our development and test sites. From the psqlodbc build directory,</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/psqlodbc-7.2.5-iODBC</emphasis> \
  --enable-pthreads --with-iodbc
% gmake
% gmake install
            </screen>
            <para>You may also want to consider setting CPPFLAGS and LDFLAGS if you install your ODBC Manager in a non-standard location.</para>
        </section>

        <section id="rls-admin-trouble-psqlodbc-08000102-unixodbc"><title>psqlodbc-08.00.0102 and unixODBC-2.2.11</title>
            <para>With psqlodbc-08.00.0102, we have used the following commands install psqlODBC with a unixODBC-2.2.11 installation. From the psqlodbc build directory,</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/psqlodbc-08.00.0102-unixODBC</emphasis> \
  --enable-pthreads --with-unixodbc <emphasis>LDFLAGS="-L/path/to/odbc/unixODBC-2.2.11/lib"</emphasis> \
  <emphasis>CPPFLAGS="-I/nfs/v5/schuler/odbc/unixODBC-2.2.11/include"</emphasis>
% gmake
% gmake install
            </screen>
        </section>

        <section id="rls-admin-trouble-psqlodbc-08000102-iodbc"><title>psqlodbc-08.00.0102 and libiodbc-3.52.4</title>
            <para>With psqlodbc-08.00.0102, we have used the following commands to configure psqlodbc but it failed to build. We have no advice on resolving this problem other than to suggest using a different combination of ODBC Manager and ODBC Driver.</para>
            <screen>
% ./configure <emphasis>--prefix=/path/to/odbc/Drivers/psqlodbc-08.00.0102-iODBC</emphasis> \
  --enable-pthreads --with-iodbc <emphasis>LDFLAGS=-L/path/to/odbc/libiodbc-3.52.4/lib</emphasis> \
  <emphasis>CPPFLAGS=-I/path/to/odbc/libiodbc-3.52.4/include</emphasis>
% gmake
...ends in errors...
            </screen>
        </section>

        <section id="rls-admin-trouble-psqlodbc-08010200"><title>psqlodbc-08.01.0200</title>
            <para>We have succeeded installing psqlodbc-08.01.0200 from source with either iODBC or unixODBC.</para>
        </section>
    </section>

</section> <!-- Troubleshooting END -->

<section id="rls-admin-usage"><title>Usage statistics collection by the Globus Alliance</title>
    &RLS_Usage_Statistics_Frag;
</section>
