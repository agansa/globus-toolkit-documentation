
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- &copy; International Business Machines Corporation, 2004 --> 
<!-- &copy; The University of Edinburgh, 2004 --> 
<head>
<title>Activity - sqlStoredProcedure</title>  
<link rel="stylesheet" type="text/css" href="../../../style.css"/>
</head>
<body>
<h1>Activity - <span class="xml">sqlStoredProcedure</span></h1>
<p>
Activity Type: Relational
</p>
<h2>Description</h2>
<p>
Run a stored procedure of a relational data resource.
</p>
<h2>Examples</h2>
<pre class="xml">
&lt;sqlStoredProcedure name="statement"&gt;
  &lt;!-- value of first parameter --&gt;
  &lt;sqlParameter position="1" from="data"/&gt;
  &lt;!-- value of second parameter --&gt;
  &lt;sqlParameter position="2"&gt;321&lt;/sqlParameter&gt;
  &lt;storedProcedureName&gt;STORED-PROCEDURE-NAME&lt;/storedProcedureName&gt;
  &lt;webRowSetStream name="results"/&gt;
&lt;/sqlStoredProcedure&gt;
</pre>
<pre class="xml">
&lt;sqlStoredProcedure name="statement"&gt;
  &lt;!-- value of first parameter --&gt;
  &lt;sqlParameter position="1" from="data"/&gt;
  &lt;!-- value of second parameter --&gt;
  &lt;sqlParameter position="2"&gt;321&lt;/sqlParameter&gt;
  &lt;storedProcedureName&gt;STORED-PROCEDURE-NAME&lt;/storedProcedureName&gt;
  &lt;resultStream name="results"/&gt;
&lt;/sqlStoredProcedure&gt;
</pre>
<h2>Specification</h2>
<p>
Element <span class="xml">sqlStoredProcedure</span>:
</p>
<ul>
<li>
Attribute <span class="xml">name</span> - unique name for the
activity. 
</li>
<li>
Element <span class="xml">sqlParameter</span> (zero or more) - define
a parameter. 
<ul>
<li>
Attribute <span class="xml">position</span> - position within the
<span class="xml">expression</span> element. 
</li>
<li>
Attribute <span class="xml">from</span> (optional) - name of the
output from another activity which provides the value of this
parameter.  
</li>
<li>
If a <span class="xml">from</span> value is not specified then this
element <span class="important">must</span> contain a value for the
parameter.   
</li>
<li>
The sequence in which <span class="xml">sqlParameter</span> elements
appear is important when the same activity will be supplying a
value for more than one parameter. The sequence in which <span
class="xml">sqlParameters</span> appear is the sequence in which they
must be delivered from the other activity, for example:
<pre class="xml">
&lt;sqlParameter position ="1" from="inputStream"/&gt;
&lt;sqlParameter position ="3" from="inputStream"/&gt;
&lt;sqlParameter position ="2" from="inputStream"/&gt;
</pre>
<p>
This means <span class="xml">inputStream</span> must first deliver
parameter 1 then parameter 3 then parameter 2. 
</p>
</li>
</ul>
</li>
<li>
<span class="xml">storedProcedureName</span> (required) - the name
of a stored procedure.  
<ul>
<li>
The procedure name is contained within the element.
</li>
<li>
OR
</li>
<li>
Attribute <span class="xml">from</span> - input stream providing the
procedure name.
</li>
<li>
If the procedure expects arguments then these will be taken from any
declared <span class="xml">sqlParameter</span> elements in the order
in that they appear. The first parameter corresponds to the first
argument, the second to the second etc. 
</li>
</ul>
</li>
<li>
One of two output stream elements (required):
<ul>
<li>
<span class="xml">webRowSetStream</span> - output stream for stored
procedures which are query a database and return the query results. 
<ul>
<li>
Attribute <span class="xml">name</span> - name of the activity's output 
stream. 
</li>
</ul>
</li>
<li>
<span class="xml">resultStream</span>  - output stream for stored
procedures which update the database and return an update count. 
<ul>
<li>
Attribute <span class="xml">name</span> - name of the activity's output 
stream. 
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Limitations</h2>
<p>
The default implementation of this activity does not work with Oracle databases.
</p>
<h2>XML Schema</h2>
<p>
<a href="../../../../schema/ogsadai/xsd/activities/sql_stored_procedure.xsd">
<span class="commandline">
OGSA-DAI/schema/ogsadai/xsd/activities/sql_stored_procedure.xsd
</span>
</a>
</p>

<hr/>
<table width="100%" summary="Navigation" class="footer">
<tr>
<td/>
<td class="footer">Up: <a href="../../Activities.html">Activities</a></td>
<td/>
</tr>
<tr>
<td>
&copy; International Business Machines Corporation, 2004.
</td>
<td>
&copy; The University of Edinburgh, 2004.
</td>
<td/>
</tr>
</table>
</body>
</html>

