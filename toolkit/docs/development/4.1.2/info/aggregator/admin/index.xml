<title>GT 4.0 WS MDS Aggregator Framework: System Administrator's Guide</title>
<titleabbrev>System Administrator's Guide</titleabbrev>

<section id="introduction"><title>Introduction</title>
<para>This guide contains advanced configuration information for
    system administrators working with WS MDS Aggregator Framework. It provides
references to information on procedures typically performed by
system administrators, including installation, configuring,
deploying, and testing the installation.</para>
<important><simpara>This information is in addition to the basic Globus Toolkit
prerequisite, overview, installation, security configuration
    instructions in the <ulink url="http://www-unix.globus.org/toolkit/docs/4.0/admin/docbook/">GT 4.0
System Administrator's Guide</ulink>.
Read through this guide before continuing!</simpara></important>
</section>
<section id="installing"><title>Building and
Installing</title>
<para>The aggregator framework is built and installed as part of the
standard <ulink url="http://www-unix.globus.org/toolkit/docs/4.0/admin/docbook/">Globus Toolkit
installation procedure</ulink>.</para>
</section>
<section id="configuring"><title>Configuring</title>
<para>The aggregator framework does not have its own service side
configuration, although services which are based on the framework
have their own service side configuration options, documented in
the per-service documentation.</para>
<para>Registrations to a working aggregator framework are configured
for the <command>mds-servicegroup-add</command> tool, which is documented
in the <ulink url=
"WS_MDS_Aggregator_Public_Interfaces.html#cmd">public interface
guide</ulink>. This tool takes an XML configuration file listing
registrations, and causes thoses registrations to be made.</para>
<para>The tool can be deployed at the aggregating service, at resource
services, or at any other location. This allows registrations to be
configured by the administrator of the aggregating service, or by
the administrator of resources, by a third party, or by some
combination of those.</para>
Three Aggregator Sources are included in the Globus Toolkit
distribution:
<itemizedlist>
<listitem><simpara>The <constant>QueryAggregatorSource</constant> gathers resource
property values from the registered resource using one of the three
WS-Resource Properties poll operations. .</simpara></listitem>
<listitem><para>
<itemizedlist>
<listitem><simpara><constant>GetResourcePropertyPollType</constant>; requests a single
Resource Property from the remote resource.</simpara></listitem>
<listitem><simpara><constant>GetMultipleResourcePropertiesPollType</constant>; requests
multiple Resource Properties from the remote resource.</simpara></listitem>
<listitem><simpara><constant>QueryResourcePropertiesPollType</constant>; requests a query
be executed against the Resource Property Set of the remote
resource.</simpara></listitem>
</itemizedlist>
</para></listitem>
<listitem><simpara>The <constant>SubscriptionAggregatorSource</constant> gathers resource
property values from the registered resource using WS-Notification
subscriptions.</simpara></listitem>
<listitem><simpara>The <constant>ExecutionAggregatorSource</constant> gathers arbitrary
XML information about a registered resource by executing an
external script and passing registration as parameters. See the
<ulink url="developer-index.html">developers guide</ulink> for details of this
API.</simpara></listitem>
</itemizedlist>
&WS_MDS_Aggregator_Interface_Config_Frag;
</section>
<section id="deploying"><title>Deploying</title>
<para>This component is deployed as part of the standard toolkit
installation.</para>
</section>
<section id="testing"><title>Testing</title>
<para>The aggregator framework is a software framework used to create
services. To test that the aggregator framwork is working, deploy
and test a service (such as the <ulink url="../index/">Index
Service</ulink>.</para>
</section>
<section id="security_considerations"><title>
Security Considerations</title>
&WS_MDS_Aggregator_Security_Considerations_Frag;
</section>
<section id="troubleshooting"><title>
Troubleshooting</title>
<para><emphasis>Problem: I was able to successfully register an aggregator
entry with <command>mds-servicegroup-add</command>, but the aggregator
isn't collecting data for the registration.</emphasis> Solution: the fact
that the registration was successful does not mean that there are
no errors in the registration parameters. Verify that details such
as resource EPRs, resource property names, and queries are
accurate, and check the container logs for the aggregator service
and (if applicable) the remote service for more information.</para>
<para><emphasis>Problem: I was able to successfully register an aggregator
entry with <command>mds-servicegroup-add</command>, and the aggregator
collected information for this entry for a while, but then the
entry disappeared.</emphasis> Solution: make sure that
<command>mds-servicegroup-add</command> is still running. Registrations
time out; <command>mds-servicegroup-add</command> refreshes them
periodically.</para>
</section>
