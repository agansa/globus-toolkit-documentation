
<h1>GRAM configuration files</h1>
<p>
<ul>
  <li><a href="#configfilelocation">Locating configuration files</a></li>
  <li><a href="#serverconfig">Web service deployment configuration</a></li>
  <li><a href="#jndiconfig">JNDI application configuration</a></li>
  <li><a href="#securitydesc">Security descriptor</a> </li>
  <li><a href="#filesysmap">File sytem to GridFTP mapping</a></li>
</ul>
</p>

<h2><a name="configfilelocation"></a>Locating configuration files</h2>

All the GRAM configuration files are located in subdirectories of 
the <tt>$GLOBUS_LOCATION/etc</tt> directory. The names of the GRAM 
configuration directories all start with <tt>gram-service</tt>.
For instance, with a default GRAM installation, the command line:</p>
<pre>
% ls etc | grep gram-service
</pre>

gives the following output:

<pre>
gram-service
gram-service-Fork
gram-service-LSF
gram-service-Multi
</pre>

<h2><a name="serverconfig"></a>Web service deployment configuration</h2>

<h2><a name="jndiconfig"></a>JNDI application configuration</h2>

The configuration of WSRF resources and some service configuration 
not related to service deployment is contained in JNDI files 
<font color="red">(TODO insert link to JNDI doco)</font>. 
The JNDI-based GRAM configuration is of two kind:

<ul>
  <li><a href="#commonfactoryconfig">common job factory configuration</a></li>
  <li><a href="#managerconfig">local resource manager configuration</a></li>
</ul>

<h3><a name="commonfactoryconfig"></a>Common job factory configuration</h3>

<h3><a name="managerconfig"></a>Local resource manager configuration</h3>

There is one directory <tt>gram-service-&lt;manager&gt;/</tt> 
for each local resource manager supported by the GRAM installation. 
</p>
<p>For instance, let's assume the command line:</p>
<pre>
% ls etc | grep gram-service-
</pre>

gives the following output:

<pre>
gram-service-Fork
gram-service-LSF
gram-service-Multi
</pre>
<p>In this example, the Multi, Fork and LSF job factory resources have been 
installed. <tt>Multi</tt> is a special kind of local resource manager 
which enables the GRAM services to support multijobs 
<font color="red">(TODO link to section in command-line fragement or interface fragment)</font>.
</p>


<p>The JNDI configuration file located under each manager directory 
contains configuration information for the GRAM support of the given 
local resource manager, such as the <i>GRAM name</i> of, i.e. the name that 
GRAM uses to designate, the given resource manager. For 
instance, <tt>$GLOBUS_LOCATION/etc/gram-service-Fork/jndi-config.xml</tt> 
contains the following XML element structure:</p>
<pre>
    &lt;service name="ManagedJobFactoryService"&gt;
        &lt;!-- LRM configuration:  Fork --&gt;
        &lt;resource
            name="ForkResourceConfiguration"
            type="org.globus.exec.service.factory.FactoryResourceConfiguration"&gt;
            &lt;resourceParams&gt;
                [...]
                &lt;parameter&gt;
                    &lt;name&gt;
                        <b>localResourceManagerName</b>
                    &lt;/name&gt;
                    &lt;value&gt;
                        <b>Fork</b>
                    &lt;/value&gt;
                &lt;/parameter&gt;           
                [...]
            &lt;/resourceParams&gt;
        &lt;/resource&gt;        
    &lt;/service&gt;
</pre>
<p>In the example above, the <i>GRAM name</i> of the local resource manager is <tt>Fork</tt>. 
This value can be used with the GRAM client to specify which factory resource to 
use when submitting a job. </p>


<h2><a name="securitydesc"></a>Security descriptor</h2>

<h2><a name="filesysmap"></a>File sytem to GridFTP mapping</h2>