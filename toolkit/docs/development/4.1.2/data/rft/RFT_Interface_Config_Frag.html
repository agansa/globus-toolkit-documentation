<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
</head>
<body>
<h3>Configuration overview</h3>
PostgreSQL (Version 7.1 or greater ) needs to
be installed and configured&nbsp; for RFT to work. The instructions on
how to install/configure postgresql can be found <a
 href="http://www-unix.globus.org/toolkit/docs/3.2/installation/install_config_rft.html#settinguppostgresql">here
</a>(add a link to instuctions here). <br>
<ol>
  <li>Install Postgresql. Configure the postmaster daemon so that it
accepts TCP connections. This can be done by adding -o "-i" switch to
postmaster script.</li>
  <li>run createdb rftDatabase. This creates the database&nbsp; that is
used for RFT.</li>
  <li>run psql -d rftDatabase -f&nbsp;
$GLOBUS_LOCATION/share/globus_wsrf_rft/rft_schema.sql. This will
populate rft database with appropriate schemas.</li>
  <li>Now that you have created a database to store RFT's state you
need to configure RFT to find the database. This you do by editing
$GLOBUS_LOCATION/etc/jndi-config.xml</li>
  <li>open $GLOBUS_LOCATION/etc/jndi-config.xml and find the
dbConfiguration section under ReliableFileTransferService
&lt;service&gt; section. Change the connectionString to point to the
machine you have installed postgres and name of the database you used
in step 2. If you installed postgres on the same machine as&nbsp; your
globus install the default should work fine for you.</li>
  <li>Change the userName to the name of the user who owns/created the
database and same goes with the password. (It also depends on how you
configured your database)</li>
  <li>Don't worry about the other parameters in that section. The
defaults should work fine for now.</li>
  <li>Edit the configuration section under
ReliableFileTransferService.&nbsp; There are two values that can be
edited in this section. <br>
  </li>
</ol>
<ul>
  <ul>
    <li>backOff&nbsp; : Time in seconds you want RFT to backoff before
a failed transfer is retried by RFT. Default should work fine for now.</li>
    <li>maxActiveAllowed:&nbsp; This is the number of transfers the
container can do at given point. Default should be fine for now.</li>
  </ul>
</ul>
<h4>Frequent configuration problems: <br>
</h4>
<ul>
  <li>If RFT is not configured properly to talk to a postgresql
database you will see this message&nbsp; displayed on the console when
you start the container : <br>
  </li>
</ul>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; "Error creating RFT Home: Failed to
connect to database ... Until this is corrected all RFT request will
fail and all GRAM jobs that require staging will fail". <br>
<ul>
  <li>Usual mistakes are : Postmaster is not accepting TCP connections
which&nbsp; means that you have to restart Postmaster with -i
option&nbsp; ( see step 1) <br>
  </li>
</ul>
<h3>Syntax of the interface</h3>
</body>
</html>
