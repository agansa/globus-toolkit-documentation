<h3>Configuration Overview</h3>

<p><strong>Note:</strong> Command line options and configuration file options
  may both be used but the command line <strong>overrides</strong> the config
file.</p>
<p>The configuration file is read from the following locations, 
in the given order.  Only the first found will be loaded.</p> 
<ul>
  <li>Path specified with the <code>-c &lt;configfile&gt;</code> command line option.</li>
  <li>$GLOBUS_LOCATION/etc/gridftp.conf</li>
  <li>/etc/grid-security/gridftp.conf</li>
</ul>

<p>Options are allowed one per line, with the format:</p>
<pre>&lt;option&gt; &lt;value&gt;</pre>
<p>  If the value contains spaces, they should be enclosed in double-quotes (&quot;)</p>
<p> Flags or boolean options should only have a value of 0 or 1</p>
<p>  Blank lines and lines begining with # are ignored.</p>
<p>  For example:</p>
<pre>  port 5000
  allow_anonymous 1
  anonymous_user bob
  banner &quot;Welcome!&quot;
</pre>

<p>
<h3>Configuration options</h3>
<!-- generated by globus-gridftp-server -help -html -->
<p>
The table below lists config file options, associated command line options (if available) and descriptions. Note that any boolean option can be negated on the command line by preceding the existing option with '-no-' or '-n'.  example: -no-cas or -nf.
</p>
<ul>
  <li><a href="#gftpclass0">Informational Options</a></li>
  <li><a href="#gftpclass4">Logging Options</a></li>
  <li><a href="#gftpclass11">Authentication, Authorization, and Security Options</a></li>
  <li><a href="#gftpclass24">Modes of Operation</a></li>
  <li><a href="#gftpclass33">Network Options</a></li>
  <li><a href="#gftpclass41">Timeouts</a></li>
  <li><a href="#gftpclass45">User Messages</a></li>
  <li><a href="#gftpclass51">Module Options</a></li>
  <li><a href="#gftpclass54">Striped Options</a></li>
  <li><a href="#gftpclass62">Disk Options</a></li>
  <li><a href="#gftpclass65">Other</a></li>
</ul>

<table border="1" cellpadding="5">
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass0"></a>Informational Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>help &lt;0 | 1&gt;</p><p>-h -help</p></pre></td>
    <td valign="top"><p>Show this.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>version &lt;0 | 1&gt;</p><p>-v -version</p></pre></td>
    <td valign="top"><p>Show version information for the server.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>versions &lt;0 | 1&gt;</p><p>-V -versions</p></pre></td>
    <td valign="top"><p>Show version information for all loaded globus libraries.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass4"></a>Logging Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_module &lt;string&gt;</p><p>-log-module</p></pre></td>
    <td valign="top"><p>globus_logging module that will be loaded. If not set, logfile options apply.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_single &lt;string&gt;</p><p>-l -logfile</p></pre></td>
    <td valign="top"><p>Path of a single file to log all activity to.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_unique &lt;string&gt;</p><p>-L -logdir</p></pre></td>
    <td valign="top"><p>Partial path to which 'gridftp.(pid).log' will be appended to make the log filename.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_filemode &lt;number&gt;</p><p></p></pre></td>
    <td valign="top"><p>File access permissions of log files.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_transfer &lt;string&gt;</p><p>-Z</p></pre></td>
    <td valign="top"><p>Log netlogger style info for each transfer into this file.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>log_level &lt;string&gt;</p><p>-d -log-level</p></pre></td>
    <td valign="top"><p>Log level. 1 only logs errors, 255 logs everything, or a comma seperated list of levels from: ERROR, WARN, INFO, DUMP, ALL.  (i.e. error,warn)</p><p>Default value: ERROR</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass11"></a>Authentication, Authorization, and Security Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>allow_anonymous &lt;0 | 1&gt;</p><p>-aa -allow-anon</p></pre></td>
    <td valign="top"><p>Allow cleartext anonymous access. If server is running as root anonymous_user must also be set.  Disables ipc security.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>anonymous_user &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>User to setuid to for an anonymous connection. Only applies when running as root.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>anonymous_group &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Group to setgid to for an anonymous connection. If unset, the default group of anonymous_user will be used.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>pw_file &lt;string&gt;</p><p>-pf -password-file</p></pre></td>
    <td valign="top"><p>Enable cleartext access and authenticate users against this /etc/passwd style file.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>cas &lt;0 | 1&gt;</p><p>-cas</p></pre></td>
    <td valign="top"><p>Enable CAS authorization.</p><p>Default value: True</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>auth_level &lt;number&gt;</p><p>-auth-level</p></pre></td>
    <td valign="top"><p>0 = No authentication or authorization. 1 = Authentication only. 2 = Authorization only.3 = Authentication and authorization. If not set uses level 3 for frontends and 1 for backends</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>secure_ipc &lt;0 | 1&gt;</p><p>-si -secure-ipc</p></pre></td>
    <td valign="top"><p>Use gsi security on ipc channel.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>connections_max &lt;number&gt;</p><p>-connections-max</p></pre></td>
    <td valign="top"><p>Max connections to allow while running as a daemon process.  Unlimited if not set.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>connections_disabled &lt;0 | 1&gt;</p><p></p></pre></td>
    <td valign="top"><p>Disable all new connections.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>allow_from &lt;string&gt;</p><p>-allow-from</p></pre></td>
    <td valign="top"><p>Only allow connections from these source ip addresses.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>deny_from &lt;string&gt;</p><p>-deny-from</p></pre></td>
    <td valign="top"><p>Disable connections from these source ip addresses.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass24"></a>Modes of Operation</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>fork &lt;0 | 1&gt;</p><p>-f -fork</p></pre></td>
    <td valign="top"><p>Server will fork.</p><p>Default value: True</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>daemon &lt;0 | 1&gt;</p><p>-s -daemon</p></pre></td>
    <td valign="top"><p>Run as a daemon.  All connections will fork off a new process and setuid if allowed.</p><p>Default value: True</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>detach &lt;0 | 1&gt;</p><p>-S -detach</p></pre></td>
    <td valign="top"><p>Run as a background daemon detached from any controlling terminals.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>inetd &lt;0 | 1&gt;</p><p>-i -inetd</p></pre></td>
    <td valign="top"><p>Run under an inetd service.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>chdir_to &lt;string&gt;</p><p>-chdir-to</p></pre></td>
    <td valign="top"><p>Directory to chdir to after starting.  Will use / if not set.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>chdir &lt;0 | 1&gt;</p><p>-chdir</p></pre></td>
    <td valign="top"><p>Change directory out of the current dir.</p><p>Default value: True</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>chdir_on_login &lt;0 | 1&gt;</p><p></p></pre></td>
    <td valign="top"><p>Set the current directory to the authenticated users home dir.</p><p>Default value: True</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>exec &lt;string&gt;</p><p>-exec</p></pre></td>
    <td valign="top"><p>For staticly compiled or non-GLOBUS_LOCATION standard binary locations, force the full path of server to exec when forking.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass33"></a>Network Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>control_interface &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Hostname or IP address of the interface to listen for control connections on. If not set will listen on all interfaces.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>data_interface &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Hostname or IP address of the interface to use for data connections. If not set will use the current control interface.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>ipc_interface &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Hostname or IP address of the interface to use for ipc connections. If not set will listen on all interfaces.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>port &lt;number&gt;</p><p>-p -port</p></pre></td>
    <td valign="top"><p>Port to listen for control or ipc connections on.  If not set a random port will be chosen.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>ipc_port &lt;number&gt;</p><p>-ipc-port</p></pre></td>
    <td valign="top"><p>Port to listen for data node registrations.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>hostname &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Effectively forces control_hostname and data_hostname.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass41"></a>Timeouts</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>ipc_idle_timeout &lt;number&gt;</p><p>-ipc-idle-timeout</p></pre></td>
    <td valign="top"><p>Idle time in seconds before an unused ipc connection will close.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>ipc_connect_timeout &lt;number&gt;</p><p></p></pre></td>
    <td valign="top"><p>Time in seconds before cancelling an attempted ipc connection.</p><p>Default value: 30</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>control_idle_timeout &lt;number&gt;</p><p></p></pre></td>
    <td valign="top"><p>Time in seconds to allow a user to remain connected to the control channel without activity.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass45"></a>User Messages</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>banner_terse &lt;0 | 1&gt;</p><p></p></pre></td>
    <td valign="top"><p>Display the absolute minimum 220 message to unauthenticated users.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>banner &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Message to display before authentication.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>banner_file &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>File to read banner message from.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>login_msg &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>Message to display after authentication.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>login_msg_file &lt;string&gt;</p><p></p></pre></td>
    <td valign="top"><p>File to read login message from.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass51"></a>Module Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>load_dsi_module &lt;string&gt;</p><p>-dsi</p></pre></td>
    <td valign="top"><p>Data Storage Interface module to load. Defaults to file unless remote is specified, which loads remote.</p><p>Default value: file</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>allowed_modules &lt;string&gt;</p><p>-allowed-modules</p></pre></td>
    <td valign="top"><p>Comma seperated list of ERET/ESTO modules to allow. i.e. module1,alias2:module2,module3 (module2 will be loaded when a client asks for alias2).</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass54"></a>Striped Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>data_node &lt;0 | 1&gt;</p><p>-dn -data-node</p></pre></td>
    <td valign="top"><p>This server is a backend data node.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>remote_nodes &lt;string&gt;</p><p>-r -remote-nodes</p></pre></td>
    <td valign="top"><p>Comma seperated list of remote node contact strings.</p><p>Default value: not set</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>stripe_mode &lt;number&gt;</p><p>-stripe-mode</p></pre></td>
    <td valign="top"><p>Mode 1 is a 1-1 stripe configuration. Mode 2 is ALL-ALL.</p><p>Default value: 1</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>stripe_blocksize &lt;number&gt;</p><p>-sbs -stripe-blocksize</p></pre></td>
    <td valign="top"><p>Blocksize in bytes used to divide files over each stripe.</p><p>Default value: 1048576</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>stripe_layout &lt;number&gt;</p><p>-sl -stripe-layout</p></pre></td>
    <td valign="top"><p>Stripe layout. 1 = Partitioned, 2 = Blocked.</p><p>Default value: 2</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>stripe_blocksize_locked &lt;0 | 1&gt;</p><p></p></pre></td>
    <td valign="top"><p>Do not allow client to override stripe blocksize with the OPTS RETR command</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>stripe_layout_locked &lt;0 | 1&gt;</p><p></p></pre></td>
    <td valign="top"><p>Do not allow client to override stripe layout with the OPTS RETR command</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass62"></a>Disk Options</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>blocksize &lt;number&gt;</p><p>-bs -blocksize</p></pre></td>
    <td valign="top"><p>Size in bytes of data blocks to read from disk before posting to the network.</p><p>Default value: 262144</p></td>
  </tr>
  <tr>
    <td valign="top"><pre><p>sync_writes &lt;0 | 1&gt;</p><p>-sync-writes</p></pre></td>
    <td valign="top"><p>Flush disk writes before sending restart markers. Will probably impact performance.</p><p>Default value: False</p></td>
  </tr>
  <tr>
    <th colspan="2" valign="top"><a name="gftpclass65"></a>Other</th>
  </tr>
  <tr>
    <td valign="top"><pre><p>debug &lt;0 | 1&gt;</p><p>-debug</p></pre></td>
    <td valign="top"><p>Sets options that make server easier to debug. Not recommended for production servers.</p><p>Default value: False</p></td>
  </tr>
</table>
<!-- end generated block -->
</p>

<h3>Configuring the GridFTP server to run under xinetd/inetd</h3>
<p><strong>Note:</strong> The service name used (gsiftp in this case) should
  be defined in <code>/etc/services</code> with the desired port.</p>

<p>Here is a sample gridftp xinetd config entry:</p>
<pre>service gsiftp
{
instances               = 100
socket_type             = stream
wait                    = no
user                    = root
env                     += GLOBUS_LOCATION=(globus_location)
env                     += LD_LIBRARY_PATH=(globus_location)/lib
server                  = (globus_location)/sbin/globus-gridftp-server
server_args             = -i
log_on_success          += DURATION
nice                    = 10
disable                 = no
}</pre>
<p>&nbsp;</p>
<p>Here is a sample gridftp inetd config entry: (read as a single line)</p>
<pre>
gsiftp   stream   tcp   nowait   root   /usr/bin/env   \
    GLOBUS_LOCATION=(globus_location)                  \
    LD_LIBRARY_PATH=(globus_location)/lib              \ 
    (globus_location)/sbin/globus-gridftp-server -i
</pre>
<p>&nbsp;</p>



    
