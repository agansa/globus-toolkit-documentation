<head><title>Core: Developer's Guide</title>
<link href="../../../../../../CSS/style.css" rel="stylesheet" type="text/css">
</head>

<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>


<p class="small"><a href="http://www.globus.org">Globus</a> &gt;

<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;

<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt; <a href="../index.html">3.2</a> &gt; <a href="../index.html">Core</a> &gt; Developer's
Guide
&lt; </p>

<h1>Core: Developer's Guide </h1>
<p class="small"> <a href="index.html">Overview </a><br>
    <a href="http://www-unix.globus.org/toolkit/3.0/ogsa/impl/java/build/javadocs/">APIs </a><br>
    <a href="javaprogramming.html">Programmer's Guide </a><br>
    <a href="performance.html">Performance Guide </a><br>
    <a href="javacodingguidelines.html">Java Coding Guidelines </a><br>
  &gt;Security Support <br>
  <a href="http://www-unix.globus.org/toolkit/3.1/ogsa/docs/test_framework.html">Test
  Framework</a></p>
<h2>Security Support</h2>
<ul>
  <li><A 
  href="#Introduction">Introduction</A> 
      
</li>
  <li><A 
  href="#Features">Features</A> 
      
</li>
  <li><A 
  href="#MessageSecurity">Message 
        Level Security</A> 
  </li>
  <li><A 
  href="#TransportSecurity">Transport 
        Level Security</A> 
  </li>
  <li><A 
  href="#GSIProperties">GSI
      Client Properties</A></li>
  <li><a href="#gsiinitialization">GSI Initialization Tips</a></li>
  <li><a href="#JAASinstallation">JAAS Installation</a> </li>
</ul>

<h3><A name=Introduction>Introduction</A></h3>
GT3 Java GSI is based on the implementation of GSI in 
the <A href="http://www.globus.org/cog/java/1.1a">Java CoG Kit</A>. GT3 provides 
<B>transport layer security</B> and <B>message level security</B>. The transport 
layer security is based around a new protocol called 'httpg' to indicate 
GSI-enabled HTTP-based protocol. The message level security is based on <A 
href="http://www.oasis-open.org/committees/wss/">WS-Security</A>, <A 
href="http://www.w3.org/TR/xmlenc-core/">XML Encryption</A> and <A 
href="http://www.w3.org/TR/xmldsig-core/">XML Signature</A> 
standards.<BR><BR>The Java GSI implementation is an implementation of the Java 
GSS-API. It supports the <A 
href="http://www.ggf.org/security/gsi/draft-ggf-gss-extensions-07.pdf">GSS-API 
extensions</A> and the <A 
href="http://www.ggf.org/security/gsi/draft-ggf-gsi-proxy-04.pdf">new proxy 
certificate format</A> specifications as defined by the <A 
href="http://www.ggf.org/">Global Grid Forum</A>. 
<P></P>
<strong>Note:</strong> Although we provide GSI transport layer security we strongly 
recommend using the message level security. The GSI transport layer security 
might be phased out at some point in the future. 
<h3><A name=Features>Features</A></h3>
GT3 security library features: 
<UL>
  <LI>Transport and message level security. 
  <LI>Instance-based security. 
  <UL>
    <LI>Each service instance can have its own credentials, gridmap file, etc. 
    </LI></UL>
  <LI>Declarative security 
  <UL>
    <LI>The security behavior of a service can be specified in a security 
    deployment descriptor. </LI></UL>
  <LI>Programmatic security 
  <UL>
    <LI>Security API are provided to service developers for fine grained 
    security control.<BR></LI></UL>
  <LI><A href="http://java.sun.com/products/jaas/">JAAS</A> integration. 
  <UL>
    <LI>Permits services to be independent from underlying authentication 
    technologies. </LI></UL></LI></UL>
<h3><A name=MessageSecurity>Message Level Security</A></h3>
    This section is under construction. Please see the existing <A 
href="http://www-unix.globus.org/toolkit/3.0/ogsa/docs/message_security.html">Message
     Level Security</A> document for details. 
     <h3><A name=TransportSecurity>Transport Level Security</A></h3>
This section is under construction. Please see the existing <A 
href="http://www-unix.globus.org/toolkit/3.0/ogsa/docs/transport_security.html">Transport
 Level Security</A> document for details. 
 <H3><A name=GSIProperties>GSI Client Properties</A></H3>
The following GSI 
properties can be set on the client to control the authentication/authorization 
process: 
<UL>
  <LI><B>org.globus.axis.gsi.GSIConstants.GSI_CREDENTIALS</B> 
  <UL>
    <LI><B>Value:</B> <I>org.ietf.jgss.GSSCredential</I> instance 
    <LI>It is used to pass a specific set of credentials for authentication. By 
    default, if not specified, the default user proxy credential is used. 
  </LI></UL>
  <LI><B>org.globus.ogsa.impl.security.Constants.AUTHORIZATION</B> 
  <UL>
    <LI><B>Value:</B> 
    <I>org.globus.ogsa.impl.security.authorization.Authorization</I> instance 
    <LI>It is used to set authorization type to perform. By default, if not 
    specified, host authorization is performed. </LI></UL>
  <LI><B>org.globus.axis.gsi.GSIConstants.GSI_MODE</B> 
  <UL>
    <LI><B>Value:</B> One of: 
    <UL>
      <LI>GSIConstants.GSI_MODE_NO_DELEG - performs no delegation (default) 
      <LI>GSIConstants.GSI_MODE_LIMITED_DELEG - performs limited delegation 
      <LI>GSIConstants.GSI_MODE_FULL_DELEG - performs full delegation </LI></UL>
    <LI><I>Used for GSI Secure Conversation or transport security only</I>. It 
    is used to set GSI delegation mode. </LI></UL></LI></UL>You can set these GSI 
properties on any service port instance by casting the instance to 
javax.xml.rpc.Stub class and calling ._setProperty() method. If you are dealing 
directly with JAX-RPC Call object use .setProperty() instead. For example: <PRE>  OGSIServiceGridLocator factoryService =<BR>            new OGSIServiceGridLocator();<BR>  Factory factory =<BR>            factoryService.getFactoryPort(new HandleType(handle));<BR><BR>  // enable GSI Secure Conversation message level security<BR>  ((Stub)factory)._setProperty(Constants.GSI_SEC_CONV,<BR>                               Constants.SIGNATURE);<BR>  // enable limited delegation<BR>  ((Stub)factory)._setProperty(GSIConstants.GSI_MODE,<BR>                               GSIConstants.GSI_MODE_LIMITED_DELEG);<BR>  // set client authorization to none<BR>  ((Stub)factory)._setProperty(Constants.AUTHORIZATION,<BR>                               NoAuthorization.getInstance());<BR></PRE>Note 
that the properties set on the factory stub are not inherited by any service 
port instance representing a service created using the factory. You will have to 
set seperate properties on every instance. 
<H3><a name="gsiinitialization">GSI initialization tips</a></H3>
Initialization of GSI on both the client and 
the server might be a very time consuming process on some platforms. It depends 
on the initialization of a secure seed needed by the random number generator for 
security purposes. The default seeding algorithm of Sun's VM is somewhat slow 
but it can be easily replaced by a better one by installing a new SecureRandom 
provider. <BR>For example, for Windows users we recommend installing the <A 
href="http://www.isnetworks.com/infinitemonkey/">InfiniteMonkey</A> provider 
from <A href="http://www.isnetworks.com/">ISNetworks.com</A> (Just follow the 
installation instructions in their included README.TXT file and put the 
intifitemonkey.dll in the c:\WINNT\system32 directory) <BR>Once the provider is 
properly installed the GSI initialization time will be much faster. <BR>Also, on 
Unix/Linux machines, GSI will take advantage of the /dev/urandom device if 
installed to speed up the start up time. In the future, we will provide a 
SecureRandom implementation for machines without this device. 
<H3><A name=JAASinstallation>JAAS installation</a></H3>
<strong>This step is only 
necessary for J2SE 1.3.1. </strong>To install JAAS library please download "JAAS 
1.0_01 Class Libraries" from <A 
href="http://java.sun.com/products/jaas/index-10.html">http://java.sun.com/products/jaas/index-10.html</A> 
Extract the <I>jaas-1_0_01.zip</I> file into a temporary directory and copy the 
"<I>jaas1_0_01/lib/jaas.jar</I>" file to the <I>lib</I> directory of the GT3 
installation.<BR>
<BR></BODY></HTML>
