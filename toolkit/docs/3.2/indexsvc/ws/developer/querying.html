<head><title>GT3 Index Service: Developer's Guide</title>
<link href="../../../../../../../CSS/style.css" rel="stylesheet" type="text/css">
</head>
<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>

<p class="small"><a href="http://www.globus.org">Globus</a> &gt;
<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/">3.2</a> &gt; 
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/mds/">GT3
Index Service</a> &gt; 
Developer's Guide &lt;</p>
<h1>GT3 Index Service : Developer's Guide</h1>
<p class="small"> &gt;top links<br>
</p>
<h2>Querying Service Data (<code>ogsi-find-service-data</code>) </h2>
<p>The <code>ogsi-find-service-data</code> command
  provides a command-line interface for querying the service data available to
you from any Grid service:</p>
<ul>
  <li>
    <p>By specifying a Grid service and one or more Service Data Element (SDE)
      names. </p>
  <li>
    <p>By specifying an <a href="xpath.html">XPath</a> expression in addition to the above. </p>
  </li>
</ul>
<p>You can specify the ogsi-find-service-data command output as raw XML or as
  an easy-to-read outline format. </p>
<p><strong>Note:</strong> <code> ogsi-find-service-data</code> is a client-side command; the
  services with which you are communicating can be on any machine. </p>
<p>Queries are handled through the host service's GridServicePortType findServiceData
operation.&nbsp; By default, the name of the service data for which to query
is what is specified by <code>QName</code> as the <code>serviceDataName</code> field of the <code>ServiceDataProviderExecutionType</code>  structure passed to the <code>executeProvider</code> method when the provider is first invoked. </p>
<p>Caveat:&nbsp; If configured with a custom callback handler, the <code>serviceDataName
  QName</code> may not be honored, subject to the code logic in the callback
  handler.&nbsp; Based
  on how the custom callback handler is implemented, it may not be necessary
  to specify the <code>serviceDataName</code>. </p>
<p>This document contains the following sections: </p>
<ul>
  <li>
    <p><a href="#findServiceDataCommand">The ogsi-find-service-data Command </a></p>
  <li>
    <p><a href="#findServiceDataExamples">ogsi-find-service-data Examples </a>    </p>
  </li>
</ul>
<h1><a name="findServiceDataCommand">The ogsi-find-service-data Command </a></h1>
<p>Remember to <a href="../../../developer/commandlineclients.html">set your environment</a> before running a GT3 command.</p>
<table width="700" border="0" cellpadding="5">
  <tr>
    <td colspan="2" valign="top"><div align="center" class="box-header">File
        Summary </div></td>
  </tr>
  <tr>
    <td colspan="2" valign="top"><p>&nbsp;</p>
    </td>
  </tr>
  <tr>
    <td colspan="2" valign="top"><div align="center" class="box-header"><a name="ogsifindservice">ogsi-find-service</a></div></td>
  </tr>
  <tr>
    <td colspan="2" valign="top"><p>blahblahblah</p>
        <p>The syntax of the <code>ogsi-find-service-data</code> command is as follows:</p></td>
  </tr>
  <tr>
    <td colspan="2" valign="top"><p class="command">ogsi-find-service-data [options] </p></td>
  </tr>
  <tr>
    <td width="209" valign="top"><strong>where:</strong></td>
    <td valign="top">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top"><code>-service <em>gsh</em></code></td>
    <td width="465" valign="top">Specifies the Grid Service Handle (GSH) of the
      service to be queried. If no handle is specified, then the following
      default is used: <br>
  <br>
  <span class="code">http://localhost:8080/ogsa/services/base/registry/ContainerRegistryService</span> </td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><code>-querytype <em>qtype</em></code></td>
    <td valign="top"><p>Specifies the type of query to be made, where <em>qtype </em> can
        be either name or xpath, or both, as follows.&nbsp; The default is <code>–querytype
    name</code>.</p>
      <table width="650" border="0" cellpadding="5">
        <tr>
          <td valign="top"><code>name</code></td>
          <td><p>Performs an OGSI queryByServiceDataNames query and returns all
              matching SDEs.&nbsp; One or more SDE names can be requested with
              the <code>–sde</code> option as follows: </p>
            <p class="code">-sde <em>name </em></p>
            <p>Specifies an SDE name to be queried.&nbsp; Multiple SDE names
              can be specified by repeating the <code>–sde</code> parameter several times.&nbsp; For
              example: </p>
          <p class="code">ogsi-find-service-data -sde gsdl:interface -sde gsdl:gridServiceHandle </p></td>
        </tr>
        <tr>
          <td valign="top"><code>xpath</code></td>
          <td><p>Initiates a GT3.0 queryByServiceDataXPath operation.&nbsp; Either
              or both of the following options can be used with the xpath query
              type: </p>
            <p><span class="code">-sde <em>name</em></span><em> </em></p>
            <p>Specifies an SDE name to be queried (same as used with the name
              query type described above). Only one SDE name can be specified
              in this case. </p>
            <p class="code"> -xpath <em>expr </em></p>
          <p>Specifies an XPath expression to be used for the query. </p></td>
        </tr>
      </table>      </td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><code>-ns ‘string=namespace'</code></td>
    <td valign="top"><p>Specifies namespace-to-abbreviation mappings for use
        with the –sde and –xpath parameters.&nbsp; string is an abbreviation
        used to represent a namespace specified by a URI.&nbsp; The –ns option
        can be used multiple times within a single ogsi-find-service-data command.&nbsp; By
        default, the namespace mappings are defined as follows: </p>
    <p class="code">gsdl=http://www.gridforum.org/namespaces/2003/03/OGSI </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><code>-output <em>format </em></code></td>
    <td valign="top"><p>Specifies the format of the output from the query operation
        as one of the following: </p>
      <p class="code"> raw </p>
      <p>Prints the raw XML returned from the query to stdout.&nbsp; This is
    the default output mode. </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><code>servicegroup</code></td>
    <td valign="top"><p>Prints the GSHs of all services available in your GT3
        configuration, in a non-XML, human friendly format.&nbsp; </p>
      <p>To see full
        details of the services, use the raw output mode instead.&nbsp; As defined
        in the <em><a href="http://www.gridforum.org/ogsi-wg/drafts/draft-ggf-ogsi-gridservice-29_2003-04-05.pdf">OGSI
        Specification </a></em>, a service group is an abstract service that
    represents a group of other services. </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><p><code>registry</code></p></td>
    <td valign="top"><p>Is the same as the servicegroup parameter, but includes
    a comment line with a service description for each GSH printed. </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><p><code>pretty </code></p></td>
    <td valign="top"><p>Prints an easy-to-read outline of the returned service
    data, with namespaces stripped out. </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><p><code>-verbose </code></p></td>
    <td valign="top"><p>Prints detailed progress information for use in debugging. </p></td>
  </tr>
  <tr bordercolor="1">
    <td valign="top"><p><code>-help </code></p></td>
    <td valign="top"><p>Prints a summary of the ogsi-find-service-data command
        syntax. <br>
    </p></td>
  </tr>
</table>
<p>&nbsp;</p>
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>