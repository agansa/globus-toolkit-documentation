<head><title>GT3 Index Service: Developer's Guide</title>
<link href="../../../../../../../CSS/style.css" rel="stylesheet" type="text/css">
</head>
<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>

<p class="small"><a href="http://www.globus.org">Globus</a> &gt;
<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/">3.2</a> &gt; 
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/mds/">GT3
Index Service</a> &gt; 
Developer's Guide &lt;</p>
<h1>GT3 Index Service : Developer's Guide</h1>
<p class="small"> &gt;top links<br>
</p>
<h1><a name="findServiceDataExamples">ogsi-find-service-data Examples </a></h1>
<p>The following sections present typical examples of using the ogsi-find-service-data
command:</p>
<ul>
  <li><a href="#example1">Example 1 - Querying a Grid service for all SDEs</a></li>
  <li><a href="#example2">Example 2 &ndash; Query a Grid service for multiple SDEs</a></li>
  <li><a href="#example3">Example 3 &ndash; Query a Grid service for all Service
    Data Names</a></li>
  <li><a href="#example4">Example 4 &ndash; Query a Grid service for all active
        services</a><br>
  </li>
</ul>
<h2><a name="example1">Example 1 – Query a Grid service for all SDEs</a></h2>
<p>This example shows how to query a Grid service for all available SDEs.&nbsp; The
  command is as follows: </p>
<p class="command">ogsi-find-service-data -service http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService
  -sde gsdl:entry -output registry </p>
<p>This command specifies that the Container Registry Service be queried for
  all entries registered to it, and that the output be displayed in a human-friendly
  format. </p>
<p>The command output appears as follows: </p>
<pre class="command">http://128.9.72.46:9103/ogsa/services/core/admin/AdminService 
   Comment: core/admin/AdminService
   
http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   Comment: Container Registry Service 
   
http://128.9.72.46:9103/ogsa/services/core/jmsadapter/JMSAdapterFactoryService 
   Comment: core/jmsadapter/JMSAdapterFactoryService 
   
http://128.9.72.46:9103/ogsa/services/core/proxy/ProxyFactoryService 
   Comment: core/proxy/ProxyFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/ 
   NotificationSubscriptionFactoryService 
   Comment: core/notification/NotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/ 
   SecureNotificationSubscriptionFactoryService 
   Comment: core/notification/SecureNotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/httpg/ 
   NotificationSubscriptionFactoryService 
   Comment: core/notification/httpg/NotificationSubscriptionFactoryService 
   
http://128.9.72.46:9103/ogsa/services/ogsi/ 
   NotificationSubscriptionFactoryService 
   Comment: ogsi/NotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/ogsi/HandleResolverService 
   Comment: ogsi/HandleResolverService 
</pre>
<h2><a name="example2">Example 2 – Query a Grid service for multiple SDEs</a></h2>
<p>This example shows how to query a Grid service for multiple SDEs.&nbsp; The
  command is as follows: </p>
<pre class="command">ogsi-find-service-data -service 
   http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde gsdl:interface -sde gsdl:gridServiceHandle </pre>
<p>This command specifies that the Container Registry Service be queried for
  two SDE&nbsp; names, gsdl:interface and gsdl:gridServiceHandle .&nbsp; Since
  no –output option is specified, the default of –output raw is assumed. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;ns1:result xsi:type="ns1:ExtensibilityType" xmlns:ns1="http://www.gridforum.org/namespaces/2003/03/OGSI"&gt; 
 &nbsp;&nbsp;&nbsp; &lt;ns2:serviceDataValues xmlns:ns2="http://www.gridforum.org/namespaces/2003/03/serviceData"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface xsi:type="xsd:QName" xmlns:ns3="http://ogsi.gridforum.org"&gt;ns3:NotificationServiceGroup&lt;/ 
   ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface xsi:type="xsd:QName"&gt;ns1:NotificationSource&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface 
   xsi:type="xsd:QName"&gt;ns1:ServiceGroup&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface 
   xsi:type="xsd:QName"&gt;ns1:GridService&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:gridServiceHandle xsi:type="ns1:HandleType"&gt;http://128.9.72.46:9103/ogsa/services/core/ 
   registry/ContainerRegistryService&lt;/ns1:gridServiceHandle&gt; 
 &nbsp;&nbsp;&nbsp; &lt;/ns2:serviceDataValues&gt; 
 &nbsp;&nbsp; &lt;/ns1:result&gt; 
</pre>
<h2><a name="example3">Example 3 – Query a Grid service for all Service Data
Names</a></h2>
<p>This example shows how to query a Grid service for all Service Data Names
  that it publishes.&nbsp; The command is as follows: </p>
<pre class="command">ogsi-find-service-data -service http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde gsdl:serviceDataName </pre>
<p>This command specifies that the Container Registry Service be queried for
  all SDE names that it publishes (via –sde gsdl:serviceDataName ).&nbsp; Since
  no –output option is specified, the default of –output raw is assumed. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;ns1:result xsi:type="ns1:ExtensibilityType" xmlns:ns1="http://www.gridforum.org/namespaces/2003/03/OGSI"&gt; 
 &nbsp;&nbsp;&nbsp; &lt;ns2:serviceDataValues xmlns:ns2="http://www.gridforum.org/namespaces/2003/03/serviceData"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:entry&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:gridServiceHandle&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:serviceDataName&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:interface&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:setServiceDataExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:terminationTime&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:membershipContentRule&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:subscribeExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:gridServiceReference&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:notifiableServiceDataName&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:ogsi-find-service-dataExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp; &lt;/ns2:serviceDataValues&gt; 
 &nbsp;&nbsp; &lt;/ns1:result&gt; 
</pre>
<h2><a name="example4">Example 4 – Query a Grid service for all active services</a></h2>
<p>This example shows how to query the container registry for all active services
  registered to it.&nbsp; The command is as follows : </p>
<pre class="command">ogsi-find-service-data -service 
   http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde entry -querytype xpath -xpath 
   '/gsdl:entry[gsdl:content/prop:propertiesDetail/prop:state="ACTIVE"]' -ns 
   prop=http://ogsa.globus.org/types/properties -output pretty </pre>
<p>This command uses an XPath expression to specify that the Container Registry
  Service be queried for all services registered to it.&nbsp; The XPath expression
  uses both the default namespace, gsdl , as well as the –ns option to define
  the prop abbreviation for the properties namespace.&nbsp; The XPath expression
  filters the results so that only active services are returned.&nbsp; The –output
  pretty option specifies that the service data be returned in an easy-to-read
  outline form. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;result type="ns1:ExtensibilityType"&gt; 
 &nbsp; &lt;XPathQueryResults resultCount="1"&gt; 
 &nbsp;&nbsp;&nbsp; &lt;entry type="ns1:EntryType"&gt; 
 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &lt;serviceGroupEntryLocator nil="true" /&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;memberServiceLocator type="ns1:LocatorType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;handle type="ns1:HandleType"&gt; </pre>
<pre class="command">http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService&nbsp;&nbsp;&nbsp; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/handle&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/memberServiceLocator&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;content type="ns1:EntryContentType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;propertiesDetail type="ns2:PropertiesDetailType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &lt;name&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Container Registry Service 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/name&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;portType&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ns3:NotificationServiceGroupService 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/portType&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;state type="ns2:StateType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ACTIVE 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/state&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;propertiesLifecycle type="ns2:LifeCycleType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRANSIENT 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/propertiesLifecycle&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;deploymentLifecycle type="ns2:LifeCycleType"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PERSISTENT 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/deploymentLifecycle&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;schemaPath&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; schema/ogsi/ogsi_notification_service_group_service.wsdl 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/schemaPath&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;activateOnStartup&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; false 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/activateOnStartup&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/endpoint&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;handle&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/handle&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/propertiesDetail&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/content&gt; 
 &nbsp;&nbsp;&nbsp; &lt;/entry&gt; 
 &nbsp; &lt;/XPathQueryResults&gt; 
 &lt;/result&gt; </pre>
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>