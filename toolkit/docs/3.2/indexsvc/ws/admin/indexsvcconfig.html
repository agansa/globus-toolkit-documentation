<head><title>GT3 Index Service: System Administrator's Guide</title>
<link href="../../../../../../../CSS/style.css" rel="stylesheet" type="text/css">
</head>
<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>

<p class="small"><a href="http://www.globus.org">Globus</a> &gt;
<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/">3.2</a> &gt; 
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/mds/">GT3 Index Service</a> &gt; 
System 
Administrator's Guide &lt;</p>
<h1>GT3 Index Service : System Administrator's Guide</h1>
<p class="small">&gt;Overview<br>
    <a href="#Configuring_the_Index_Service">Configuring the Index Service</a><br>
    <a href="#Using_Service_Data_Providers">Using Service Data Providers</a><br>
    <a href="#Testing_Service_Data_Aggregation">Testing Service Data Aggregation</a><br>
    <a href="#Index_Service_Configuration_File">Index Service Configuration File</a><br>
<a href="#ServerConfigurationFile">Server Configuration File</a></p>
<h2>Overview</h2>
<p>This document is for system administrators who want to configure and 
  maintain the Index Service (MDS3) for generating, aggregating, and querying 
  Grid services and service data.</p>
<p>The GT3 version of the Index Service supports multithreaded, 
      recurring execution of providers via Java TimerTasks and asynchronous 
      notification of changed Service Data to listening OGSA Notification 
      Sinks.&nbsp; It is also possible to create server-side subscriptions to other 
      OGSA service data, where the notification messages of these 
      server-side subscriptions get cached in the local service data container – 
      this is known as <b>Service Data Aggregation</b>.</p>
<h2><a name="Prerequisite_Documents">Prerequisite 
      Documents</a></h2>
<ul>
	<li>
<a href="http://www.globus.org/research/papers/ogsa.pdf">The Physiology of the Grid</a></li>
	<li>Toolkit 
	Concepts</li>
	<li>Toolkit 
	Installation</li>
	<li>MDS: Key Concepts</li>
</ul>
<p align="right"><a href="#Top">Top</a></p>
<h2><a name="Configuring_the_Index_Service">Configuring the Index Service</a></h2>
<ol>
	<li>
	<p>Build or install GT3. 
	See the Toolkit Installation Guide.<br>&nbsp;</li>
	<li>
	<p>If you are planning to use the <b>OGSA Service Browser GUI</b>, you will need 
    to add some configuration entries for&nbsp; 
        the GUI control panels for the Index Service.&nbsp; Open the <kbd>client-gui-config.xml</kbd> file in your GT3  
        installation root directory and add the following lines:</li>
</ol>
<p class="command">&lt;panel portType=&quot;ServiceDataProviderExecutionPortType&quot; 
class=&quot;org.globus.ogsa.gui.ProviderExecutionPortTypePanel&quot;/&gt;<br>
&lt;panel portType=&quot;DataAggregationPortType&quot; class=&quot;org.globus.ogsa.gui.AggregatorPortTypePanel&quot;/&gt;</p>
<p align="right"><a href="#Top">Top</a></p>
<h2><a name="Using_Service_Data_Providers">Using Service Data 
      Providers</a></h2>
<p>By 
      default, the following Service Data Providers are available in the 
      Index Service: </p>
<ul>
	<li>
	<p>SimpleSystemInformation:&nbsp; 
      This is a Java native system probe.&nbsp; This provider enumerates the following 
      data:&nbsp; CPU count, memory statistics, OS type, and logical disk volumes. </p></li>
	<li>
	<p>HostScriptProvider:<b> </b>&nbsp;This is a 
      Linux-specific set of shell scripts that monitor system-specific host 
      data.&nbsp; This package must be installed and deployed to your GT3 
      installation base using GPT.</p></li>
</ul>
<p>Providers can be executed when the Index Service activates, based on 
      the execution parameters specified in the  <kbd>index-service-config.xml</kbd> file 
      found in the /etc directory of your GT3 installation root.</p>
<h3>Executing a Service Data Provider via the OGSA Service Browser GUI</h3>
<p>1. Launch the standalone OGSA Service Container 
by running:</p>
<p class="command">ant startContainer</p>
<p>2.&nbsp; Launch the Service Browser GUI 
by running:</p>
<p class="command">ant gui</p>
<p>3.&nbsp;
      Locate the 
      Index Service in the browser list and double-click to activate the service.</p>
<p>4.&nbsp;
      Select a 
      provider from the Service Data Providers list and adjust any of the default 
      provider execution parameters as required.</p>
<p>5.&nbsp;
      Name the new 
      service data that will be created from the output of the selected 
      provider.&nbsp; If you do not specify a name, the name of the root element of 
      the XML output of the provider will be used.</p>
<p>6.&nbsp;
      Click  <i>Create</i> 
      to create the new service data from the output of the provider.&nbsp; If you 
      specify  <i>0 </i>for the refresh frequency, the provider will run once and 
      terminate. Otherwise, if you specify a positive refresh frequency, the 
      provider will execute again after the refresh frequency in seconds has 
      elapsed.&nbsp; In addition, subscriptions to this data will  now be notified 
      whenever the service data has changed as a result of provider execution.</p>
<p>7.&nbsp;
      Issue a <i>Query by 
      Service Data Name</i> on the name to which you associated the output of the 
      provider.&nbsp; If the provider has run successfully, you should see the 
      results displayed in the XML tree view in the Grid Service panel of the 
      GUI.&nbsp; You should now be able to subscribe to this service data from another 
      service.
      Another alternative is to issue 
      an XPath query against the data created.&nbsp; See <i>
<a href="http://www.globus.org/ogsa/releases/final/docs/infosvcs/xpath_query.html">XPath Query Support for Service Data Elements</a></i> for samples.</p>
<p align="right"><a href="#Top">Top</a></p>
<h2><a name="Testing_Service_Data_Aggregation">Testing Service Data Aggregation</a></h2>
<p>Use this simple test for notification caching, otherwise known as <b>Service 
Data Aggregation</b>. The Index Service is a persistent service, which means that to add another 
instance you must add an additional service descriptor entry to the.</p>
1.  Open the&nbsp; <kbd>server-config.wsdd</kbd> file in your GT3 root 
directory.<p>2. Copy the entire existing Index Service descriptor entry to the 
clipboard and then paste it back into <kbd>server-config.wsdd</kbd>, beneath the 
existing Index Service descriptor.</p>
<p>3. Change the service name parameter in the new descriptor entry to something other than 
&quot;IndexService&quot;.  Also, change the name parameter to change the display name of the service.  Your result should look like something like this:
</p>

<pre class="command">&lt;service name=&quot;base/index/IndexService2&quot; provider=&quot;Handler&quot; style=&quot;wrapped&quot;&gt;     
      &lt;parameter name=&quot;name&quot; value=&quot;Index Service 2&quot;/&gt;;
     ... (no additional changes needed)&lt;/service&gt;</pre>
<p>2. Launch the standalone OGSA Service Container 
by running:</p>
<p class="command">ant startContainer</p>
<p>3.&nbsp; Launch the Service Browser GUI 
by running:</p>
<p class="command">ant gui</p>
<p>4.&nbsp;
      Use the Service 
      Browser GUI to activate both Index Service instances.</p>
<p>5.&nbsp; In the  <i>Manage Subscriptions</i> group box of the target Index Service 
      instance, create a subscription to the Service Data Element (SDE) on the 
source Index Service instance:</p>
<p><blockquote>a) In the  <i>Source</i> field, specify the URL of the source 
	Index Service instance.<p>b) In the  <i>New Service Data Name</i> and  <i>New 
	Service Data Namespace</i> fields, specify the <kbd>ServiceData </kbd>QName of the SDE 
  on the instance to which you are subscribing. Do this by entering the QName 
  namespaceURI into the  <i>New 
	Service Data Namespace</i> field, and the QName localPart into the  <i>New Service Data Name</i> 
  field.<br><br>c) In the <i>Sink</i> field, 
	enter the URL of the target Index Service instance.</p>
	d) In the <i>Sink Lifetime</i> field, enter a positive lifetime in seconds 
	for the new subscription.</p>
	<p>If all goes well, you should see a message 
      box indicating that the subscription was successful, and if you have the &quot;messageGateway&quot; 
    option enabled in the Index service descriptor, you should see subsequent notifications 
    displayed in the GUI as they arrive. 
    Otherwise, if the command fails, it is likely that the SDE name specified was not found, or 
    another error occurred.&nbsp; Check the server's error log to help trace 
    problems.</p>
</blockquote>
6.&nbsp;
      Run a query by 
      name on the target Index Service instance for the SDE for which you created the 
      subscription. If a notification has occurred from the source service 
      instance to the target, the SDE from the source instance 
      should be returned in the query on the target instance, where it is being cached 
as part of that service's Service Data.</p>
<p align="right"><a href="#Top">Top</a></p>
<h2><a name="Index_Service_Configuration_File">Index Service Configuration File</a></h2>
<p>To 
      use the capabilities of the Index Service for your particular operational 
      needs and environment, you need to configure it for the Grid services and 
      Service Data Providers you intend to use, the kind of service data you 
      want to aggregate, and the service data notifications and subscriptions 
      you desire.&nbsp; You perform this configuration with the Index Service 
      configuration file, <kbd>index-service-config.xml</kbd>.</p>
<p>The <kbd>index-service-config.xml</kbd> file is included in your GT3 installation and 
      resides by default in &lt;gt3-install-location&gt;/etc.&nbsp; The default contents of 
      this file are described in <i>
<a href="#confcontents" style="color: blue; text-decoration: underline; text-underline: single">Index Service Configuration File Contents</a></i> below.</p>
<p>In 
      relation to your GT3 installation and configuration, each persistent Index 
      Service instance you create requires the following:</p>
<ul>
	<li>
	<p>One service 
        descriptor entry in the server configuration file, server-config.wsdd.</li>
	<li>
	<p>One Index Service 
        configuration file, <kbd>index-service-config.xml</kbd>.</li>
</ul>
<p><b>Note:</b> If you modify this file, you need to restart the Index Service 
(by restarting the container that is hosting it).<br>
&nbsp;</p>
<h3>Index Service 
      Configuration File: Functions</h3>
<p>The functions of the Index Service configuration file are as follows:</p>
<ul>
	<li>
	Specifies the Service Data Providers (core, custom, and ported from GT2) 
        to be enabled for each service referencing this configuration file.<br>&nbsp;</li>
	<li>
	Specifies which (if any) of the enabled providers are to be executed at 
        startup and/or when the configuration file is reread, along with any 
        parameters relevant to the provider’s execution.<br>&nbsp;</li>
	<li>
	Specifies notification and subscription of service data to other service 
        instances, which allows for aggregation of service data from multiple 
        services.</li>
</ul>
<p>The following section shows and describes the default Index Service 
      configuration file.&nbsp; <br>&nbsp;</p>
<h3>Index Service 
      Configuration File: Default Contents</h3>
<p>The following shows the default contents of the Index Service 
      configuration file, <kbd>index-service-config.xml</kbd>.&nbsp; The sections of this file 
      are described in detail in subsequent topics:</p>
<pre class="command">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;serviceConfiguration xmlns:ogsi=&quot;http://www.gridforum.org/namespaces/2003/03/OGSI&quot;
xmlns:aggregator=&quot;http://www.globus.org/namespaces/2003/09/data_aggregator&quot; 
xmlns:provider-exec=&quot;http://www.globus.org/namespaces/2003/04/service_data_provider_execution&quot;
xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt; 

&lt;installedProviders&gt; 
 &lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.SimpleSystemInformationProvider&quot; /&gt; 
 &lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.AsyncDocumentProvider&quot; /&gt; 
 &lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.ScriptExecutionProvider&quot; /&gt;
 &lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.HostScriptProvider&quot; /&gt;
&lt;/installedProviders&gt;

&lt;executedProviders&gt;
 &lt;provider-exec:ServiceDataProviderExecution&gt;
  &lt;provider-exec:serviceDataProviderName&gt;SystemInformation&lt;/provider-exec:serviceDataProviderName&gt;
  &lt;provider-exec:serviceDataProviderImpl&gt;org.globus.ogsa.impl.base.providers.servicedata.impl.SimpleSystemInformation&lt;/provider-exec:serviceDataProviderImpl&gt;
  &lt;provider-exec:serviceDataProviderArgs&gt; &lt;/provider-exec:serviceDataProviderArgs&gt;
  &lt;provider-exec:serviceDataName xmlns:mds=&quot;http://glue.base.ogsa.globus.org/ce/1.1&quot;&gt;mds:Host&lt;/provider-exec:serviceDataName&gt;
  &lt;provider-exec:refreshFrequency&gt;60&lt;/provider-exec:refreshFrequency&gt;
  &lt;provider-exec:async&gt;true&lt;/provider-exec:async&gt;
 &lt;/provider-exec:ServiceDataProviderExecution&gt;
&lt;/executedProviders&gt;

&lt;!-- Sample Configuration of Service Data Aggregation relationships using Subscription --&gt;
&lt;dataAggregations&gt;
&lt;!-- 
  The sample below will cause the default Index Service instance (the sink) 
  to subscribe to the &quot;Cluster&quot; SDE on the default MasterForkManagedJobFactoryService 
  (the source), essentially publishing the aggregated &quot;Cluster&quot; SDE from 
  the default MasterForkManagedJobFactoryService as part of the default 
  Index Service's ServiceData.
--&gt; 
&lt;!--&lt;aggregator:DataAggregation&gt;
&lt;ogsi:source&gt;http://localhost:8080/ogsa/services/base/gram/MasterForkManagedJobFactoryService&lt;/ogsi:source&gt;
&lt;ogsi:sink&gt;http://localhost:8080/ogsa/services/base/index/IndexService&lt;/ogsi:sink&gt;
&lt;ogsi:params&gt;
 &lt;aggregator:AggregationSubscription&gt;
  &lt;ogsi:serviceDataNames&gt;
   &lt;ogsi:name xmlns:ce=&quot;http://glue.base.ogsa.globus.org/ce/1.1&quot;&gt;ce:Cluster&lt;/ogsi:name&gt;
  &lt;/ogsi:serviceDataNames&gt;
  &lt;aggregator:lifetime&gt;1200&lt;/aggregator:lifetime&gt;
 &lt;/aggregator:AggregationSubscription&gt;
&lt;/ogsi:params&gt;
&lt;/aggregator:DataAggregation&gt;--&gt; 

&lt;!-- 
  The sample below will invoke the aggregator operation provider of the 
  MasterForkManagedJobFactoryService instance (the sink) to subscribe to 
  the &quot;Host&quot; SDE on the default local Index Service (the source), essentially 
  publishing the &quot;Host&quot; SDE to the default MasterForkManagedJobFactoryService's 
  Service Data. Note that this &quot;proxy subscription&quot; behavior will only work
  when the target sink is a service that supports addDataAggregation using the
  SubscriptionAggregationSource implementation (see data_aggregator_port_type.gwsdl).
--&gt; 
&lt;!-- &lt;aggregator:DataAggregation&gt;
&lt;ogsi:source&gt;http://localhost:8080/ogsa/services/base/index/IndexService&lt;/ogsi:source&gt;
&lt;ogsi:sink&gt;http://localhost:8080/ogsa/services/base/gram/MasterForkManagedJobFactoryService&lt;/ogsi:sink&gt;
&lt;ogsi:params&gt;
 &lt;aggregator:AggregationSubscription&gt;
  &lt;ogsi:serviceDataNames&gt;
   &lt;ogsi:name xmlns:ce=&quot;http://glue.base.ogsa.globus.org/ce/1.1&quot;&gt;ce:Host&lt;/ogsi:name&gt;
  &lt;/ogsi:serviceDataNames&gt;
 &lt;aggregator:lifetime&gt;1200&lt;/aggregator:lifetime&gt;
 &lt;/aggregator:AggregationSubscription&gt;
&lt;/ogsi:params&gt;
&lt;/aggregator:DataAggregation&gt;--&gt;

&lt;/dataAggregations&gt;

&lt;/serviceConfiguration&gt;</pre>
<h4 align="right"><span style="font-weight: 400"><a href="#Top">Top</a></span></h4>
<h4>Index Service 
      Configuration File: serviceConfiguration</h4>
<p>The serviceConfiguration section in <kbd>index-service-config.xml</kbd> specifies 
      Grid service, Service Data Aggregator, and Service Data Provider 
      namespaces.&nbsp; This section in the default file is as follows:</p>
<p class="command" style="text-autospace: none; margin-right: -1.25in">
<font face="Courier New" size="2">&lt;serviceConfiguration xmlns:ogsi=&quot;<a href="http://www.gridforum.org/namespaces/2003/03/OGSI">http://www.gridforum.org/namespaces/2003/03/OGSI</a>&quot; 
xmlns:aggregator=&quot;<a href="http://www.globus.org/namespaces/2003/09/data_aggregator">http://www.globus.org/namespaces/2003/09/data_aggregator</a>&quot; 
xmlns:provider-exec=&quot;<a href="http://www.globus.org/namespaces/2003/04/service_data_provider_execution">http://www.globus.org/namespaces/2003/04/service_data_provider_execution</a>&quot; 
xmlns:xsd=&quot;<a href="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</a>&quot; 
&gt; </font> 
</p>
<p>Note that namespaces (identified by URLs) are specified above for OGSI, 
      Service Data Aggregator, Service Data Provider execution, and XML schema.&nbsp; 
      These namespaces are required so that the Apache Axis SOAP engine can 
      properly render the XML entries in the file into runtime objects.</p>
<p><a href="#Top">Top</a></p>
<h4>Index Service 
      Configuration File: installedProviders</h4>
<p>The installedProviders section in the default <kbd>index-service-config.xml</kbd> 
      file is as follows:</p>
<p class="command"><font face="Courier New" size="2">&lt;installedProviders&gt; <br>
&nbsp;&lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.SimpleSystemInformationProvider&quot; 
/&gt; <br>
&nbsp;&lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.AsyncDocumentProvider&quot; 
/&gt; <br>
&nbsp;&lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.ScriptExecutionProvider&quot; 
/&gt;<br>
&nbsp;&lt;providerEntry class=&quot;org.globus.ogsa.impl.base.providers.servicedata.impl.HostScriptProvider&quot; 
/&gt;<br>
&lt;/installedProviders&gt;</font></p>
<p>This section specifies the core Service Data Providers as shown above, as 
      well as any Java custom or ported Service Data Providers.&nbsp; Every Java 
      Service Data Provider specified in the executedProviders section 
      (described below) must also be listed here in the installedProviders 
      section; MDS2-style Unix information providers are excepted.</p>
<p>The only required attribute in the installedProviders section is class, 
      under 
      ProviderEntry, 
      which provides a path to the class.&nbsp; The class attribute contains a Java 
      class name that implements one of the supplied Service Data Provider interfaces.</p>
<p>An 
      optional 
      handler 
      parameter can be used to indicate a user-supplied custom callback method 
      where the resulting data will be sent for any post-processing.&nbsp; See 
      the <i>
<a href="http://www.globus.org/ogsa/releases/final/docs/infosvcs/newsdp.html#CustomDataHandlers">Custom Data Handlers</a></i> section of 
<i>
<a href="http://www.globus.org/ogsa/releases/final/docs/infosvcs/newsdp.html">Creating New GT3 Service Data Providers</a></i> 
      for details.</p>
<p align="right"><a href="#Top">Top</a></p>
<h4>Index Service 
      Configuration File: executedProviders</h4>
<p>The executedProviders section in the default <kbd>index-service-config.xml</kbd> file 
      is as follows:</p>
<p class="command"><font face="Courier New" size="2">&lt;executedProviders&gt;<br>
&nbsp;&lt;provider-exec:ServiceDataProviderExecution&gt;<br>
&nbsp;&lt;provider-exec:serviceDataProviderName&gt;SystemInformation&lt;/provider-exec:serviceDataProviderName&gt;<br>
&nbsp;&lt;provider-exec:serviceDataProviderImpl&gt;org.globus.ogsa.impl.base.providers.servicedata.impl.SimpleSystemInformation&lt;/provider-exec:serviceDataProviderImpl&gt;<br>
&nbsp;&lt;provider-exec:serviceDataProviderArgs&gt; &lt;/provider-exec:serviceDataProviderArgs&gt;<br>
&nbsp;&lt;provider-exec:serviceDataName xmlns:mds=&quot;http://glue.base.ogsa.globus.org/ce/1.1&quot;&gt;mds:Host&lt;/provider-exec:serviceDataName&gt;<br>
&nbsp;&lt;provider-exec:refreshFrequency&gt;60&lt;/provider-exec:refreshFrequency&gt;<br>
&nbsp;&lt;provider-exec:async&gt;true&lt;/provider-exec:async&gt;<br>
&nbsp;&lt;/provider-exec:ServiceDataProviderExecution&gt;<br>
&lt;/executedProviders&gt;</font></p>
<p>One or more piece(s) of service data is produced by each execution of each 
      Service Data Provider specified in this section.</p>
<p>Each execution of a Service Data Provider here may use the same individual 
      provider in the installedProviders section multiple times, such as the ScriptExecutionProvider.</p>
<p>The 
      serviceDataProviderArgs 
      parameter supplies parameters to the Service Data Providers specified in 
      this entry.</p>
<p>The 
      serviceDataName 
      parameter specifies the name of the new service data to create.&nbsp; If no 
      name is specified, the name will be created from the tag name of the root 
      element of the XML document resulting from the provider execution.&nbsp; 
      The name may be qualified with a namespace, using standard XML QName 
      syntax.&nbsp; For example:</p>
<p class="command">&lt;provider-exec:serviceDataName xmlns:ns=”http://www.globus.org/example”&gt;ns:SystemInformation&lt;/provider-exec:serviceDataName&gt;</p>
<p>The 
      <kbd>refreshFrequency</kbd> 
      parameter indicates how often (in seconds) to run this Service Data 
      Provider.</p>
<p>The <kbd>async</kbd> 
      parameter indicates that the Service Data Provider specified should 
      attempt to run asynchronously if it is capable of doing so.</p>
<p>Every Java Service Data Provider specified in this section must also be 
      specified in the installedProviders section (described above) of the 
      configuration file; MDS2-style Unix information providers are excepted.</p>
<p align="right"><a href="#Top">Top</a></p>
<h4>Index Service 
      Configuration File: dataAggregations</h4>
<p>The dataAggregations section in the default <kbd>index-service-config.xml</kbd> 
file specifies the Grid services and the Service Data from those services that 
is to be aggregated by the Index Service.</p>
<p class="command" style="text-autospace: none; margin-right: -1.25in">
<font face="Courier New" size="2">&lt;aggregator:DataAggregation&gt;<br>
&nbsp;&lt;ogsi:source&gt;http://localhost:8080/ogsa/services/base/gram/MasterForkManagedJobFactoryService&lt;/ogsi:source&gt;<br>
&nbsp;&lt;ogsi:sink&gt;http://localhost:8080/ogsa/services/base/index/IndexService&lt;/ogsi:sink&gt;<br>
&nbsp;&lt;ogsi:params&gt;<br>
&nbsp; &lt;aggregator:AggregationSubscription&gt;<br>
&nbsp;&nbsp; &lt;ogsi:serviceDataNames&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;ogsi:name xmlns:ce=&quot;http://glue.base.ogsa.globus.org/ce/1.1&quot;&gt;ce:Cluster&lt;/ogsi:name&gt;<br>
&nbsp;&nbsp; &lt;/ogsi:serviceDataNames&gt;<br>
&nbsp;&nbsp; &lt;aggregator:lifetime&gt;1200&lt;/aggregator:lifetime&gt;<br>
&nbsp; &lt;/aggregator:AggregationSubscription&gt;<br>
&nbsp;&lt;/ogsi:params&gt;<br>
&lt;/aggregator:DataAggregation&gt;</font></p>
<p>The 
      <font face="Courier New">ogsi:source</font><font face="Courier New" size="2">
</font>parameter 
      specifies the service to which the subscription will be made.</p>
<p>The 
      <font face="Courier New">ogsi:sink</font> parameter 
      specifies the service to which the messages will be delivered - if is not 
found, the handle of the Index Service that is processing the configuration file 
will be used.</p>
<p>The 
      <font face="Courier New">ogsi:params</font><font face="Courier New" size="2">
</font>parameter is an extensibility element (XSD Any) which is set by default 
in to be the AggregationSubscription type.</p>
<p>The 
      <font face="Courier New">aggregator:AggregationSubscription</font><font face="Courier New" size="2">
</font>is a type defined for creating aggregations based specifically on Service 
Data subscriptions. Other aggregation types are theoretically possible, but are 
not currently used by the Index Service..</p>
<p>The 
      <font face="Courier New">ogsi:serviceDataNames</font><font face="Courier New" size="2">
</font>parameter of the <font face="Courier New">AggregationSubscription<font size="2">
</font></font>specifies an array of&nbsp; QNames of the service data elements to which the Index 
      Service will subscribe.</p>
<p>The 
      <font face="Courier New">aggregator:lifetime</font><font face="Courier New" size="2">
</font>parameter of the <font face="Courier New">AggregationSubscription </font>specifies the lifetime of the subscription, in seconds.</p>
<p>The above example shows the Index Service subscribing to the GRAM 
      MasterForkManagedJobFactory service in order to aggregate information 
      about the Cluster resources available.</p>
<h2><a name="ServerConfigurationFile">Server 
      Configuration File</a></h2>
<p>The server-config.wsdd file is also included in the GT3 installation and 
      resides by default in &lt;gt3-install-location&gt;.&nbsp; This file contains all of 
      the deployment descriptors for every service in the hosting environment.&nbsp; 
      By default, there is a single descriptor for the Index Service.&nbsp; 
      If you want additional persistent Index Service instances, you just add 
      more descriptors, but with different service names. </p>
<p>The default Index Service deployment descriptor in server-config.wsdd appears as 
      follows:</p>
<p class="command"><font size="2" face="Courier New">&lt;service name=&quot;base/index/IndexService&quot; 
provider=&quot;Handler&quot; style=&quot;wrapped&quot;&gt;<br>
&nbsp;&lt;parameter name=&quot;name&quot; value=&quot;Index Service&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;schemaPath&quot; value=&quot;schema/base/index/index_service.wsdl&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;className&quot; value=&quot;org.globus.ogsa.base.index.IndexService&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;baseClassName&quot; value=&quot;org.globus.ogsa.impl.base.index.IndexServiceImpl&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;instance-schemaPath&quot; value=&quot;schema/ogsi/ogsi_service_group_entry_service.wsdl&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;instance-baseClassName&quot; value=&quot;org.globus.ogsa.impl.ogsi.ServiceGroupEntryImpl&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;factoryCallback&quot; value=&quot;org.globus.ogsa.impl.ogsi.DynamicFactoryCallbackImpl&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;operationProviders&quot; value=&quot;org.globus.ogsa.impl.ogsi.NotificationSourceProvider 
org.globus.ogsa.impl.ogsi.ServiceGroupProvider 
org.globus.ogsa.impl.base.index.IndexingServiceGroupRegistrationProvider 
org.globus.ogsa.impl.base.providers.servicedata.ServiceDataProviderManager&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;handlerClass&quot; value=&quot;org.globus.ogsa.handlers.RPCURIProvider&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;persistent&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;allowedMethods&quot; value=&quot;*&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;promiscuousCache&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;sweepServiceData&quot; value=&quot;false&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;entryInstanceCreation&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;disableFactoryRegistry&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;serviceConfig&quot; value=&quot;etc/index-service-config.xml&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;aggregateServiceGroupEntryContent&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;aggregateServiceData&quot; value=&quot;true&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;messageGateway&quot; value=&quot;false&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;minNotificationInterval&quot; value=&quot;5&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;xindiceEnabled&quot; value=&quot;false&quot;/&gt;<br>
&nbsp;&lt;parameter name=&quot;xindiceURI&quot; value=&quot;xindice-embed:///db&quot;/&gt;<br>
&lt;/service&gt;</font></p>
<p>The parameter names above are described in more detail in the 
<i>
<a style="color: blue; text-decoration: underline; text-underline: single" href="http://www-unix.globus.org/toolkit/3.0/ogsa/docs/users_guide.html">User’s Guide Core Framework</a></i> and the 
<i>
<a style="color: blue; text-decoration: underline; text-underline: single" href="http://www-unix.globus.org/toolkit/3.0/ogsa/docs/java_programmers_guide.html">Java Programmer’s Guide Core Framework</a>.</i>&nbsp; The parameters of 
      particular interest for the Index Service are as follows:</p>
<p align="right"><a href="#Top">Top</a></p>

<p class="command"><b><font size="4">Server Configuration File: General 
Parameters</font></b></p>
<p class="command">&lt;parameter name=&quot;aggregateServiceGroupEntryContent&quot; value=&quot;true&quot;/&gt;</p>
<p>This parameter enables storing aggregated Service Data as 
ServiceGroupEntryContent.</p>
<p class="command">
&lt;parameter name=&quot;aggregateServiceData&quot; value=&quot;true&quot;/&gt;</p>
<p class="command">
This parameter enables storing aggregated Service Data as an array of Service 
Data values inside a named Service Data Element.</p>
<p class="command">
&lt;parameter name=&quot;promiscuousCache&quot; value=&quot;true&quot;/&gt;</p>
<p class="command">
This parameter indicates that the aggregator component should cache messages 
even if it cannot locate a subscription for the service data contained in a 
received message.</p>
<p class="command">&lt;parameter name=&quot;messageGateway&quot; value=&quot;false&quot;/&gt;</p>
<p>This parameter enables the relay of incoming messages to any listening 
subscribers of the SDE named &quot;MessageGateway&quot;. This can be used to remotely 
monitor the messages received by the Index service.</p>
<p class="command">&lt;parameter name=&quot;minNotificationInterval&quot; value=&quot;5&quot;/&gt;</p>
<p>This parameter limits outbound message traffic by the specified number of 
seconds.&nbsp; For any given subscription, messages will be sent no faster than the interval specified.&nbsp; 
Subscribing services may override this setting on a per-subscription basis by 
specifying a minInterval in the subscription request.&nbsp; This parameter may 
also be removed from server-config.wsdd if message delivery rate limiting is not desired.</p>
<h3>Server Configuration File: <font face="Courier New">serviceConfig</font></h3>
<p>The serviceConfig section in the default <kbd>server-config.wsdd</kbd> file appears as 
      follows:</p>
<p class="command">&lt;parameter 
      name=&quot;serviceConfig&quot; value=&quot;etc/<kbd>index-service-config.xml</kbd>&quot;/&gt;</p>
<p>This 
      parameter is the path to the Index Service configuration file.&nbsp; It is a 
      required parameter.&nbsp; Although the default <kbd>index-service-config.xml</kbd> file is 
      provided in the GT3 installation, this file can be copied and modified, 
      and then this descriptor entry can be updated to reflect the location and 
      name of the new configuration file to use.</p>
<h3>Server Configuration File: Xindice</h3>
<p class="command">&lt;parameter 
      name=&quot;xindiceEnabled&quot; value=&quot;false&quot;/&gt;<br>&lt;parameter name=&quot;xindiceURI&quot; value=&quot;xindice-embed:///db&quot;/&gt;</p>
<p>These optional parameters indicate, respectively, whether or not the 
      Xindice XML database package should be used to persist service data, and 
      if Xindice is to be used, the URI of the Xindice database root. This 
option is disabled by default (see above).&nbsp; </p>

<h4>Enabling Xindice</h4>
<p class="MsoNormal">The GT3 version of the Index Service does support 
transparent service data persistence through the use of the Apache Xindice 
XML-native database platform.&nbsp; To enable Xindice, 
the <kbd>xindiceEnabled</kbd> parameter in this descriptor should be set to 
true:</p>
<p class="command">&lt;parameter name=&quot;xindiceEnabled&quot; value=&quot;true&quot;/&gt;</p>


<p align="right"><a href="#Top">Top</a></p>


<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>