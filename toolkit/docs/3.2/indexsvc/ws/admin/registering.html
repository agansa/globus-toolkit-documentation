<head><title>GT3 Index Service: System Administrator's Guide</title>
<link href="../../../../../../../CSS/style.css" rel="stylesheet" type="text/css">
<style type="text/css">
<!--
.style1 {color: #FF00FF}
-->
</style>
</head>
<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>

<p class="small"><a href="http://www.globus.org">Globus</a> &gt;
<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt;
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/">3.2</a> &gt; 
<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/3.2/mds/">GT3 Index Service</a> &gt; 
System 
Administrator's Guide &lt;</p>
<h1>GT3 Index Service : System Administrator's Guide</h1>
<p class="small"><a href="index.html">Overview</a><br>
  &gt;Registering a resource service to an index service<br>
</p>
<h2>Registering a resource service to an index service</h2>


<p>Any GT3.2 service can be registered to a GT3.2 index service using the 
core RegistryPublishProvider. The RegistryPublishProvider should be 
configured in the WSDD of each 
<b>resource service</b> (for example the MMJFS) by the administrators 
of those services.</p>

<p><b>Note: </b>The administrator of the index service does <b>not</b> 
need to take action in order for a new resource service to register.</p>

<p>Before you begin, you'll need:</p>

<ul>
  <li>A working resource service (for example, MMJFS). You will need 
            permissions to edit the configuration of the service 
      (server-config.wsdd, etc). </li>

  <li>An index service. You will not need permission to edit the 
            configuration; however you will need to know the GSH of the 
      Index service.</li>
</ul>

<ol>
  <li>Make an XML configuration file for the registration in (for example) 
  <code>$GLOBUS_LOCATION/etc/registration_config.xml</code>.
  An example is included below.  Edit the fields as appropriate. Most 
  importantly, edit the <code>registry</code> parameter to refer to 
  the index service you want to register with. </li>

  <li>Edit the resource service's deployment descriptor in server-config.wsdd:
  <ul>

    <li>Add the RegistryPublishProvider operation provider:</li>
    <ul>
      <li>Load server-config.wsdd into a text editor</li>

      <li>Find the <code>&lt;service&gt;</code> definition for the 
          resource service </li>

      <li>Find the operationProviders parameter for that service</li>

      <li>Add the following string to the end of the 
          <code>operationProviders</code> parameter. Note that this is a 
          space-separated (<b>not</b> comma-separated) field:<br />
      <code>org.globus.ogsa.impl.core.registry.RegistryPublishProvider
      </li>
    </ul>

    <li>Add a new parameter to the resource service's 
        deployment descriptor:<br />

<code>&lt;parameter name="registrationConfig" value="etc/registration_config.xml" /&gt;</code>

    </li>

  </ul>

</ol>

<h2>Example Registration Configuration File</h2>

<pre>

&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;serviceConfiguration 
xmlns:ogsi="http://www.gridforum.org/namespaces/2003/03/OGSI"
xmlns:aggr="http://www.globus.org/namespaces/2003/09/data_aggregator" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt; 

&lt;registrations&gt;
  &lt;registration
  registry="<a href="http://examplehost.isi.edu:8080/ogsa/services/base/index/IndexService">http://examplehost.isi.edu:8080/ogsa/services/base/index/IndexService</a>"
  keepalive="true"
  lifetime="1200"
  remove="true"&gt;
  &lt;aggr:DataAggregation&gt; 
    &lt;ogsi:params&gt;
     &lt;aggr:AggregationSubscription&gt;
      &lt;ogsi:serviceDataNames&gt;
      &lt;ogsi:name xmlns:ce="http://glue.base.ogsa.globus.org/ce/1.1"&gt;ce:Host&lt;/ogsi:name&gt;
      &lt;/ogsi:serviceDataNames&gt;
      &lt;aggr:lifetime&gt;60000&lt;/aggr:lifetime&gt;
     &lt;/aggr:AggregationSubscription&gt;
    &lt;/ogsi:params&gt;
   &lt;/aggr:DataAggregation&gt;
   &lt;/registration&gt;
 &lt;/registrations&gt;
&lt;/serviceConfiguration&gt;

 </pre>






<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>
