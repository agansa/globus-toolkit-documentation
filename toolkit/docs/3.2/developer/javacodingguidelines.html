<?php

$title = "Globus Toolkit 3.2: Developer's Guide";

include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 
?><p class="small"><a href="http://www.globus.org">Globus</a> &gt;

<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;

<a href="http://www-unix.globus.org/toolkit/docs/">Documentation</a> &gt; <a href="../../index.html">3.2</a> &gt; Developer's
Guide
&lt; </p>

<h1>Globus Toolkit 3.2: Developer's Guide </h1>
<p class="small">&gt;Overview<br>
    <a href="apis.html">API</a><br>
    <a href="codingguidelines.html">Coding Guidelines</a> &gt; Java &lt; <br>
    <a href="globus-async.html">Asynchronous Event Handling</a>    <br>
  Best Practices (coming soon)<br>
  Porting Guide (coming soon)<br>
  <a href="samples.html">Samples</a> <br>
  <a href="thirdpartysupport.html">Third Party Support</a> </p>
<h2>Java Coding Guidelines</h2>
<p>In an attempt to increase code readability and hopefully productivity, the
  Globus Alliance requests that all programmers follow the standard defined below
for programming in Java.</p>
<ul>
  <li><a href="#basecoding">Base coding conventions</a></li>
  <li><a href="#apis-classes">APIs/Classes</a></li>
  <li>Statements
    <ul>
      <li><a href="#imports">Import statements</a></li>
      <li><a href="#variables">Variables</a></li>
      <li><a href="#instancevariables">Instance Variables</a></li>
    </ul>
  </li>
  <li>Layout
    <ul>
      <li><a href="#indentation">Indentation</a></li>
      <li><a href="#brackets">Brackets</a></li>
      <li><a href="#oneliners">One-liners</a></li>
    </ul>
  </li>
  <li>Input
    <ul>
      <li><a href="#configfiles">Configuration files</a> </li>
      <li><a href="#commandlineinterfaces">Command line interfaces</a> </li>
    </ul>
  </li>
  <li>Output
    <ul>
      <li><a href="#internationalwhat">Internationalization: What</a></li>
      <li><a href="#internationalhow">Internationalization: How</a> </li>
      <li><a href="#datesandnumbers">Dates and numbers</a> </li>
    </ul>
  </li>
  <li><a href="#logging">Logging</a></li>
  <li><a href="#testing">Testing</a></li>
  <li><a href="#libraryreuse">Library Reuse</a></li>
  <li><a href="#exceptions">Exceptions</a></li>
</ul>
<h3><strong><a name="basecoding"></a>Base coding conventions</strong></h3>
<p>Use the Sun Coding Conventions for the Java Programming Language:</p>
<P><A 
href="http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html" target="_blank">http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html</A> </P>
<h3><a name="apis-classes"></a>APIs/Classes</h3>
<p>Internal APIs/classes should contain an &quot;internal&quot; component in
  their class path.</p>
<h3>Statements</h3>
<blockquote>
  <h4><strong><a name="imports"></a>Import Statements</strong></h4>
  <p>All imports must be single class and explicit. </p>
  <p>In other words,</p>
  <pre class="command">import &lt;package&gt;.* </pre>
  <p>is <strong>not</strong> allowed.</p>
  <h4><strong><a name="variables"></a>Variables</strong></h4>
  <p><strong>No</strong> acronyms or abbreviations should be used. </p>
  <p>For example,</p>
  <pre class="command"> a = b + mVarLen </pre>
  <p>should be avoided. </p>
  <p>Use this instead:</p>
  <pre class="command">totalLength = partLength + newLength</pre>
  <h4><a name="instancevariables"></a>Instance Variables</h4>
  <p>Use <code>this.</code> as the prefix when
    referencing instance variables. </p>
  <p>For example,</p>
  <pre class="command">public MyClass (ServicePropertiesInterface properties) {
 &nbsp;&nbsp;&nbsp; this.properties = properties;
   }

public int foo () {
&nbsp;&nbsp;&nbsp; int localInt = 3;
&nbsp;&nbsp;&nbsp; return this.instanceInt + localInt;
  }</pre>
  <p>Instance variables should <strong>never</strong> be declared public. If
    instance variables need to be accessed from outside of the class then
  use getters/setters.</p>
  <p>We leave it to the implementers'
    discretion to choose between protected and private as appropriate.</p>
</blockquote>
<h3>Layout</h3>
<blockquote>
  <h4><strong><a name="indentation"></a>Indentation</strong></h4>
  <p>All indentation levels should be four (4) spaces. </p>
  <p><strong>No</strong> editor tabs are allowed unless they are converted to four spaces before
    saving the file.</p>

<h4><a name="brackets"></a>Brackets </h4>
<p>Two models are allowed.</p>
<p><strong>Important:</strong> They must <strong>never</strong> be mixed within
  the same source file  and should <strong>not</strong> be mixed within the same
  package:</p>
<ol>
  <li>Curly brackets <span class="code">{}</span> are put on separate lines.
    E.g. </li>

  <pre class="command">for (index = 0; index &lt; length; index++)
   {
 &nbsp;&nbsp;&nbsp; &lt;code&gt;
 }</pre>

  <li>As defined in the Java Coding guidelines. E.g.</li>

  <pre class="command">for (index = 0; index &lt; length; index++) {
 &nbsp;&nbsp;&nbsp; &lt;code&gt;
 }</pre>
</ol>
<h4><a name="oneliners"></a>One-Liners</h4>
<p>Even single line statements should be inside brackets. E.g.</p>
<pre class="command">if (isEmpty) {
 &nbsp;&nbsp;&nbsp; return;
   }</pre>
</blockquote>
<h3>Input</h3>
<blockquote>
  <h4><a name="configfiles"></a>Configuration files </h4>
  <p> Information in configuration files should be dealt with the i18n way
  (e.g. path names or subject DNs containing multi-byte
  characters). Using XML based config files makes this easy.</p>
  <h4><a name="commandlineinterfaces"></a>Command line interfaces </h4>
  <p>Client command line interfaces should be <a href="#internationalhow">internationalized</a>.</p>
</blockquote>
<h3>Output</h3>
<blockquote>
  <h4><strong><a name="internationalwhat"></a>Internationalization: What</strong></h4>
  <p>The rule of thumb is: <strong>All messages exposed to clients
    must be translatable</strong>. The following table describes in detail what
    must be translatable and what does not need to be translatable:</p>
<table width="575" border="1" cellpadding="5">
  <tr>
    <th width="406">Message</th>
    <th width="137"><div align="center">Translatable</div></th>
  </tr>
  <tr>
    <td><b>Errors</b> (All error message strings exposed to clients)</td>
    <td><div align="center">YES</div></td>
  </tr>
  <tr>
    <td><b>Logging</b> (All log messages with filter ERROR or WARNING)</td>
    <td><div align="center">YES</div></td>
  </tr>
  <tr>
    <td><b>Logging</b> (All other log messages such as TRACE and DEBUG)</td>
    <td><div align="center">NO</div></td>
  </tr>
  <tr>
    <td><b>Samples/Tests</b> (Messages in samples and tests)</td>
    <td><div align="center">NO</div></td>
  </tr>
  <tr>
    <td><b>Experimental/Prototype code</b></td>
    <td><div align="center">NO</div></td>
  </tr>
</table>

  <h4><strong><a name="internationalhow"></a>Internationalization: How</strong></h4>
  <p>Use the following to manage internationalization:</p>
  <ul>
    <li><a 
    href="http://www-unix.mcs.anl.gov/%7Egawor/jglobus-nightly/doc/org/globus/util/I18n.html">I18n</a> class
          from the Java CoG Kit<br>
    </li>
    <li> <a 
href="http://java.sun.com/products/jilkit/">Java I18n/L10n Toolkit</a> to verify
            whether code is international<br>
    </li>
    <li>ICU4J (<a href="http://oss.software.ibm.com/icu4j/">http://oss.software.ibm.com/icu4j/</a>)
      where standard Java APIs are insufficient (e.g. Collator)<br>
    </li>
    <li>  Collator API (ICU) for string
            comparison</li>
  </ul>
  <p> Never construct sentences from parts of sentences or words from word
  fragments. </p>
  <p> Sorting, searching and merging of string structures (arrays, lists
  etc) must be i18n-enabled. </p>
  <h4><a name="datesandnumbers"></a>Dates and numbers </h4>
  <p>Dates and number formats must be internalized </p>
</blockquote>
<h3><strong><a name="logging"></a>Logging</strong></h3>
<p>The Jakarta Commons API should be used exclusively.</p>
<p><code>Log4j.properties</code> should be used for configuring logs. </p>
<p><code>System.out/err.println</code> is <strong>not</strong> allowed.</p>
<h3><strong><a name="testing"></a>Testing</strong></h3>
<p>Each component/class should have a JUnit test.</p>
<p>The tests should be put in the <code>test/</code> directory under each package
  directory.</p>
<h3><strong><a name="libraryreuse"></a>Library Reuse</strong></h3>
<p>Treat all code as a library, and as a reusable component. </p>
<p>Calls to <code>System.exit()</code> are <strong>not</strong> allowed (except the main method.)</p>
<h3><strong><a name="exceptions"></a>Exceptions</strong></h3>
<p>For local exceptions, inherit from <code>org.globus.ogsa.GridServiceException</code>. </p>
<p>If the exceptions should be exposed to remote clients, define
  it in WSDL and extend the GridServiceFault defined in <code>schema/core/faults/grid_service_fault.wsdl</code>. </p>
<p class=MsoNormal>Even though your WSDL operations do not throw any interface-specific
  exception, declare them to throw <code>GridServiceFault</code>.</p>
<p>&nbsp;</p>
<BR>
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>
