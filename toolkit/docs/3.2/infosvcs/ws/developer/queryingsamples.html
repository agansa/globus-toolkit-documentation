<?php

$title = "WS Information Services: Developer's Guide";

include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 
?>

<h1>WS Information Services : Developer's Guide</h1>
<p class="small"> <a href="index.html">Overview</a><br>
  API: <a href="http://www-unix.globus.org/api/javadoc-3.2/org/globus/ogsa/impl/base/aggregator/package-summary.html">Aggregator</a> | <a href="http://www-unix.globus.org/api/javadoc-3.2/org/globus/ogsa/impl/base/providers/servicedata/package-summary.html">Service
  Data Providers</a> <br>
  <a href="servicedataproviders.html">WS Service Data Providers</a><br>
  <a href="servicedataproviders.html">Web Service Data Browser</a><br>
  <a href="xpath.html">Querying Service Data (Xpath)</a><br>
  <a href="querying.html">Querying Service Data (ogsi-find-service-data)</a><br>
  &gt;Querying Examples<br>
  <a href="http://www-fp.globus.org/mds/glueschemalink.html">GLUE schema</a><br>
  <a href="portingguide.html">Migrating from Pre-WS to WS: Porting Guide</a></p>
<h1>Querying Examples </h1>
<p>The following sections present typical examples of using the <code>ogsi-find-service-data</code> command:</p>
<ul>
  <li><a href="#example1">Example 1 - Querying a Grid service for all SDEs</a></li>
  <li><a href="#example2">Example 2 &ndash; Querying a Grid service for multiple
      SDEs</a></li>
  <li><a href="#example3">Example 3 &ndash; Querying a Grid service for all Service
    Data Names</a></li>
  <li><a href="#example4">Example 4 &ndash; Querying a Grid service for all active
        services</a><br>
  </li>
</ul>
<h2><a name="example1">Example 1 – Querying a Grid service for all SDEs</a></h2>
<p>This example shows how to query a Grid service for all available SDEs: </p>
<p class="command">ogsi-find-service-data -service http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService
  -sde gsdl:entry -output registry </p>
<p>This command queries the Container Registry Service for
  all entries registered to it, and that the output be displayed in a human-friendly
  format (<code>-output registry</code>). </p>
<p>The command output appears as follows: </p>
<pre class="command">http://128.9.72.46:9103/ogsa/services/core/admin/AdminService 
   Comment: core/admin/AdminService
   
http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   Comment: Container Registry Service 
   
http://128.9.72.46:9103/ogsa/services/core/jmsadapter/JMSAdapterFactoryService 
   Comment: core/jmsadapter/JMSAdapterFactoryService 
   
http://128.9.72.46:9103/ogsa/services/core/proxy/ProxyFactoryService 
   Comment: core/proxy/ProxyFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/ 
   NotificationSubscriptionFactoryService 
   Comment: core/notification/NotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/ 
   SecureNotificationSubscriptionFactoryService 
   Comment: core/notification/SecureNotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/core/notification/httpg/ 
   NotificationSubscriptionFactoryService 
   Comment: core/notification/httpg/NotificationSubscriptionFactoryService 
   
http://128.9.72.46:9103/ogsa/services/ogsi/ 
   NotificationSubscriptionFactoryService 
   Comment: ogsi/NotificationSubscriptionFactoryService
   
http://128.9.72.46:9103/ogsa/services/ogsi/HandleResolverService 
   Comment: ogsi/HandleResolverService 
</pre>
<h2><a name="example2">Example 2 – Querying a Grid service for multiple SDEs</a></h2>
<p>This example shows how to query a Grid service for multiple SDEs: </p>
<pre class="command">ogsi-find-service-data -service 
   http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde gsdl:interface -sde gsdl:gridServiceHandle </pre>
<p>This command queries the Container Registry Service for
  two SDE&nbsp; names:</p>
<ul>
  <li><code> gsdl:interface</code></li>
  <li><code> gsdl:gridServiceHandle</code></li>
</ul>
<p> Since
  no <code>–output</code> option is specified, the default <code>–output raw</code> is assumed. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;ns1:result xsi:type="ns1:ExtensibilityType" xmlns:ns1="http://www.gridforum.org/namespaces/2003/03/OGSI"&gt; 
 &nbsp;&nbsp;&nbsp; &lt;ns2:serviceDataValues xmlns:ns2="http://www.gridforum.org/namespaces/2003/03/serviceData"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface xsi:type="xsd:QName" xmlns:ns3="http://ogsi.gridforum.org"&gt;ns3:NotificationServiceGroup&lt;/ 
   ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface xsi:type="xsd:QName"&gt;ns1:NotificationSource&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface 
   xsi:type="xsd:QName"&gt;ns1:ServiceGroup&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:interface 
   xsi:type="xsd:QName"&gt;ns1:GridService&lt;/ns1:interface&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:gridServiceHandle xsi:type="ns1:HandleType"&gt;http://128.9.72.46:9103/ogsa/services/core/ 
   registry/ContainerRegistryService&lt;/ns1:gridServiceHandle&gt; 
 &nbsp;&nbsp;&nbsp; &lt;/ns2:serviceDataValues&gt; 
 &nbsp;&nbsp; &lt;/ns1:result&gt; 
</pre>
<h2><a name="example3">Example 3 – Querying a Grid service for all Service Data
Names</a></h2>
<p>This example shows how to query a Grid service for all Service Data Names
  that it publishes: </p>
<pre class="command">ogsi-find-service-data -service http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde gsdl:serviceDataName </pre>
<p>This command queries the Container Registry Service for
  all SDE names that it publishes (via <code>–sde gsdl:serviceDataName</code> ).&nbsp; Since
  no <code>–output</code> option is specified, the default of <code>–output raw</code> is
  assumed. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;ns1:result xsi:type="ns1:ExtensibilityType" xmlns:ns1="http://www.gridforum.org/namespaces/2003/03/OGSI"&gt; 
 &nbsp;&nbsp;&nbsp; &lt;ns2:serviceDataValues xmlns:ns2="http://www.gridforum.org/namespaces/2003/03/serviceData"&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:entry&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:gridServiceHandle&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:serviceDataName&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:interface&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:setServiceDataExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:terminationTime&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:membershipContentRule&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:subscribeExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:gridServiceReference&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:notifiableServiceDataName&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp;&nbsp; &lt;ns1:serviceDataName xsi:type="xsd:QName"&gt;ns1:ogsi-find-service-dataExtensibility&lt;/ns1:serviceDataName&gt; 
 &nbsp;&nbsp;&nbsp; &lt;/ns2:serviceDataValues&gt; 
 &nbsp;&nbsp; &lt;/ns1:result&gt; 
</pre>
<h2><a name="example4">Example 4 – Querying a Grid service for all active services</a></h2>
<p>This example shows how to query the container registry for all active services
  registered to it: </p>
<pre class="command">ogsi-find-service-data -service 
   http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
   -sde entry -querytype xpath -xpath 
   '/gsdl:entry[gsdl:content/prop:propertiesDetail/prop:state="ACTIVE"]' -ns 
   prop=http://ogsa.globus.org/types/properties -output pretty </pre>
<p>This command uses an XPath expression to query the Container Registry
  Service for all services registered to it. The XPath expression
  uses both the default namespace, <code>gsdl</code> , as well as the <code>–ns</code> option
  to define the <code>prop</code> abbreviation for the properties namespace.&nbsp; The
  XPath expression filters the results so that only active services are returned.&nbsp; </p>
<p>The <code>–output
    pretty</code> option specifies that the service data be returned in an easy-to-read
    outline form. </p>
<p>The command output appears as follows: </p>
<pre class="command">&lt;result type="ns1:ExtensibilityType"&gt; 
	&lt;XPathQueryResults resultCount="1"&gt; 
		&lt;entry type="ns1:EntryType"&gt; 
			&lt;serviceGroupEntryLocator nil="true" /&gt; 
		&lt;memberServiceLocator type="ns1:LocatorType"&gt; 
			&lt;handle type="ns1:HandleType"&gt; 
http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
			&lt;/handle&gt; 
		&lt;/memberServiceLocator&gt; 
			&lt;content type="ns1:EntryContentType"&gt; 
			&lt;propertiesDetail type="ns2:PropertiesDetailType"&gt; 
			&lt;name&gt; 
				Container Registry Service 
			&lt;/name&gt; 
			&lt;portType&gt; 
				ns3:NotificationServiceGroupService 
			&lt;/portType&gt; 
				&lt;state type="ns2:StateType"&gt; 
					ACTIVE 
				&lt;/state&gt; 
			&lt;propertiesLifecycle type="ns2:LifeCycleType"&gt; 
				TRANSIENT 
			&lt;/propertiesLifecycle&gt; 
			&lt;deploymentLifecycle type="ns2:LifeCycleType"&gt; 
				PERSISTENT 
			&lt;/deploymentLifecycle&gt; 
			&lt;schemaPath&gt; 
				schema/ogsi/ogsi_notification_service_group_service.wsdl 
			&lt;/schemaPath&gt; 
			&lt;activateOnStartup&gt; 
				false 
			&lt;/activateOnStartup&gt; 
			&lt;endpoint&gt; 
				http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
			&lt;/endpoint&gt; 
			&lt;handle&gt; 
				http://128.9.72.46:9103/ogsa/services/core/registry/ContainerRegistryService 
			&lt;/handle&gt; 
			&lt;/propertiesDetail&gt; 
			&lt;/content&gt; 
		&lt;/entry&gt; 
	&lt;/XPathQueryResults&gt; 
 &lt;/result&gt; </pre>
 
 
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>