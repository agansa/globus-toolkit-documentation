<?php include( "http://www-unix.globus.org/include/globus_header.inc" ); ?>
<link href="../../../../../../CSS/style.css" rel="stylesheet" type="text/css">

<style type="text/css">
<!--
.style1 {color: #FF00FF}
-->
</style>
<title>CAS: Key Concepts</title><p class="small"><a href="http://www.globus.org">Globus</a> &gt;

<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;

<a href="http://www-unix.globus.org/toolkit/documentation/web/docs/">Documentation</a> &gt; <a href="../../index.html">3.2</a> &gt;
<a href="../index.html">CAS</a> &gt; Key Concepts &lt;</p>

<h1>CAS: Key Concepts</h1>
<p class="small"><a href="index.html">Overview</a><br>
&gt;Example</p>
<h2>Example of CAS Administration </h2>
<p>Below is  a detailed example of how CAS works and how it can be used
  in a real life situation:</p>
<p> Alice, Bob and Carol are
  three members of a community who have set up a Community Authorization service.
  Alice&rsquo;s role is primarily to administer the CAS server. Bob is an analyst
  who needs read access to much of the community data. Carol is a scientist
  who needs to be able to both read and write community data. </p>
<p>In essence, Alice needs to: </p>
<ol>
  <li> Add the users Bob and Carol to the CAS server.</li>
  <li>Add
          an FTP server with some data available to the community</li>
  <li>Add permissions
            for the users using the CASGUI administration client. </li>
</ol>
<p><strong>Note:</strong> All these tasks
        can also be done with the command line client in a similar manner.  </p>
<p>These examples assume the CAS database is already set up and running. Alice
    is in the database as the initial privileged user and she has her environment
        set up to talk to the CAS server. For more information on this please
  see the CAS portion of the <a href="../../installation/install_config_cas.html">Installation
    Guide</a>.</p>
<p>The topics on this page are:</p>
<ul>
  <li><a href="#addingusers">Adding users to the database</a></li>
  <li><a href="#creatingusergroups">Creating user groups</a></li>
  <li><a href="#addinguserstogroups">Adding users to user groups</a></li>
  <li><a href="#addingftp">Add a new FTP server to the database</a></li>
  <li><a href="#addingdirectory">Adding a directory on the server</a></li>
  <li><a href="#creatingobjectgroup">Creating an object group</a></li>
  <li><a href="#addingobjects">Adding objects to an object group</a></li>
  <li><a href="#grantingpermissions">Granting permissions</a></li>
</ul>
<h2><a name="addingusers">Adding
users to the database</a></h2>
<p>First off, Alice needs to add Bob and Carol to the CAS
  database. She does this by selecting &ldquo;Enroll User&rdquo; under the &ldquo;Add&rdquo; menu
  on the casgui. This causes a popup box to appear. In the top dialog box on
  the popup she first selects the name of the CA that signed Bob&rsquo;s user&rsquo;s
  certificate (if the CA hasn&rsquo;t already been enrolled, that will need to
  be done first by using the &ldquo;Enroll CA&rdquo; option under the &ldquo;Add&rdquo; menu).
  In the &ldquo;New user name:&rdquo; box she enters a nickname of her choosing
  for the new user, in this case she enters &ldquo;Bob&rdquo;. Then in the &ldquo;User&rsquo;s
  subject name:&rdquo; box she enters the subject name from Bob&rsquo;s certificate,
  e.g. &ldquo;/O=Our Community/CN=Bob R. Roberts&rdquo;. She then clicks on the &ldquo;Enroll
  User&rdquo; button to complete the enrollment. The middle upper window on the
  casgui now shows &ldquo;Detail for user Bob&rdquo; indicating Bob has been
  successfully enrolled. Adding Carol would be done similarly.</p>
<h2><a name="creatingusergroups">Creating user groups</a></h2>
<p>In community thinking Bob has the role of an &ldquo;analyst&rdquo;,
  Carol has the role of a &ldquo;scientist&rdquo;, and their rights are based
  on these roles. Alice decides that instead of assigning rights directly to
  Bob and Carol, she will create user groups, assign rights to these user groups
  and then assign Bob and Carol to these groups. This will allow Alice at a later
  date to easily assign new users to these groups, move a user from one group
  to another or even assign a user to more than one group. Alice will do this
  by creating the user groups analysts and scientists. She will then add Bob
  to the group analysts and Carol to the group scientists. To create the group
  analysts, Alice selects &ldquo;Create User Group&rdquo; from the &ldquo;Add&rdquo; menu.
  In the popup box she then types &ldquo;analysts&rdquo; and pushes the &ldquo;Create
  User Group&rdquo; button to create the group. A &ldquo;Detail for user_group
  analysts&rdquo; message will appear in the middle upper casgui window indicating
  success. Now Alice needs to give herself permission to add users to this new
  group. She first selects the appropriate group by selecting &ldquo;user_group&rdquo; under
  the &ldquo;List&rdquo; menu. Then in the list of listed groups in the left
  upper panel in the casgui she selects the &ldquo;analysts&rdquo; group. Then
  over to the right of the gui she clicks on the &ldquo;More Buttons&hellip;&rdquo; button
  and then on the &ldquo;Grant permissions on this user_group&rdquo; button.
  In the resulting popup box Alice selects &ldquo;add_group_entry&rdquo; in the &ldquo;cas
  action&rdquo; field and her own name in the &ldquo;Enter or select a user&rdquo; field.
  She then clicks on &ldquo;Grant Access&rdquo;. A &ldquo;Grant Results&rdquo; message
  will appear in the middle upper panel of the casgui indicating success. (Alternatively,
  Alice could select &quot;add_group_entry&quot; in the &quot;cas action&quot; field,
  select a group to which she herself belongs in the &quot;Enter or select a
  group&quot; field, and then click on the &quot;Grant Access&quot; button).
The scientists group is created similarly. </p>
<h2><a name="addinguserstogroups"> Adding users to user groups</a></h2>
<p>Now Alice wants to add Bob and Carol to their respective groups. She first
  selects the appropriate group by selecting &ldquo;user_group&rdquo; under the &ldquo;List&rdquo; menu.
  Then in the list of listed groups in the left upper panel in the casgui she
  selects the &ldquo;analysts&rdquo; group. Then over to the right of the gui
  she clicks on the &ldquo;Add a user to this group&rdquo; button. In the resulting
  pop-up box she selects Bob&rsquo;s name on the pull down menu and then clicks
  on the &ldquo;Add User to Group&rdquo; button. A &ldquo;Detail for user_group
  analysts&rdquo; message will appear in the casgui upper middle panel indicating
success. Adding Carol to the scientists group is done similarly. </p>
<h2><a name="addingftp"> Adding
a new FTP server to the database</a></h2>
<p>Alice now has the community users in the database
  and organized. She now wants to add some resources. The community currently
  has a single ftp server, foo.bar.edu, available to it, so she is going to add
  this to the CAS database. First, she needs to make sure the server's identity
  is enrolled in the CAS server. This step is a little counter intuitive and
  will probably change in the future. She does this by selecting &quot;Enroll
  User&quot; from the &quot;Add&quot; menu. On the resulting popup box she selects
  the 
  CA that signed the host certificate for foo.bar.edu (if the CA has not already
  been enrolled she would need to do that first by using &ldquo;Enroll CA&rdquo; under
  the &ldquo;Add&rdquo; menu&rdquo;). In the &ldquo;New user name:&rdquo; field,
  she enters a nickname for the server she chooses herself, in this case she
  enters &ldquo;foo&rdquo;. In the &ldquo;User&rsquo;s subject name:&rdquo; field
  she enters the subject name for the host&rsquo;s certificate, e.g. &ldquo;/O=Community/CN=host/foo.bar.edu&rdquo;.
  A &ldquo;Detail for user foo&rdquo; message will appear in the upper middle
  casgui panel to indicate success. Next, Alice enrolls the server by selecting &quot;Enroll
  Server&quot; from the &quot;Add&quot; menu. In the &ldquo;New server name&rdquo; field
  she enters &ldquo;ftp://foo.bar.edu/*&rdquo;. In the &ldquo;Enter or select
  an identity&rdquo; field she selects &ldquo;foo&rdquo;. For &ldquo;Comparison
  type&rdquo; she selects &ldquo;wildcard&rdquo;. She then clicks on &ldquo;Enroll
  Server&rdquo; to complete the enrollment. A &ldquo;Detail for server ftp://foo.bar.edu/*&rdquo; message
  appear in the upper middle casgui panel to indicate success. Finally, Alice
  needs to give herself permission to create objects (which represent directories)
  on the server. She first selects the server by selecting &ldquo;Server&rdquo;, &ldquo;Wildcard&rdquo; under
  the &ldquo;List menu&rdquo; and selecting &ldquo;ftp://foo.bar.edu&rdquo; from
  the resulting list on the left. She then clicks on &ldquo;Grant permissions
  on this server&rdquo;. On the resulting popup box she selects &ldquo;enroll_object&rdquo; in
  the &ldquo;cas action&rdquo; field, her own name in the &ldquo;Enter or select
  a user&rdquo; field, and then clicks on the &ldquo;Grant Access&rdquo; button.
  A &ldquo;Grant Results&rdquo; message in the middle upper casgui panel indicates
success. </p>
<h2><a name="addingdirectory"> Adding a directory on the server</a></h2>
<p> On the server foo.bar.edu
  the community has a directory called &ldquo;/data&rdquo;. Alice wants to enter
  this into the database so she can grant access on this directory. Alice starts
  by add a object for the root directory on the server. This serves to allow
  flexibility in setting policy later and must be done first since object need
  to be entered in order from most encompassing to least encompassing. She selects &quot;Enroll
  Object&quot; from the &quot;Add&quot; menu. On the resulting popup box she
  enters &ldquo;ftp://foo.bar.edu/*&rdquo; (yes, the same as the server name)
  in the &ldquo;Object name&rdquo; field, selects &ldquo;wildcard&rdquo; in the &ldquo;Comparison
  type&rdquo; field, and then clicks on the &ldquo;Enroll Object&rdquo; button.
  A &ldquo;Detail for object ftp://foo.bar.edu/*&rdquo; message will appear in
  the upper middle casgui panel to indicate success. Now Alice enters the &ldquo;/data&rdquo; directory.
  This is done exactly as entering the root directory above, except she enters &ldquo;ftp://foo.bar.edu/data/*&rdquo; for
the &ldquo;Object name&rdquo;. </p>
<h2><a name="creatingobjectgroup"> Creating an object group</a></h2>
<p> Alice suspects
  the community will end up have more directories containing data on other servers
  that will have identical polices as the /data directory on foo.bar.edu. So
  she is going to create an object group called &ldquo;data&rdquo; and assign
  foo.bar.edu/data to this group. This will allow her to grant rights on this
  group and easily add other directories to this group later. She create the
  object group &ldquo;data&rdquo; by selecting &quot;Create Object Group&quot; under
  the &quot;Add&quot; menu. She enters &ldquo;data&rdquo; for the &ldquo;New
  object group name&rdquo; and clicks on &ldquo;Create Object Group&rdquo;. A &ldquo;Detail
  for object_group data&rdquo; message appearing in the middle upper casgui panel
  indicates success.<br>
  CAS User and Administrative Guide v0.2 of 8/28/2002 Page 14 of 16<br>
  Now she gives herself permission to add objects to the group &ldquo;data&rdquo;.
  She selects the group by selecting &ldquo;object_group&rdquo; under the &ldquo;List&rdquo; menu
  and then clicking on &ldquo;data&rdquo; in the left panel. Then she pushes
  the &quot;More buttons ...&quot; button, and then the &ldquo;Grant object_group
  permissions&rdquo; button on the right. In the resulting popup box she selects &ldquo;add_group_entry&rdquo; under &ldquo;cas
  action&rdquo;, her own name under &ldquo;Enter or select a user&rdquo; (or
  a group to which she belongs under &quot;... or a user group&quot;), and then
  clicks on &ldquo;Grant Access&rdquo;. A &ldquo;Grant Results&rdquo; message
in the upper middle casgui panel indicates success. </p>
<h2><a name="addingobjects"> Adding objects
to an object group</a></h2>
<p>Now Alice adds foo.bar.edu/data to the &ldquo;data&rdquo; group.
  She selects the group by selecting &ldquo;object_group&rdquo; under the &ldquo;List&rdquo; menu
  and then clicking on &ldquo;data&rdquo; in the left panel. She then clicks
  on the &ldquo;Add an object to this group&rdquo; button to the right. In the &ldquo;or
  an object (wildcard match)&rdquo; she selects the &ldquo;ftp://foo.bar.edu/data/*&rdquo; object
  and then clicks on &ldquo;Add Object to Group&rdquo; button. An &ldquo;Add
  Object Group Entry Results&rdquo; message in the upper middle casgui panel
indicates success. </p>
<h2><a name="grantingpermissions">Granting permissions</a></h2>
<p>Alice now has resources in
  the object group &ldquo;data&rdquo; and users in the user groups &ldquo;analysts&rdquo; and &ldquo;scientists&rdquo;.
  She now wants to grant permissions on &ldquo;data&rdquo; group to the analysts
  and scientists, namely read permissions to the analysts and read and write
  permissions to the scientists. Alice starts by giving read permisson to the
  analysts group. She selects the &ldquo;data&rdquo; object group by selecting &ldquo;object_group&rdquo; under
  the &ldquo;List&rdquo; menu and then clicking on &ldquo;data&rdquo; in the
  left panel. Then she clicks on &ldquo;Grant permissions on this object group&rdquo; button
  on the right. In the resulting popup box she selects &ldquo;read&rdquo; under &ldquo;file
  action&rdquo;, &ldquo;analysts&rdquo; under &ldquo;user group&rdquo; and then
  clicks on &ldquo;Grant Access&rdquo;. A &ldquo;Grant Results&rdquo; message
  in the middle upper casgui panel indicates success. Alice then would do a similar
  procedure to grant &ldquo;read&rdquo; and &ldquo;write&rdquo; permission to
the scientists group.</p>
<p class="style1">(what is the end result of all this?) </p>
<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>