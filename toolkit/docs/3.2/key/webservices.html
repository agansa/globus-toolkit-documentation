<?php

$title = "Fundamental Concepts of the Globus Toolkit 3.2";

include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 
?>

<p class="small"><a href="http://www.globus.org">Globus</a> &gt;
<a href="http://www-unix.globus.org/toolkit/">Toolkit</a> &gt;
<a href="http://www-unix.globus.org/toolkit/docs/">Documentation</a> &gt; <a href="../index.html">3.2</a> &gt;
Key Concepts &lt;</p>
<h1>Fundamental Concepts of the Globus Toolkit 3.2</h1>
<p class="small"><a href="index.html">Overview</a><br>
  <a href="ogsaogsigt3.html">OGSA, OGSI, and GT3.2</a><br>
  &gt;Web Services: architecture and languages <br>
  <a href="gridservices.html">Grid Services</a><br>
  <a href="gt3architecture.html">GT3.2 Architecture</a><br>
  <a href="security_concepts.html">Security</a><br>
  <a href="javaxml.html">Java &amp; XML</a></p>
<h2> Web Services: 
architecture and languages</h2>
<p>Web Services are the basis for Grid Services, which are the cornerstones of OGSA and OGSI (and, therefore, of the Globus Toolkit 3). Understanding the 
Web 
Services architecture is fundamental to using GT3.2 and programming Grid Services.
</p>
<p>Lately, there has been a lot of buzz about &quot;Web Services&quot;, and many companies 
have begun to rely on them for their enterprise applications. So, what exactly 
are Web Services? To put it quite simply, they are <em>yet another</em> 
distributed computing technology (like CORBA, RMI, EJB, etc.) They allow us to 
create client/server applications. </p>
<p>For example, let's suppose you must develop an application for a chain of 
stores. These stores are all around the country, but your master catalog of 
products is only available in a database at your central offices, yet the software 
at the stores must be able to access that catalog. You could <em>publish</em> the 
catalog through a Web Service called <em>ShopService</em>. </p>
<blockquote>
	<strong>IMPORTANT:</strong> Don't mistake this with publishing something on a <em>website</em>. 
	Information on a website (like the one you're reading right now) is intended 
	for humans. Information which is available through a Web Service will <em>
	always</em> be accessed by software, <em>never</em> directly by a human 
	(despite the fact that there might be a human using that software). Even 
	though Web Services rely heavily on existing Web technologies (such as HTTP, 
	as you will see in a moment), they have no relation to web browsers and 
	HTML.&nbsp; 
</blockquote>
<p>The <em>clients</em> (the PCs at the store) would then contact the <em>Web 
Service</em> (in the <em>server</em>), and send a <em>service request</em> 
asking for the catalog. The server would return the catalog through a <em>
service response</em>. Of course, this is a very sketchy example of how a Web 
Service works. In a moment we'll see all the details. </p>
<div class="center">
	<div align="center"><img height="165" src="../../images/ws_example.gif" width="351" border="0"> 
    </div>
</div>
<p>So why would you use Web 
Services instead of RMI, CORBA, EJBs and countless other technologies? Web Services have certain advantages over other 
technologies: </p>
<div>
	<ul>
		<li>Web Services are platform-independent and language-independent, 
		since they use standard XML languages. This means that my client program 
		can be programmed in C++ and running under Windows, while the Web 
		Service is programmed in Java and running under Linux. 
		</li>
		<li>Most Web Services use HTTP for transmitting messages (such as the 
		service request and response). This is a major advantage if you want to 
		build an Internet-scale application, since most of the Internet's 
		proxies and firewalls won't mess with HTTP traffic (unlike CORBA, which 
		usually has trouble with firewalls.) </li>
	</ul>
</div>
<p>Web Services also have some disadvantages: </p>
<div>
	<ul>
		<li>Overhead. Transmitting all your data in XML is obviously not as 
		efficient as using a proprietary binary code. What you win in 
		portability, you lose in efficiency. Even so, this overhead is usually 
		acceptable for most applications, but you will probably never find a 
		critical real-time application that uses Web Services. 
		</li>
		<li>Lack of versatility. Currently, Web Services are not very versatile, 
		since they only allow for some very basic forms of service invocation. 
		CORBA, for example, offers programmers many supporting services 
		(such as persistency, notifications, lifecycle management, transactions, 
		etc.) We'll soon explain how Grid Services actually 
		make up for this lack of versatility. 
		</li>
	</ul>
</div>
<p>However, there is one important characteristic that distinguishes Web 
Services. While technologies such as CORBA and EJB are oriented toward <b> <em>
highly coupled</em> distributed </b>systems, where the client and the server are 
very dependent on each other, Web Services are oriented towards <b> <em>loosely 
coupled</em></b> systems, where the client might have no prior knowledge of the 
Web 
Service until it actually invokes it. Highly coupled systems are ideal for 
intranet applications, but perform poorly on an Internet scale. Web Services, 
however, are better suited to meet the demands of an Internet-wide application, 
such as grid-oriented applications. </p>
<h3>A Typical Web Service Invocation</h3>
<blockquote>
  <p>Let's take a look at all the steps 
    involved in a complete Web Service invocation. The acronyms (SOAP, WSDL, ...) 
    will be explained in further detail below. [explain that it's not really typical 
    - see below]</p>
</blockquote>
<div class="center">
	<blockquote>
	  <p align="center"><img height="304" alt="" src="../../images/ws_interaction.gif" width="500" border="0"> 
      </p>
  </blockquote>
</div>
<blockquote>
  <p>&nbsp;</p>
  <ol>
    <li>As you said before, a client may have no knowledge of what Web Service it 
	    is going to invoke. So, our first step will be to <em>find</em> a Web 
	    Service that meets our requirements. For example, you might be interested
	    in locating a public Web Service which can give me the temperature in US
	    cities. We'll do this by contacting a UDDI registry. </li>
    <li>The UDDI registry replies, telling us what servers can provide the 
	      service you require (e.g. the temperature in US cities.) </li>
    <li>You now know the location of a Web Service, but you have no idea of how
      to actually invoke it. You know it can provide the temperature of a US
	      city, buy what is the actual service invocation? The method you'd use
      to invoke might be called <kbd>Temperature getCityTemperature(int CityPostalCode)</kbd>,
      but it could also be called <kbd>int getUSCityTemp(string cityName, bool 
	      isFarenheit)</kbd>. You have to ask the Web Service to <em>describe</em> itself
	      (i.e. tell us <b>exactly how you should invoke it</b>) </li>
    <li>The Web Service replies in a language called WSDL. </li>
    <li>You finally know where the Web Service is located and how to invoke it.
      The invocation itself is done in a language called SOAP. Therefore, you
      will first send a <em style="font-style: normal; font-weight: 700">SOAP request</em> asking
      for the temperature of a certain city. </li>
    <li>The Web Service will kindly reply with a <em style="font-style: normal; font-weight: 700">SOAP response</em> which
      includes the temperature you asked for, or maybe an error message if our
      SOAP request was incorrect. </li>
  </ol>
</blockquote>
<h3>Web Services Addressing</h3>
<blockquote>
  <p>You have just seen a simple Web Service invocation. At one point, the UDDI 
    registry 'told' the client <em>where</em> the Web Service is located. But how 
    exactly are Web Services addressed? The answer is very simple: just like web 
    pages. You use plain and simple URIs (Uniform Resource Identifiers). If you're 
    more familiar with the term URL (Uniform Resource Locator), don't worry: URI and 
    URL are practically the same thing. </p>
  <p>For example, the UDDI registry might have replied with the following URI: </p>
  <pre class="shell">http://webservices.mysite.com/weather/us/WeatherService
</pre>
  <p>This could easily be the address of a web page. However, remember that Web 
    Services are always used by software (never directly by humans). If you typed a 
    Web Service URI into your web browser, you would probably get an error message 
    or some unintelligible code (some web servers <em>will</em> show you a nice 
    graphical interface to the Web Service, but that isn't very common.) When you 
    have a Web Service URI, you will usually need to give that URI to a program. In 
    fact, most client programs will receive the Grid Service 
    URI as a command-line argument. </p>
</blockquote>
<h3>Web Services Architecture</h3>
<blockquote>
  <p>Now that you've seen the different players in a Web Service invocation, let's 
    take a closer look at the Web Services Architecture: </p>
</blockquote>
<div class="center">
	<blockquote>
	  <p align="center"><img height="203" src="../../images/ws_arch.gif" width="151" border="0"> </p>
  </blockquote>
</div>
<div>
	<ul>
		<li><strong>Service Discovery:</strong> This part of the architecture 
		allows you to find Web Services which meet certain requirements. This 
		part is usually handled by UDDI (Universal Description, Discovery, and 
		Integration). GT3.2 currently doesn't include support for UDDI. 
		</li>
		<li><strong>Service Description</strong>: One of the most interesting 
		features of Web Services is that they are <em>self-describing.</em> This 
		means that, once you've located a Web Service, you can ask it to 
		'describe itself' and tell you what operations it supports and how to 
		invoke it. This is handled by the Web Services Description Language (WSDL). 
		</li>
		<li><strong>Service Invocation</strong>: Invoking a Web Service (and, in 
		general, any kind of distributed service such as a CORBA object or an 
		Enterprise Java Bean) involves passing messages between the client and 
		the server. SOAP (Simple Object Access Protocol) specifies how you should 
		format requests to the server, and how the server should format its response. In theory, 
		you could use other service invocation languages 
		(such as XML-RPC, or even some <em>ad hoc</em> XML language). However, 
		SOAP is by far the most popular choice for Web Services. 
		</li>
		<li><strong>Transport</strong>: Finally, all these messages must be 
		transmitted somehow between the server and the client. The protocol of 
		choice for this part of the architecture is HTTP (HyperText Transfer 
		Protocol), the same protocol used to access conventional web pages on 
		the Internet. Again, in theory you could be able to use other protocols, 
		but HTTP is currently the most used one. 
		</li>
	</ul>
</div>
<h3>What a Web Service Application Looks Like</h3>
<blockquote>
  <p>Despite having many protocols and 
    languages, Web Services developers usually never write a single 
    line of SOAP or WSDL. Once you've reached a point where your client application 
    needs to invoke a Web Service, you <em>delegate</em> that task to a piece of 
    software called a <em style="font-style: normal; font-weight: 700">client stub</em>. The good news is that there are 
    many tools that can generate client stubs automatically, usually 
    based on the WSDL description of the Web Service. </p>
  <p>Therefore, you shouldn't interpret the &quot;Typical Invocation&quot; diagram
    literally. A Web Services client doesn't usually do all those steps in a
    single invocation. A more correct sequence of events would be the following: </p>
</blockquote>
<div>
	<ol>
		<ol>
		  <li>You locate a Web Service that meets your requirements through UDDI. </li>
		  <li>You obtain that Web Service's WSDL description. </li>
		  <li>You generate the stubs <em>once</em>, and include them in your 
		    application. </li>
		  <li>The application uses the stubs each time it needs to invoke the Web 
		    Service. </li>
	  </ol>
	</ol>
</div>
<blockquote>
  <p>Programming the server side is just as easy. You don't have to write a complex 
    server program which dynamically interprets SOAP requests and generates SOAP 
    responses. You can simply implement all the functionality of our Web Service, and 
    then generate a <em style="font-style: normal; font-weight: 700">server stub</em> (the term <em>skeleton</em> is also used) 
    which will be in charge of interpreting requests and <em>fowarding</em> them to 
    the service implementation. When the service implementation obtains a result, it 
    will give it to the server stub, which will generate the appropriate SOAP 
    response. The server stub can also be generated from a WSDL description, or from 
    other interface definition languages (such as IDL). Furthermore, both the 
    service implementation and the server stubs are managed by a piece of software 
    called the <em style="font-style: normal; font-weight: 700">Web Service container</em>, which will make sure that incoming 
    HTTP requests intended for a Web Service are directed to the server stub. </p>
  <p>So, the steps involved in invoking a Web Service are described in the 
    following diagrams. </p>
</blockquote>
<div class="center">
	<div align="center"><img height="298" src="../../images/ws_app.gif" width="651" border="0"> </div>
</div>
<blockquote>
  <p>Let's suppose that you've already located the Web Service, and generated the 
    client stubs from the WSDL description. The server-side programmer 
    will have generated the server stubs. </p>
</blockquote>
<div>
	<ol>
		<ol>
		  <li>Whenever the client application needs to invoke the Web Service, it 
		  will actually call the client stub. The client stub will turn this 
		  'local invocation' into a proper SOAP request. This is often called the
		    <em>marshalling</em> process. </li>
		  <li>The SOAP request is sent over a network using the HTTP protocol. The
		     Web Services container receives the SOAP requests and hands it to the
		    server stub. The server stub will convert the SOAP request into 
		    something the service implementation can understand (this is usually
		    called <em>unmarshalling</em>) </li>
		  <li>The service implementation receives the request from the service 
		    stub, and carries out the work it has been asked to do. For example,
		    if you are invoking the <kbd>int add(int a, int b)</kbd> method, the service
		    implementation will perform an addition. </li>
		  <li>The result of the requested operation is handed to the server stub, 
		    which will turn it into a SOAP response. </li>
		  <li>The SOAP response is sent over a network using the HTTP protocol. 
		    The client stub receives the SOAP response and turns it into something
		    the client application can understand. </li>
		  <li>Finally the application receives the result of the Web Service 
		    invocation and uses it. </li>
	  </ol>
	</ol>
</div>
<blockquote>
  <p>Most of the Web Services Architecture 
    is specified and standardized by the <a href="http://www.w3c.org/">World Wide 
    Web Consortium</a>, the same organization responsible for XML, HTML, CSS, etc.
</p>
</blockquote>
<p class="blue"> <b>Next Page >> </b> <a href="gridservices.html">Grid Services </a></p>


<?php include("http://www-unix.globus.org/include/globus_footer.inc"); ?>
