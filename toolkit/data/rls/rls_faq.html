<?php



$title = "Globus Toolkit RLS FAQ";



include_once( "/mcs/www-unix.globus.org/include/globus_header.inc" ); 

?>







		  <h1 class="first"><?php echo $title; ?></h1>

<ul>

  <li><a href="#understandingRLS">Understanding RLS</a></li>

  <li><a href="#gettingStartedRLS">Getting started with RLS</a></li>

  <li> <a href="#gettingSupportRLS">Getting support for RLS</a></li>

  <li><a href="#generalUsage">General usage</a></li>

  <li><a href="#usingRLI">Using the RLI index</a>  </li>

</ul>

<h2><a name="understandingRLS"></a>Understanding RLS</h2>

<ul>

  <li><a href="#whatIsRLS">What is the RLS and what is it not?</a></li>

  <li><a href="#whatIsLRC">What is the Local Replica Catalog (LRC)?</a></li>

  <li><a href="#whatIsRLI">What is the Replica Location Index (RLI)?</a></li>

  <li><a href="#whatIsStorageElement">What is a storage element?</a></li>

  <li><a href="#whatIsLFN">What is a Logical File Name (LFN)?</a></li>

  <li><a href="#whatIsPFN">What is a Physical File Name (PFN)?</a></li>

  <li><a href="#wsrfRLS">Is there or will there be a WSRF RLS?</a></li>

  <li><a href="#interfaceRLS">What interfaces exists for the RLS?</a></li>

</ul>

<p><strong><a name="whatIsRLS"></a>What is the RLS?</strong></p>

<p>The replica location service (RLS) maintains and provides access to mapping

  information from logical names for data items to target names. These target

  names may represent physical locations of data items, or an entry in the RLS

  may map to another level of logical naming for the data item.</p>

<p>The RLS is not intended to provide data storage, data transfer or other replication

  services. Additional replication services (outside of the scope of the RLS)

  are required to physically replicate files, to provide consistency guarantees

  between entries relating to physical files, and to maintain metadata pertaining

  to logical or target names.</p>

<p>The RLS is a component of the Globus Toolkit and runs as a server on most

Linux and UNIX platforms.</p>

<p><strong><a name="whatIsLRC"></a>What is the Local Replica Catalog (LRC)?</strong></p>

<p>The LRC is a service of the RLS that maintains mappings between <a href="#whatIsLFN">logical

    file names (LFNs)</a> and <a href="#whatIsPFN">physical file names (PFNs)</a>, and sends updates to the <a href="#whatIsRLI">RLI</a> as

  required.</p>

<p><strong><a name="whatIsRLI"></a>What is the Replica Location Index (RLI)?</strong></p>

<p>The RLI is a service of the RLS that maintains an index of logical file names

  (LFNs). For each LFN in the index, one or more LRCs are identified as maintaining

  a mapping between the LFN and the PFN but only at the LRC.</p>

<p><strong><a name="whatIsStorageElement"></a>What is a storage element?</strong></p>

<p>A storage element is a separate service (unrelated to the RLS) that maintains

  physical collections of data. Examples of storage elements include file systems,

  FTP or GridFTP servers, and database management systems.</p>

<p><strong><a name="whatIsLFN"></a>What is a Logical File Name (LFN)?</strong></p>

<p>The LFN is a logical name representing a collection of semantically equivalent

  physical files which may be dispersed at any number of storage elements.</p>

<p><strong><a name="whatIsPFN"></a>What is a Physical File Name (PFN)?</strong></p>

<p>The PFN is a name representing a physical element of data. PFNs may take the

  form of file names, URIs, or any other identifier meaningful to a storage element.</p>

<p><strong><a name="wsrfRLS"></a>Is there or will there be a WSRF RLS?</strong></p>

<p>The Globus RLS team is planning a WSRF RLS implementation following the GT

  4.0 release to comply with the OGSA Replication (OREP) standard currently being

  developed. It is important to note that at this time we do not forsee an end

  of support for the current implementation of the RLS. We welcome <a href="#gettingSupportRLS">your

  input</a>  and involvement in this process.</p>

<p><strong><a name="interfaceRLS"></a>What interfaces exists for the RLS?</strong></p>

<p>The RLS provides administrative and client command-line interfaces, a C API,

  and a Java API (JNI wrapper to the C API).</p>

<h2><a name="gettingStartedRLS"></a>Getting started with RLS</h2>

<ul>

  <li><a href="#downloadRLS">Where can I find the official RLS download page?</a></li>

  <li><a href="#stableRLS">What is the most recent, stable, and supported release of RLS?</a></li>

  <li><a href="#supportedPlatforms">What platforms are supported?</a></li>

  <li><a href="#supportedDatabases">What databases management systems are supported?</a></li>

  <li><a href="#recommendedDatabase">Which database do you recommend?</a></li>

  <li><a href="#supportedDbManagersDrivers">What database managers and drivers are supported?</a></li>

  <li><a href="#requiredVersionGT">Which Globus Toolkit is required?</a></li>

  <li><a href="#64bitPlatforms">Does RLS support 64-bit platforms?</a></li>

  <li><a href="#performance">What kind of performance can I expect from RLS?</a></li>

  <li><a href="#productionEnvironmentScale">At what scale has RLS been deployed in production environments?</a></li>

  <li><a href="#noHostCertificates">I don&rsquo;t have host certificates, how

  do I use RLS?</a></li>

  <li><a href="#RLSClients">How many clients can RLS support simultaneously?</a></li>

  <li><a href="#systemRequirements">What are the system requirements for deploying RLS?</a></li>

  <li><a href="#runningSubOptimal">Can I run RLS on a box with CPU speed X and memory Y?</a></li>

  <li><a href="#multinodes">Can RLS be replicated between two servers for failover protection?</a></li>

</ul>

<p><a name="downloadRLS"></a><strong>Where can I find the official RLS download page?</strong></p>

<p>Various download links are available <a href="index.html">here</a>.</p>

<p><strong><a name="stableRLS"></a>What is the most recent, stable, and supported release of RLS?</strong></p>

<p>Stable, supported releases include:</p>

<ul>

  <li>RLS 2.2 (for use with GT 3.2)</li>

  <li>RLS 2.1.5 (for use with GT 2.4)</li>

</ul>

<p><strong>Note:</strong> RLS 2.2 and 2.15 provide the same functionality, with the only difference

being the support GT release.</p>

<p><strong><a name="supportedPlatforms" id="supportedPlatforms"></a>What platforms are supported?</strong></p>

<p>The RLS is expected to work well with Linux and most UNIX variants. The Globus

  RLS team is most familiar working with RedHat, Solaris, and Debian.</p>

<p><strong><a name="supportedDatabases"></a>What database management systems

    are supported?</strong></p>

<p>The RLS supports certain versions of MySQL, PostgreSQL, and Oracle* database

  management systems.</p>

<p>* Please note that Oracle support is relatively new. We would appreciate <a href="#gettingSupportRLS">comments

  and feedback</a> from individuals working with Oracle-based deployments.</p>

<p><strong><a name="recommendedDatabase"></a>Which database do you recommend?</strong></p>

<p>We recommend using MySQL 4.0.1 (and above) or Postgres 7.2.3 (and above).

  The Globus RLS team is most familiar working with the MySQL database management

  system.</p>

<p><strong><a name="supportedDbManagersDrivers"></a>What database managers and drivers are supported?</strong></p>

<p>The RLS supports certain versions of iODBC, MyODBC and psqlODBC. </p>

<p>The Globus

    RLS team is most familiar with  the following versions:</p>

<ul>

  <li> iODBC version 3.0.5</li>

  <li> MyODBC version 3.52</li>

  <li> psqlODBC 7.2.5.</li>

</ul>

<p><strong><a name="requiredVersionGT"></a>Which Globus Toolkit is required?</strong></p>

<p>If your environment is based on GT 2.4, use RLS 2.1.5 release. If your environment

  is based on GT 3.2, use RLS 2.2 release.</p>

<p><strong><a name="64bitPlatforms"></a>Does RLS support 64-bit platforms?</strong></p>

<p>Currently, RLS is supported on 32-bit platforms only. Testing and evaluation

  on 64-bit platforms is pending. Please contact us at <a href="mailto:discuss@globus.org">discuss@globus.org</a> if

  you are interested in a 64-bit deployment of RLS.</p>

<p><strong><a name="performance"></a>What kind of performance can I expect from RLS?</strong></p>

<p>The Globus RLS team conducted performance tests and published the results

as of early 2004. Please see <a href="http://www.isi.edu/%7Eannc/papers/chervenakhpdc13.pdf" target="_blank">http://www.isi.edu/~annc/papers/chervenakhpdc13.pdf</a>.</p>

<p><strong><a name="productionEnvironmentScale"></a>At what scale has RLS been deployed in production environments?</strong></p>

<p>Typical deployments involve 10 or fewer servers and range up to 10s of millions

  of mappings.</p>

<p><strong><a name="noHostCertificates"></a>I don&rsquo;t have host certificates, how do I use RLS?</strong></p>

<p>The RLS may be deployed without authentication enabled. </p>

<p>To startup the RLS

  server without authentication use the <code>-N</code> option. For example,

  from the command-line, run:</p>

<pre>$GLOBUS_LOCATION/bin/globus-rls-server -N</pre>

<p>Consequently, to connect to the RLS via one of the client interfaces, use

  the <code>rlsn</code> protocol.

  For example, from the command-line, run:</p>

<pre>$GLOBUS_LOCATION/bin/globus-rls-admin -p rlsn://&lt;your server&gt;</pre>

<p><strong><a name="RLSClients"></a>How many clients can RLS support simultaneously?</strong></p>

<p>By default, the RLS is configured to accept up to 100 concurrent client connections.</p>

<p><strong><a name="systemRequirements"></a>What are the system requirements for deploying RLS?</strong></p>

<p>On x86 architecture, a minimum of 1GHz CPU and 1 GB RAM should be used for

  deployments managing thousands of mappings. </p>

<p>For larger deployments, we recommend

    Dual 1 GHz CPUs and 2+ GB RAM. </p>

<p>Disk space will be dependent upon the scale

      of your local replica catalog.</p>

<p><strong><a name="runningSubOptimal"></a>Can I run RLS on a box with CPU speed X and memory Y?</strong></p>

<p>Occasionally, we receive support requests for an RLS deployed on a sub-optimal

  system &ndash; one that does not meet the recommended (or even minimum) system

  requirements. Please understand that operating the RLS on a sub-optimal system

  may significantly degrade the performance of your system. <strong>We strongly advise

  users to deploy RLS on systems meeting the <a href="#systemRequirements">minimum

  requirements</a>.</strong> In addition,

  proper capacity planning for your RLS deployment will help to ensure acceptable

  performance and reliability of your system.</p>

<p><strong><a name="multinodes"></a>Can RLS be replicated between two servers for failover protection?</strong></p>

<p>At present, the RLS may be deployed on a single node only. Suggestions for

  improving fault-tolerance for your system include:</p>

<ul>

  <li> deploy RLS and your RDBMS on separate nodes.</li>

  <li> deploy your RDBMS in a clustered configuration, if supported.</li>

  <li> run a backup RLS and use scripts (e.g., a cron job) to duplicate your

    mappings on the backup machine.</li>

</ul>

<h2><a name="gettingSupportRLS"></a>Getting support for RLS</h2>

<ul>

  <li><a href="#mailingList">How can I get support for my RLS related questions?</a></li>

  <li><a href="#submitBug">How can I submit a bug?</a></li>

  <li><a href="#informationBug">What information should I include along with my bug submission?</a></li>

</ul>

<p><a name="mailingList"></a><strong>How can I get support for my RLS related questions?</strong></p>

<p>Subscribe and submit your questions to <a href="mailto:discuss@globus.org">discuss@globus.org</a> or <a href="mailto:developer-discuss@globus.org">developer-discuss@globus.org</a>.</p>

<p><strong><a name="submitBug"></a>How can I submit a bug?</strong></p>

<p>Search for and submit bugs at <a href="http://bugzilla.globus.org/bugzilla" target="_blank">http://bugzilla.globus.org/bugzilla</a>.</p>

<p><strong><a name="informationBug"></a>What information should I include along with my bug submission?</strong></p>

<p>Please include as much detail as you can to help us resolve your issue. We

  ask that, at a minimum, you include all of the following information if possible:</p>

<ol>

  <li> RLS version</li>

  <li> Operating System

    <ol>

      <li type="a"> OS name and version</li>

      <li type="a"> GLIBC version</li>

      <li type="a"> Pthread Lib version</li>

    </ol>

  </li>

  <li> Database

    <ol>

      <li type="a"> RDBMS name and version</li>

      <li type="a"> ODBC Manager name and version</li>

      <li type="a"> DB Driver name and version</li>

    </ol>

  </li>

  <li> Globus Toolkit

    <ol>

      <li type="a"> GT version</li>

      <li type="a"> Globus IO library version</li>

    </ol>

  </li>

  <li> RLS Configuration information</li>

  <li> If the problem can be reproduced, a test case (Any set of interactions

      with the server which causes it to hang)</li>

</ol>

<p>Additionally, if the bug is severe (involving a hang or crash) it may be helpful

to attach:</p>

<ol start="8">

  <li>RLS log file</li>

  <li> GDB stack trace</li>

</ol>

<h2><a name="generalUsage"></a>General usage</h2>

<ul>

  <li><a href="#configureRLS">How do I change the RLS default configuration?</a></li>

  <li><a href="#restartingRLS">Do I have to restart RLS in order for configuration changes to take

    effect?</a></li>

  <li><a href="#clientSideTimeouts">How can I increase client side timeouts?</a></li>

  <li><a href="#logfile">Where is the RLS log file?</a></li>

  <li><a href="#logmessage">Where are the RLS log messages when the server is

      started in debug mode (using the <code>-d</code> option)?</a></li>

  <li><a href="#casesensitive">Are the LFNs, PFNs and associated attributes that are maintained by the

    RLS case sensitive?</a></li>

</ul>

<p><strong><a name="configureRLS"></a>How do I change the RLS default configuration?</strong></p>

<table width="650" border="1" cellpadding="5" cellspacing="0">

  <tr>

    <td valign="top">1</td>

    <td><p>Locate the RLS configuration file:</p>

      <pre>$GLOBUS_LOCATION/etc/globus-rls-server.conf</pre>

      <p>You will find the complete list of parameter names and default values

    towards the bottom of the file.</p></td>

  </tr>

  <tr>

    <td valign="top">2</td>

    <td><p>To change any value from the default, un-comment the parameter

        by deleting the '#' at the beginning and changing the value of the parameter.

        </p>

      <p>We recommend copying the parameter to the top of the file so that the

    change is immediately visible.</p></td>

  </tr>

</table>

<p><strong><a name="restartingRLS"></a>Do I have to restart RLS in order for configuration changes to take effect?</strong></p>

<p>To change a configuration value at runtime you may use the <code>-C</code> option

  of the <code>globus-rls-admin</code> client. For a description of this command,

  please see the globus-rls-admin usage instructions. </p>

<p>Please note that configuration

    options changed during runtime will NOT change the <code>globus-rls-server.conf</code> settings,

    you <strong>must</strong> separately change the permanent configuration.</p>

<p><strong><a name="clientSideTimeouts"></a>How can I increase client side timeouts?</strong></p>

<p>If for any reason you need to increase the client timeouts, use the <code>-t &lt;timeout

  value&gt;</code> option. You may use this option with the <code>globus-rls-cli</code> and

  <code>globus-rls-admin</code> clients.</p>

<p><strong><a name="logfile"></a>Where is the RLS log file?</strong></p>

<p>The

      RLS server logs messages through syslog using the LOG_DAEMON facility.

      If you do not find the log messages in the default syslog location, you

      should check your syslog configuration. You will <strong>not</strong> find a separate log

file for RLS.</p>

<p><strong><a name="logmessage"></a>Where are the RLS log messages when the server

    is started in debug mode (using the <code>-d</code> option)? </strong></p>

<p>When

      the RLS server is started in debug mode, by using the <code>-d</code> command-line

      option, the log messages are displayed directly to the user console and

are <strong>not</strong> sent to the syslog.</p>

<p><strong><a name="casesensitive"></a>Are the LFNs, PFNs and associated attributes that are maintained by the

    RLS case sensitive?</strong></p>

<p>Case

      sensitivity is dependent upon the underlying database management system.

      In the case of MySQL, string comparisons are performed case-insensitive,

      while Oracle performs case-sensitive string comparisons. Presently, the

RLS makes no attempt to enforce case-sensitivity.</p>

<h2><a name="usingRLI"></a>Using the RLI index</h2>

<ul>

  <li><a href="#immediateMode">What is &ldquo;immediate mode&rdquo;?</a></li>

  <li><a href="#changeUpdateIntervals">How can I change the update/expire intervals while using LFN list

    updates?</a></li>

  <li><a href="#bloomFilters">What are Bloom filters?</a></li>

  <li><a href="#LFNorBloom">Should I use LFN lists or Bloom filters?</a></li>

  <li><a href="#configureLRC">How can I configure the LRC to send updates to RLIs using Bloom filters?</a></li>

  <li><a href="#configureRLI">How can I configure the RLI to accept bloom filters sent from LRCs?</a></li>

  <li><a href="#saveBloomFilters">How can I save Bloom filters for faster RLI startup?</a></li>

  <li><a href="#doesBloomNeedRLIDB">If I use Bloom filters, do I need an RLI database?</a></li>

  <li><a href="#disadvantagesBloomFilter">Are there any disadvantages to using Bloom filter (compressed) updates?</a></li>

  <li><a href="#stoppingLRC">How do I stop an LRC from sending updates to an RLI?</a></li>

  <li><a href="#statisticsRLS">How can I find out if my LRC is sending updates to any RLIs or whether

    my RLI has accepted updates from any LRCs?</a></li>

</ul>

<p><a name="immediateMode"></a><strong>What is &ldquo;immediate mode&rdquo;?</strong></p>

<p>When configured for &ldquo;immediate mode&rdquo;, the LRC updates the RLI

  as soon as <strong>one</strong> of the following happens: </p>

<ol>

  <li> About 100 mappings have been added

        to the LRC.</li>

  <li>30 seconds have elapsed since the latest mapping has been

          added to the LRC.</li>

</ol>

<p>When not configured for &ldquo;immediate mode&rdquo;, the LRC would update

the RLI with all of its LFNs only once every day (by default).</p>

<p>The 30 seconds mentioned above is controlled by the <code>update_buftime</code> parameter

  in the configuration file. If you want to change this without shutting down

the server, you can use:</p>

<pre>globus-rls-admin -C update_buftime &lt;new value&gt; rls://&lt;your server&gt;</pre>

<p>Be careful when setting this value, because changing this to a really low

  value could result in the LRC sending several small updates to the RLI when

it is under heavy load. This is likely to be inefficient.</p>

<p><strong><a name="changeUpdateIntervals"></a>How can I change the update/expire intervals while using LFN list updates?</strong></p>

<p>The update interval at the LRC and the expire interval at the RLI are interrelated.

  The expire interval at the RLI should be <strong>equal to or greater

  than</strong> the update

  interval at the LRC. This ensures that a new full update will be sent to the

  RLI <strong>before</strong> it expires stale entries in its database.</p>

<p>The following example illustrates the LRC and RLI settings.</p>

<p>At the LRC:</p>

<pre>update_ll_int 3600</pre>

<p> Full LFN list updates are sent every hour (3600 seconds)</p>

<pre>update_factor 1</pre>

<p> This ensures that the <code>update_ll_int</code> above is not multiplied

  (multiplied by 1, actually). The multiplication happens when <code>update_immediate</code> is

  set to <code>true</code>.

  In this case we want immediate updates, but we also want to send a full update

  every hour.</p>

<p>At the RLI:</p>

<pre>rli_expire_stale 3600</pre>

<p> Now, the RLI will expire stale entries every hour. This can be changed to

  a higher value if you wish.</p>

<pre>rli_expire_int 1800</pre>

<p> The thread which checks for stale entries will now be run every 30 minutes.

  This interval should be <strong>less</strong> than the <code>rli_expire_stale

  int</code> value to ensure

  that entries are expired on time.</p>

<p><strong><a name="bloomFilters"></a>What are Bloom filters?</strong></p>

<p>The Bloom filter algorithm provides an efficient way to perform a membership

  test. The caveat when using Bloom filters is that they allow for a small chance

  (~1%) of false positives. In the context of the RLS, Bloom filters are used

  to efficiently send updates from a LRC to a RLI. The RLI uses the Bloom filter

  to check for the existence of a LFN in one of its corresponding LRCs. We also

  refer to this as &ldquo;compressed&rdquo; updates because the Bloom filter

  only requires 1 bit of memory for every LFN.</p>

<p><strong><a name="LFNorBloom"></a>Should I use LFN lists or Bloom filters?</strong></p>

<p>We recommend using Bloom filters when the LRC manages a large scale of LFNs &ndash; in

  the order of a few hundred thousand or more. Large scale users of RLS will

  find that using Bloom filters significantly reduces the memory usage at the

  LRC node and reduces the processor consumption when sending updates to RLIs.</p>

<p><strong><a name="configureLRC"></a>How can I configure the LRC to send updates to RLIs using Bloom filters?</strong></p>

<p>Use the <code>-A &lt;rli url&gt;</code> option of the <code>globus-rls-admin</code> tool.</p>

<p><strong><a name="configureRLI"></a>How can I configure the RLI to accept bloom filters sent from LRCs?</strong></p>

<p>In the RLS configuration file (<code>$GLOBUS_LOCATION/etc/globus-rls-server.conf</code>),

  find the <code>rli_bloomfilter</code> property. It should be commented out

  (remove the # at the beginning of the line) and have a value of <code>false</code>.

  Create an entry in the file as <code>rli_bloomfilter

  true</code>. Next time you restart the RLI, it will begin accepting Bloom

  filter updates from LRCs.</p>

<p><strong><a name="saveBloomFilters"></a>How can I save Bloom filters for faster RLI startup?</strong></p>

<p>In the RLS configuration file (<code>$GLOBUS_LOCATION/etc/globus-rls-server.conf</code>),

  find the <code>rli_bloomfilter_dir</code> property. It should be commented

  out (remove the # at the beginning of the line) and have a value of <code>none</code>.

  Create an entry in the file as:</p>

<pre>rli_bloomfilter_dir &lt;path to a valid dir&gt;</pre>

<p>Next time you restart the RLI, it will save

        Bloom filters from LRCs and upon subsequent restarts it will load the

  Bloom filters from the specified directory.</p>

<p><strong><a name="doesBloomNeedRLIDB"></a>If I use Bloom filters, do I need an RLI database?</strong></p>

<p>Yes. The RLI uses the database to maintain other important information.</p>

<p><strong><a name="disadvantagesBloomFilter"></a>Are there any disadvantages to using Bloom filter (compressed) updates?</strong></p>

<p>Despite the significant advantages of using Bloom filter (or &ldquo;compressed&rdquo;)

  updates, there are two disadvantages that should be understood when using them.  </p>

<ul>

  <li> <strong>False Positives:</strong> There is a small chance (~1%) of getting a false positive

        when querying the RLI for an LFN. When developing RLS client applications,

        we recommend that the client validate that the LRC does contain the LFN. </li>

  <li> <strong>Wildcards Not Supported:</strong> Because of the nature of the

    Bloom filter membership test, it is not possible to support wildcard queries

    when using the Bloom filters.</li>

</ul>

<p><strong><a name="stoppingLRC"></a>How do I stop an LRC from sending updates to an RLI?</strong></p>

<p>Use the <code>-d &lt;rli url&gt;</code> option of the <code>globus-rls-admin</code> tool

  to remove an RLI from the list of RLIs that the LRC updates.</p>

<p><strong><a name="statisticsRLS"></a>How can I find out if my LRC is sending updates to any RLIs or whether my

  RLI has accepted updates from any LRCs?</strong></p>

<p>Use the <code>-S</code> option of the <code>globus-rls-admin</code> tool

  to show statistics of the RLS.</p>

<p>&nbsp; </p>

<?php include("/mcs/www-unix.globus.org/include/globus_footer.inc"); ?>